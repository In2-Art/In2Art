{"version":3,"file":"140.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACiD;AACb;AACQ;AAE8B;AAElB;AACqB;AAElB;;;;;;;;;;;;;;;;ICLnDQ,uDAAA,eAAgE;;;;IAAzDA,wDAAA,QAAAG,OAAA,EAAAH,2DAAA,CAAY;;;;;IAJzBA,4DAAA,iBAA8B;IAC5BA,uDAAA,yBAA0D;;IAC1DA,4DAAA,oBAAmG;IACjGA,wDAAA,IAAAO,sDAAA,yBAAuC;IAGzCP,0DAAA,EAAa;IACbA,uDAAA,yBAA0D;;IAC5DA,0DAAA,EAAU;;;;IAPSA,uDAAA,EAAsB;IAAtBA,wDAAA,SAAAA,yDAAA,OAAAW,MAAA,CAAAC,KAAA,EAAsB;IAC3BZ,uDAAA,GAAoB;IAA0CA,wDAA9D,UAAAW,MAAA,CAAAE,UAAA,CAAoB,mBAAAF,MAAA,CAAAE,UAAA,CAAAC,MAAA,KAAyC,yBAAyB;IAKjFd,uDAAA,GAAsB;IAAtBA,wDAAA,SAAAA,yDAAA,OAAAW,MAAA,CAAAC,KAAA,EAAsB;;;;;IAGzCZ,4DAAA,aAAyB;IACvBA,uDAAA,2BAAqG;IACvGA,0DAAA,EAAM;;;IADeA,uDAAA,EAA6C;IAA7CA,wDAAA,CAAAA,6DAAA,IAAAiB,GAAA,EAA6C;;;ADM7D,IAAMC,iBAAiB;EAAxB,MAAOA,iBAAiB;IAO5BC,YACUC,KAAqB,EACtBC,KAA+B;MAD9B,KAAAD,KAAK,GAALA,KAAK;MACN,KAAAC,KAAK,GAALA,KAAK;MAPd,KAAAR,UAAU,GAAa,EAAE;MAEzB,KAAAD,KAAK,GAAiC,IAAI,CAACS,KAAK,CAACC,MAAM,CAACxB,kEAAU,CAAC;MACnE,KAAAyB,UAAU,GAAwB,IAAI,CAACF,KAAK,CAACC,MAAM,CAACzB,2EAAmB,CAAC;MAMtE,IAAI,CAACuB,KAAK,CAACI,MAAM,CAACC,SAAS,CAAED,MAAM,IAAI;QACrC,IAAI,CAACE,MAAM,GAAGF,MAAM,CAAC,IAAI,CAAC;MAC5B,CAAC,CAAC;MACF,IAAI,CAACG,WAAW,GAAG5B,yEAAS,CAAeJ,8DAAI,CAAC;IAClD;IAEMiC,QAAQA,CAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,sJAAA;QACZD,KAAI,CAACR,KAAK,CAACU,QAAQ,CAACnC,sEAAa,CAAC;UAAE8B,MAAM,EAAEG,KAAI,CAACH;QAAM,CAAE,CAAC,CAAC;QAC3DG,KAAI,CAACjB,KAAK,CAACa,SAAS,CAAEO,IAAI,IAAI;UAC5B,IAAIA,IAAI,EAAE;YACRH,KAAI,CAACI,WAAW,CAACD,IAAI,CAACE,SAAS,CAAC;;QAEpC,CAAC,CAAC;MAAC;IACL;IAEMD,WAAWA,CAACC,SAAsB;MAAA,IAAAC,MAAA;MAAA,OAAAL,sJAAA;QACtCpC,8CAAQ,CACNwC,SAAS,CAACE,GAAG,CAAEC,IAAI,IAAI;UACrB,OAAOF,MAAI,CAACR,WAAW,CAACW,uBAAuB,CAAC;YAC9CC,MAAM,EAAEF,IAAI,CAACE,MAAM;YACnBC,aAAa,EAAEH,IAAI,CAACG,aAAa;YACjCC,EAAE,EAAEJ,IAAI,CAACI;WACV,CAAC;QACJ,CAAC,CAAC,CACH,CAAChB,SAAS,CAAEiB,IAAc,IAAI;UAC7BP,MAAI,CAACtB,UAAU,GAAG6B,IAAI;QACxB,CAAC,CAAC;MAAC;IACL;IAAC,QAAAC,CAAA;uBAtCUzB,iBAAiB,EAAAlB,+DAAA,CAAA6C,2DAAA,GAAA7C,+DAAA,CAAA8C,+CAAA;IAAA;IAAA,QAAAC,EAAA;YAAjB7B,iBAAiB;MAAA8B,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UClB9BtD,wDAAA,IAAAwD,wCAAA,qBAAsC;;UAUpCxD,wDAAA,IAAAyD,wCAAA,OAAO;;;UAVTzD,2DAAA,IAAAA,yDAAA,OAAAuD,GAAA,CAAAhC,UAAA,oBAcC;;;;;;;SDIYL,iBAAiB;AAAA;;;;;;;;;;;;;;;;;;;AEjByB;AACc;AAEL;AAC7B;;;;AAEnC,MAAM4C,MAAM,GAAW,CACrB;EACEC,IAAI,EAAEF,6CAAI,CAACG,EAAE;EACbC,SAAS,EAAE/C,yEAAiBA;CAC7B,CACF;AAMM,IAAMgD,iBAAiB;EAAxB,MAAOA,iBAAiB;IAAA,QAAAvB,CAAA;uBAAjBuB,iBAAiB;IAAA;IAAA,QAAAnB,EAAA;YAAjBmB;IAAiB;IAAA,QAAAC,EAAA;gBAHlBR,yDAAY,CAACS,QAAQ,CAACN,MAAM,CAAC,EAAEF,+EAAoB,CAACQ,QAAQ,CAACN,MAAM,CAAC,EACpEH,yDAAY;IAAA;;SAEXO,iBAAiB;AAAA;;sHAAjBA,iBAAiB;IAAAG,OAAA,GAAAxB,yDAAA,EAAAC,+EAAA;IAAAwB,OAAA,GAFlBX,yDAAY;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;ACfuB;AACW;AACM;AACc;AAC5B;AACkC;AACpB;AACoB;;AAc7E,IAAMkB,UAAU;EAAjB,MAAOA,UAAU;IAAA,QAAAlC,CAAA;uBAAVkC,UAAU;IAAA;IAAA,QAAA9B,EAAA;YAAV8B;IAAU;IAAA,QAAAV,EAAA;gBATnBI,yDAAY,EACZL,mEAAiB,EACjBM,wFAAiB,EACjBC,4DAAc,EACdC,8FAAmB,EACnBC,0EAAqB,EACrBC,8FAAmB;IAAA;;SAGVC,UAAU;AAAA;;sHAAVA,UAAU;IAAAC,YAAA,GAXN5D,yEAAiB;IAAAmD,OAAA,GAE9BE,yDAAY,EACZL,mEAAiB,EACjBM,wFAAiB,EACjBC,4DAAc,EACdC,8FAAmB,EACnBC,0EAAqB,EACrBC,8FAAmB;EAAA;AAAA","sources":["./src/app/pages/post/components/post.component.ts","./src/app/pages/post/components/post.component.html","./src/app/pages/post/post-routing.module.ts","./src/app/pages/post/post.module.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { forkJoin, Observable } from 'rxjs';\n\nimport { IPostFile, IPostFull, Post } from '@ApiClient/backend/Post/post';\n\nimport { getPostAction } from '@store/post/post.action';\nimport { selectIsLoadingPost, selectPost } from '@store/post/post.selectors';\nimport { AppStateInterface } from '@store/app/app-state.interface';\nimport { ToService } from '@ApiClient/helpers/observables';\nimport { IPostService } from '@ApiClient/services/post';\n\n@Component({\n  selector: 'app-post-page',\n  templateUrl: './post.component.html',\n  styleUrl: './post.component.scss',\n})\nexport class PostPageComponent implements OnInit {\n  postId!: string;\n  imageLinks: string[] = [];\n  postService: IPostService;\n  post$: Observable<IPostFull | null> = this.store.select(selectPost);\n  isLoading$: Observable<boolean> = this.store.select(selectIsLoadingPost);\n\n  constructor(\n    private route: ActivatedRoute,\n    public store: Store<AppStateInterface>,\n  ) {\n    this.route.params.subscribe((params) => {\n      this.postId = params['id'];\n    });\n    this.postService = ToService<IPostService>(Post);\n  }\n\n  async ngOnInit() {\n    this.store.dispatch(getPostAction({ postId: this.postId }));\n    this.post$.subscribe((post) => {\n      if (post) {\n        this.setUpImages(post.postFiles);\n      }\n    });\n  }\n\n  async setUpImages(postFiles: IPostFile[]) {\n    forkJoin(\n      postFiles.map((file) => {\n        return this.postService.getUrlPostFileThumbnail({\n          fileId: file.fileId,\n          userCreatorId: file.userCreatorId,\n          id: file.id,\n        });\n      }),\n    ).subscribe((urls: string[]) => {\n      this.imageLinks = urls;\n    });\n  }\n}\n","@if ((isLoading$ | async) === false) {\n  <article class=\"post-wrapper\">\n    <app-post-header [post]=\"post$ | async\"></app-post-header>\n    <p-galleria [value]=\"imageLinks\" [showIndicators]=\"imageLinks.length > 1\" [showThumbnails]=\"false\">\n      <ng-template pTemplate=\"item\" let-item>\n        <video [src]=\"item\" style=\"width: 100%; display: block\"></video>\n      </ng-template>\n    </p-galleria>\n    <app-post-footer [post]=\"post$ | async\"></app-post-footer>\n  </article>\n} @else {\n  <div class=\"post-loader\">\n    <p-progressSpinner [style]=\"{ width: '200px', height: '200px' }\" strokeWidth=\"4\"></p-progressSpinner>\n  </div>\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LocalizeRouterModule } from '@gilsdav/ngx-translate-router';\n\nimport { PostPageComponent } from './components/post.component';\nimport { URLS } from '@enums/urls';\n\nconst routes: Routes = [\n  {\n    path: URLS.ID,\n    component: PostPageComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes), LocalizeRouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PostRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PostRoutingModule } from './post-routing.module';\nimport { PostPageComponent } from './components/post.component';\nimport { PostCardComponent } from '@components/post-card/post-card.component';\nimport { GalleriaModule } from 'primeng/galleria';\nimport { PostHeaderComponent } from '@components/post-header/post-header.component';\nimport { ProgressSpinnerModule } from 'primeng/progressspinner';\nimport { PostFooterComponent } from '@components/post-footer/post-footer.component';\n\n@NgModule({\n  declarations: [PostPageComponent],\n  imports: [\n    CommonModule,\n    PostRoutingModule,\n    PostCardComponent,\n    GalleriaModule,\n    PostHeaderComponent,\n    ProgressSpinnerModule,\n    PostFooterComponent,\n  ],\n})\nexport class PostModule {}\n"],"names":["ActivatedRoute","Store","forkJoin","Post","getPostAction","selectIsLoadingPost","selectPost","ToService","i0","ɵɵelement","ɵɵproperty","item_r1","ɵɵsanitizeUrl","ɵɵelementStart","ɵɵtemplate","PostPageComponent_Conditional_0_ng_template_4_Template","ɵɵelementEnd","ɵɵadvance","ɵɵpipeBind1","ctx_r1","post$","imageLinks","length","ɵɵstyleMap","ɵɵpureFunction0","_c0","PostPageComponent","constructor","route","store","select","isLoading$","params","subscribe","postId","postService","ngOnInit","_this","_asyncToGenerator","dispatch","post","setUpImages","postFiles","_this2","map","file","getUrlPostFileThumbnail","fileId","userCreatorId","id","urls","_","ɵɵdirectiveInject","i1","i2","_2","selectors","decls","vars","consts","template","PostPageComponent_Template","rf","ctx","PostPageComponent_Conditional_0_Template","PostPageComponent_Conditional_2_Template","ɵɵconditional","RouterModule","LocalizeRouterModule","URLS","routes","path","ID","component","PostRoutingModule","_3","forChild","imports","exports","CommonModule","PostCardComponent","GalleriaModule","PostHeaderComponent","ProgressSpinnerModule","PostFooterComponent","PostModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}