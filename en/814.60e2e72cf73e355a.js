"use strict";(self.webpackChunkspace=self.webpackChunkspace||[]).push([[814],{814:(pe,O,c)=>{c.r(O),c.d(O,{SpaceModule:()=>ce});var m=c(6895),u=c(6272),p=c(9671),r=c(4006),C=c(688),P=c(9858);class y{static getLanguageByName(i){return(0,p.Z)(function*(){return P.S.getByName(i)})()}static getLanguageIdByName(i){return(0,p.Z)(function*(){return P.S.getByName(i).then(t=>(console.log(t),t.result.id.value))})()}}var g=c(4365);class s extends g.m{static get urlRel(){return"space"}static get Museum(){return"Museum"}static getNewInstance(i){return new s(i)}static getNewInstanceArray(i){return i.map(t=>s.getNewInstance(t))}static getAll(){return(0,p.Z)(function*(){return g.r.getAll(s.urlRel,s.getNewInstanceArray)})()}static getByName(i){return(0,p.Z)(function*(){return g.r.getByName(s.urlRel,i,s.getNewInstance)})()}static getById(i){return(0,p.Z)(function*(){return g.r.getById(s.urlRel,i,s.getNewInstance)})()}static update(i,t){return(0,p.Z)(function*(){return t instanceof s||(t=new s(t)),g.r.update(s.urlRel,i,t,s.getNewInstance)})()}static delete(i){return(0,p.Z)(function*(){return g.r.delete(s.urlRel,i,s.getNewInstance)})()}}var b=c(3563),e=c(4650),f=c(6358),_=c(7753),x=c(2839),h=c(1208);const F=["input"];let E=(()=>{class o{constructor(){this.imageChangedEvent="",this.croppedImage="",this.canvasRotation=0,this.rotation=0,this.scale=1,this.showCropper=!1,this.containWithinAspectRatio=!1,this.transform={}}fileChangeEvent(t){this.imageChangedEvent=t}imageCropped(t){this.croppedImage=t.base64,console.log(t,(0,h.Ll)(t.base64))}imageLoaded(){this.showCropper=!0,console.log("Image loaded")}cropperReady(t){console.log("Cropper ready",t)}loadImageFailed(){console.log("Load failed")}rotateLeft(){this.canvasRotation--,this.flipAfterRotate()}rotateRight(){this.canvasRotation++,this.flipAfterRotate()}flipAfterRotate(){this.transform={...this.transform,flipH:this.transform.flipV,flipV:this.transform.flipH}}flipHorizontal(){this.transform={...this.transform,flipH:!this.transform.flipH}}flipVertical(){this.transform={...this.transform,flipV:!this.transform.flipV}}zoomOut(){this.scale-=.1,this.transform={...this.transform,scale:this.scale}}zoomIn(){this.scale+=.1,this.transform={...this.transform,scale:this.scale}}toggleContainWithinAspectRatio(){this.containWithinAspectRatio=!this.containWithinAspectRatio}updateRotation(){this.transform={...this.transform,rotate:this.rotation}}removePhoto(){this.input.nativeElement.value="",this.fileChangeEvent(null),this.croppedImage=null}mostrarBotons(){return!!this.input&&this.input.nativeElement.value}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-image-croper"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(F,5),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.input=a.first)}},decls:30,vars:28,consts:function(){let i,t,n,a,l,S,I,N,v,A,w;return i="Choose Your Image",t="Rotate left",n="Rotate right",a="Flip horizontal",l="Flip vertical",S=" " + "\ufffd0\ufffd" + " ",I="Remove photo",N="Rotation",v="Rotation",A="Zoom -",w="Zoom +",[["format","png",3,"imageChangedEvent","maintainAspectRatio","containWithinAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","onlyScaleDown","roundCropper","canvasRotation","transform","alignImage","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"boto-showcase"],[1,"image-cropper-btn"],["placeholder",i,"type","file",1,"btn","inputImage",3,"change"],["input",""],[1,"text-center","my-2"],[1,"croppedImage","shadow-4",3,"src"],[1,"boto","botoSecundari","botoPetit",3,"click"],t,n,a,l,S,[1,"boto","botoVermell","botoPetit",3,"click"],I,["for","rotation",1,"col-form-label"],N,["placeholder",v,"type","text","onlyNumbers","",1,"btn","ml-2",3,"ngModel","ngModelChange","keyup"],A,w]},template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"image-cropper",0),e.\u0275\u0275listener("imageCropped",function(l){return n.imageCropped(l)})("imageLoaded",function(){return n.imageLoaded()})("cropperReady",function(l){return n.cropperReady(l)})("loadImageFailed",function(){return n.loadImageFailed()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"input",3,4),e.\u0275\u0275listener("change",function(l){return n.fileChangeEvent(l)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275element(6,"img",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div")(8,"button",7),e.\u0275\u0275listener("click",function(){return n.rotateLeft()}),e.\u0275\u0275i18n(9,8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"button",7),e.\u0275\u0275listener("click",function(){return n.rotateRight()}),e.\u0275\u0275i18n(11,9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",7),e.\u0275\u0275listener("click",function(){return n.flipHorizontal()}),e.\u0275\u0275i18n(13,10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",7),e.\u0275\u0275listener("click",function(){return n.flipVertical()}),e.\u0275\u0275i18n(15,11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div")(17,"button",7),e.\u0275\u0275listener("click",function(){return n.toggleContainWithinAspectRatio()}),e.\u0275\u0275i18n(18,12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"button",13),e.\u0275\u0275listener("click",function(){return n.removePhoto()}),e.\u0275\u0275i18n(20,14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"div")(22,"label",15),e.\u0275\u0275i18n(23,16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"input",17),e.\u0275\u0275listener("ngModelChange",function(l){return n.rotation=l})("keyup",function(){return n.updateRotation()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div")(26,"button",7),e.\u0275\u0275listener("click",function(){return n.zoomOut()}),e.\u0275\u0275i18n(27,18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"button",7),e.\u0275\u0275listener("click",function(){return n.zoomIn()}),e.\u0275\u0275i18n(29,19),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275styleProp("display",n.showCropper?null:"none")("display",n.mostrarBotons()?"block":"none"),e.\u0275\u0275property("imageChangedEvent",n.imageChangedEvent)("maintainAspectRatio",!0)("containWithinAspectRatio",n.containWithinAspectRatio)("aspectRatio",1)("resizeToWidth",256)("cropperMinWidth",128)("onlyScaleDown",!0)("roundCropper",!1)("canvasRotation",n.canvasRotation)("transform",n.transform)("alignImage","left"),e.\u0275\u0275advance(5),e.\u0275\u0275styleProp("display",n.mostrarBotons()?"block":"none"),e.\u0275\u0275advance(1),e.\u0275\u0275property("src",n.croppedImage,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275styleProp("display",n.mostrarBotons()?"block":"none"),e.\u0275\u0275advance(9),e.\u0275\u0275styleProp("display",n.mostrarBotons()?"block":"none"),e.\u0275\u0275advance(2),e.\u0275\u0275i18nExp(n.containWithinAspectRatio?"Fill Aspect Ratio":"Contain Within Aspect Ratio"),e.\u0275\u0275i18nApply(18),e.\u0275\u0275advance(3),e.\u0275\u0275styleProp("display",n.mostrarBotons()?"block":"none"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",n.rotation),e.\u0275\u0275advance(1),e.\u0275\u0275styleProp("display",n.mostrarBotons()?"block":"none"))},dependencies:[r.Fj,r.JJ,r.On,h.ap],styles:[".btn[_ngcontent-%COMP%]{border-radius:20px}input.btn[_ngcontent-%COMP%], input.btn[_ngcontent-%COMP%]:hover{color:var(--color-text)}.btn-showcase[_ngcontent-%COMP%]{text-align:center}input.btn[_ngcontent-%COMP%]{border-color:inherit}.inputImage[_ngcontent-%COMP%]{margin:10px}.croppedImage[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:36px;width:100%;height:300px}[_nghost-%COMP%]     .overlay{outline:none!important}[_nghost-%COMP%]     .cropper{border-radius:10000px;outline-color:#2222224d!important}"]}),o})();const k=["uploadFileModal"],G=["imageCropper"],L=["SpaceTypes"];function $(o,i){1&o&&(e.\u0275\u0275elementStart(0,"div",32)(1,"h1",33),e.\u0275\u0275text(2,"show your artwork"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"h1",34),e.\u0275\u0275text(4,"show your artist"),e.\u0275\u0275elementEnd()())}function z(o,i){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"app-image-croper",null,28),e.\u0275\u0275elementEnd())}function B(o,i){1&o&&(e.\u0275\u0275elementStart(0,"div",38)(1,"h1",39),e.\u0275\u0275text(2,"Logo"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"h1",40),e.\u0275\u0275text(4,"Tipo"),e.\u0275\u0275elementEnd()())}function D(o,i){if(1&o&&(e.\u0275\u0275elementStart(0,"div",35),e.\u0275\u0275element(1,"app-foto-perfil",36),e.\u0275\u0275template(2,B,5,0,"div",37),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("user",t.main.apiHelpers.currentUser),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isLogoSetted)}}function U(o,i){if(1&o&&(e.\u0275\u0275elementStart(0,"option",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=i.$implicit;e.\u0275\u0275propertyInterpolate("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name)}}let X=(()=>{class o{constructor(t,n,a){this.main=t,this.fb=n,this.modalService=a,this.zoom=17,this.center={lat:41.98858206243067,lng:2.8248344256478495},t.newPage(this),this.form=this.fb.group({name:["",r.kI.required],spaceType:["",r.kI.required],description:[""],url:[""],ubication:[""]})}ngOnInit(){var t=this;return(0,p.Z)(function*(){t.spaceTypes=yield t.initSpaceType(),console.log("")})()}initSpaceType(){return(0,p.Z)(function*(){let t=[];return t=yield s.getAll().then(n=>n.data),t})()}onSelectedItem(){this.optionValue=this.spaceType.nativeElement.value}createNewSpace(){var t=this;return(0,p.Z)(function*(){let a,n=yield t.newSpaceConfig();(yield n.isOk())?C.T.post(n).then(l=>{200==l.status?(t.main.toastSuccess("New Space created!"),console.log("res we get: ",l)):(t.main.toastDanger("Something went wrong, please try again later"),console.log("res we get: ",l))}):(a=yield n.check(),console.log("errors: ",a))})()}newSpaceConfig(){var t=this;return(0,p.Z)(function*(){let n=new C.T({latitude:null,longitude:null,logo:t.getFileLocal()||null,banner:t.getFileLocal()||null,spaceTypeId:new b.r(t.optionValue),languages:[new C.R$({name:t.form.controls.name.value,description:t.form.controls.description.value||null,url:t.form.controls.url.value||null,languageId:yield y.getLanguageIdByName(t.main.getLocale())})]});return console.log("New Space: ",n),n})()}getFileLocal(){}cancelNewSpace(){this.main.goToHome()}uploadBannerIMG(){}uploadLogoIMG(){}openUploadFileModal(){this.modalService.open(this.uploadFileModal,{size:"lg",modalClass:"uploadFileModal",backdropClass:"modal-backdrop",hideCloseButton:!1,centered:!0,backdrop:!0,animation:!0,keyboard:!0,closeOnOutsideClick:!1})}closeUploadFileModal(t){t&&this.form.controls.photo.setValue(this.imageCropper.croppedImage),this.modalService?.close(this.uploadFileModal)}moveMap(t){null!=t.latLng&&(this.display=t.latLng.toJSON())}move(t){null!=t.latLng&&(this.display=t.latLng.toJSON())}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(f.J),e.\u0275\u0275directiveInject(r.qu),e.\u0275\u0275directiveInject(_.gk))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-new-space"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(k,5),e.\u0275\u0275viewQuery(G,5),e.\u0275\u0275viewQuery(L,5)),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.uploadFileModal=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.imageCropper=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.spaceType=a.first)}},decls:40,vars:5,consts:function(){let i,t;return i="Close",t="Save",[[1,"content"],[1,"hero-banner",3,"click"],["class","hero-txt",4,"ngIf"],[4,"ngIf"],["class","new-profilePhoto",4,"ngIf"],[1,"container"],[1,"row"],[1,"formSpace","col-sm",3,"formGroup"],[1,"formSpaceUp"],[1,"row","no-gutters","nameSpace"],["type","text","formControlName","name","placeholder","Institution Name",1,"form-camp"],[1,"row","no-gutters","spaceType"],["formControlName","spaceType",1,"form-camp",3,"change"],["SpaceTypes",""],[3,"value",4,"ngFor","ngForOf"],[1,"row","no-gutters","description"],["formControlName","description","placeholder","Description",1,"form-camp",2,"resize","unset"],[1,"row","no-gutters","urlForm"],["type","text","formControlName","url","placeholder","Url",1,"form-camp"],[1,"row","no-gutters","ubicationForm"],["type","text","formControlName","ubication","placeholder","Ubication",1,"form-camp"],[1,"maps","col-sm"],[1,"col-sm","newButtons"],[1,"cancel","boing",3,"click"],[1,"add","boing",3,"click"],["id","uploadFileModal",1,"uploadFileModal"],["uploadFileModal",""],["ii18n","Upload Logo"],["imageCropper",""],[1,"boto","botoPrincipal","botoGran",3,"click"],i,t,[1,"hero-txt"],[1,"txtArtwork"],[1,"txtArtist"],[1,"new-profilePhoto"],[3,"user"],["class","logoDot",4,"ngIf"],[1,"logoDot"],[1,"upperTxt"],[1,"bottomTxt"],[3,"value"]]},template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275listener("click",function(){return n.openUploadFileModal()}),e.\u0275\u0275template(2,$,5,0,"div",2),e.\u0275\u0275template(3,z,3,0,"div",3),e.\u0275\u0275template(4,D,3,2,"div",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",8)(9,"div",9),e.\u0275\u0275element(10,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",11)(12,"select",12,13),e.\u0275\u0275listener("change",function(){return n.onSelectedItem()}),e.\u0275\u0275template(14,U,2,2,"option",14),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(15,"div",15),e.\u0275\u0275element(16,"textarea",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",17),e.\u0275\u0275element(18,"input",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",19),e.\u0275\u0275element(20,"input",20),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(21,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",6)(23,"div",22)(24,"button",23),e.\u0275\u0275listener("click",function(){return n.cancelNewSpace()}),e.\u0275\u0275text(25,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"button",24),e.\u0275\u0275listener("click",function(){return n.createNewSpace()}),e.\u0275\u0275text(27,"Add"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(28,"modal",25,26)(30,"modal-header",27),e.\u0275\u0275text(31," Upload Logo "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"modal-content"),e.\u0275\u0275element(33,"app-image-croper",null,28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"modal-footer")(36,"button",29),e.\u0275\u0275listener("click",function(){return n.closeUploadFileModal(!1)}),e.\u0275\u0275i18n(37,30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"button",29),e.\u0275\u0275listener("click",function(){return n.closeUploadFileModal(!0)}),e.\u0275\u0275i18n(39,31),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.bannerLoaded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.bannerLoaded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",n.form),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngForOf",n.spaceTypes))},dependencies:[m.NgForOf,m.NgIf,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u,_.zS,_.YI,_.Ef,_.Rb,x.d,E],styles:['@charset "UTF-8";.hero-banner[_ngcontent-%COMP%]{height:300px;margin-top:30px;display:block;max-width:100%;max-height:300px;object-fit:cover;background-image:linear-gradient(rgb(88,85,85),rgb(61,53,53));background-size:cover;margin-bottom:40px;cursor:pointer}.hero-banner[_ngcontent-%COMP%]   .hero-txt[_ngcontent-%COMP%]{text-align:center;position:absolute;top:22%;left:50%;transform:translate(-50%,-50%);color:#fff}.hero-banner[_ngcontent-%COMP%]   .hero-txt[_ngcontent-%COMP%]   .txtArtwork[_ngcontent-%COMP%]{letter-spacing:20px}.hero-banner[_ngcontent-%COMP%]   .hero-txt[_ngcontent-%COMP%]   .txtArtist[_ngcontent-%COMP%]{letter-spacing:20px;border-top:2px solid;border-top:2%}.hero-banner[_ngcontent-%COMP%]   .new-profilePhoto[_ngcontent-%COMP%]{position:absolute;top:26%;left:85%;width:150px;height:150px}.formSpace[_ngcontent-%COMP%]{height:500px;width:100%;position:relative}.formSpace[_ngcontent-%COMP%]   .form-camp[_ngcontent-%COMP%]{border-radius:0}.formSpace[_ngcontent-%COMP%]   .formSpaceUp[_ngcontent-%COMP%]{width:100%;display:flex;position:relative;left:-22px}.formSpace[_ngcontent-%COMP%]   .formSpaceUp[_ngcontent-%COMP%]   .nameSpace[_ngcontent-%COMP%]{width:auto;border:0px;margin:10px;background-color:#474646}.formSpace[_ngcontent-%COMP%]   .formSpaceUp[_ngcontent-%COMP%]   .nameSpace[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#fff}.formSpace[_ngcontent-%COMP%]   .formSpaceUp[_ngcontent-%COMP%]   .spaceType[_ngcontent-%COMP%]{width:auto;margin:10px;background-color:gray;border:0px}.formSpace[_ngcontent-%COMP%]   .formSpaceUp[_ngcontent-%COMP%]   .spaceType[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#fff}.formSpace[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{position:relative;width:100%;height:200px;resize:unset;background-color:gray}.formSpace[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#fff}.formSpace[_ngcontent-%COMP%]   .urlForm[_ngcontent-%COMP%]{width:100%;margin-top:10px;background-color:#474646;-webkit-text-decoration:white;text-decoration:white}.formSpace[_ngcontent-%COMP%]   .urlForm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#fff}.formSpace[_ngcontent-%COMP%]   .ubicationForm[_ngcontent-%COMP%]{width:100%;margin-top:10px;background-color:gray}.formSpace[_ngcontent-%COMP%]   .ubicationForm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#fff}.row[_ngcontent-%COMP%]{margin-top:20px}.row[_ngcontent-%COMP%]   .newButtons[_ngcontent-%COMP%]{display:contents}.row[_ngcontent-%COMP%]   .newButtons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{display:flex;background-color:#393737;color:#fff;width:20%;height:33px;font-size:1rem;border:none;justify-content:center;align-items:center}.row[_ngcontent-%COMP%]   .newButtons[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{display:flex;background-color:gray;color:#000;width:20%;height:33px;font-size:1rem;border:none;justify-content:center;margin-left:20px;align-items:center}.new-spaceContainer[_ngcontent-%COMP%]{height:250px;width:100%;position:relative}.new-spaceContainer[_ngcontent-%COMP%]   .newSpace[_ngcontent-%COMP%]{font-size:2rem;border-radius:100px;width:80px;height:80px;top:50%;left:45%;position:absolute;border:1px solid white;margin:-50px 0 0 50px}@media only screen and (max-width: 767px){.profile[_ngcontent-%COMP%]{left:calc(100% - 200px)}.formSpace[_ngcontent-%COMP%]{height:370px}}']}),o})();var M=c(623);class j{constructor(i,t,n,a,l){this.salaID=i,this.salaName=t,this.salaDescription=n,this.logo=a,this.artworks=l}}var Z=c(801),V=c(5951),R=c(9485);function W(o,i){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",4),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext().$implicit,l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.main.goToSala(a.salaID))}),e.\u0275\u0275elementStart(1,"div",5),e.\u0275\u0275listener("click",function(a){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275nextContext().main.goToEditSala(l.salaID),e.\u0275\u0275resetView(a.stopPropagation())}),e.\u0275\u0275elementStart(2,"span",6),e.\u0275\u0275element(3,"i",7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"a",8),e.\u0275\u0275element(5,"i",9),e.\u0275\u0275text(6," Download QR's "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"h2",10),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()()}if(2&o){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275styleMapInterpolate1("background-image: url(",t.logo,");"),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(t.salaName)}}function Q(o,i){1&o&&e.\u0275\u0275template(0,W,9,4,"ng-template",3)}function J(o,i){1&o&&(e.\u0275\u0275elementStart(0,"div",11)(1,"h2",12),e.\u0275\u0275text(2,"No Salas available"),e.\u0275\u0275elementEnd()())}let Y=(()=>{class o{constructor(t,n){this.main=t,this.route=n,this.salas=[],this.salaObj=[],this.config={loop:!0,breakpoints:{320:{slidesPerView:2,spaceBetween:20,direction:"vertical",centeredSlides:!0},480:{slidesPerView:2,spaceBetween:20,direction:"vertical",mousewheel:!0,speed:600},850:{slidesPerView:2,direction:"horizontal",spaceBetween:20},900:{slidesPerView:2},1200:{slidesPerView:3,spaceBetween:40},1600:{slidesPerView:3},2048:{slidesPerView:4,spaceBetween:50,loop:!0}}},V.vI.add(Z.e0A)}ngOnInit(){console.log("Sala Slider: ",this.salas),this.prepareSalas()}prepareSalas(){var t=this;return(0,p.Z)(function*(){t.salas.forEach(n=>{t.salaObj.push(new j(n.id.value,n.languages[0].name,n.languages[0].description,n.image.path,t.artworks))})})()}setSwiperInstance(t){setInterval(()=>{t.slideNext()},4500)}getSpaceRoomFull(t,n,a,l){return new M.k6({id:t,image:a,artworks:l,languages:n,spaceId:this.main.getIdFromCookies("space")})}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(f.J),e.\u0275\u0275directiveInject(u.F0))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-sala-slider"]],inputs:{salas:"salas"},decls:4,vars:2,consts:[[1,"swiper",3,"config"],[4,"ngFor","ngForOf"],["noSalas",""],["swiperSlide",""],[1,"salaImg","boing",3,"click"],[1,"box",3,"click"],[1,"icon"],[1,"fa-solid","fa-pen-to-square"],["href","#",1,"download-button"],[1,"fas","fa-qrcode"],[1,"salaTxt"],[1,"noSalas"],[1,"noSalasTxt"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"swiper",0),e.\u0275\u0275template(1,Q,1,0,null,1),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,J,3,0,"ng-template",null,2,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275property("config",n.config),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.salaObj))},dependencies:[m.NgForOf,R.nF,R.YC],styles:[".swiper[_ngcontent-%COMP%]{margin-top:30px;width:calc(100% - 30px);height:400px}.salaImg[_ngcontent-%COMP%]{width:400px;height:400px;margin:20px;background-color:#fff;background-position:center;background-repeat:no-repeat;background-size:cover;position:relative}.salaImg[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{float:right;position:relative;width:70px;height:70px;padding:20px;z-index:999}.salaImg[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;font-size:24px;color:#ccc;transition:all .3s ease}.salaImg[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{color:red;transform:scale(1.2)}.salaImg[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:absolute;top:92%;left:50%;transform:translate(-50%,-50%);color:#fff;border:0px solid;z-index:2;width:100%;height:17%;padding:10px;text-align:center;-webkit-backdrop-filter:blur(10px) brightness(.5);backdrop-filter:blur(10px) brightness(.5)}@media only screen and (max-width: 576px){.swiper[_ngcontent-%COMP%]{height:800px}}"]}),o})();var T=c(3989);function H(o,i){if(1&o&&e.\u0275\u0275element(0,"app-sala-slider",5),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("salas",t.salas)}}function K(o,i){1&o&&(e.\u0275\u0275elementStart(0,"div",6)(1,"div",7),e.\u0275\u0275text(2," No Salas found "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"div",8),e.\u0275\u0275elementEnd())}const ee=["uploadFileModal"],te=["imageCropper"],ne=["SpaceTypes"];function oe(o,i){if(1&o&&(e.\u0275\u0275elementStart(0,"option",28),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=i.$implicit;e.\u0275\u0275propertyInterpolate("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name)}}const ae=[{path:"",children:[{path:"space/:id",component:(()=>{class o{constructor(t,n){this.main=t,this.route=n,this.salas=[]}ngOnInit(){var t=this;return(0,p.Z)(function*(){console.log("Welcome to Space Component! :D"),t.spaceID=t.route.snapshot.params.id,yield t.getSpaceSalas()})()}getSpaceSalas(){var t=this;return(0,p.Z)(function*(){yield C.T.get(t.spaceID).then(n=>{n.data.spaceRooms.forEach(a=>{t.salas.push(new M.XJ({id:a.id,spaceId:a.spaceId,image:a.image,languages:[new M.od({name:a.languages[0].name,description:a.languages[0].description,languageId:a.languages[0].languageId})]}))})})})()}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(f.J),e.\u0275\u0275directiveInject(u.gz))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-space"]],decls:7,vars:2,consts:[[1,"content"],[3,"salas",4,"ngIf"],["class","noSalas",4,"ngIf"],[1,"new-salaContainer"],[1,"newSala","button","boing",3,"click"],[3,"salas"],[1,"noSalas"],["ii18n","@@NotSalas",1,"NoFoundText"],[1,"notFoundImage"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-banner"),e.\u0275\u0275template(2,H,1,1,"app-sala-slider",1),e.\u0275\u0275template(3,K,4,0,"div",2),e.\u0275\u0275elementStart(4,"div",3)(5,"button",4),e.\u0275\u0275listener("click",function(){return n.main.goToCreateSala()}),e.\u0275\u0275text(6,"+"),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.salas.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.salas))},dependencies:[m.NgIf,Y,T.S],styles:["app-banner[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{top:20%}.noSalas[_ngcontent-%COMP%]{position:relative;width:100%;left:45%;top:50%}.new-salaContainer[_ngcontent-%COMP%]{height:100px;width:100%;position:relative;justify-content:center;margin-top:40px}.new-salaContainer[_ngcontent-%COMP%]   .newSala[_ngcontent-%COMP%]{width:80px;height:79px;top:50%;left:45%;border-radius:100px;position:absolute;border:1px solid white;margin:-50px 0 0 50px}@media only screen and (max-width: 576px){.swiper[_ngcontent-%COMP%]{height:800px}.swiper[_ngcontent-%COMP%]   .new-spaceContainer[_ngcontent-%COMP%]   .newSpace[_ngcontent-%COMP%]{left:30%}}"]}),o})()},{path:"new-space",component:X},{path:"edit-space/:id",component:(()=>{class o{constructor(t,n,a,l){this.main=t,this.fb=n,this.modalService=a,this.route=l,this.zoom=17,this.loadAllData(),t.newPage(this),this.form=this.fb.group({name:["",r.kI.required],spaceType:["",r.kI.required],description:[""],url:[""],ubication:[""]})}ngOnInit(){var t=this;return(0,p.Z)(function*(){t.spaceTypes=yield t.initSpaceType(),t.spaceID=t.route.snapshot.params.id,t.newEditedSpace()})()}initSpaceType(){return(0,p.Z)(function*(){let t=[];return t=yield s.getAll().then(n=>n.data),t})()}onSelectedItem(){this.optionValue=this.spaceType.nativeElement.value}loadAllData(){var t=this;return(0,p.Z)(function*(){console.log("Var spaceID: ",t.spaceID),yield C.T.get(t.spaceID).then(n=>{console.log("respuesta: ",n)})})()}newEditedSpace(){}cancelNewSpace(){this.main.goToHome()}sendNewEditedSpace(){}openUploadFileModal(){this.modalService.open(this.uploadFileModal,{size:"lg",modalClass:"uploadFileModal",backdropClass:"modal-backdrop",hideCloseButton:!1,centered:!0,backdrop:!0,animation:!0,keyboard:!0,closeOnOutsideClick:!1})}closeUploadFileModal(t){t&&this.form.controls.photo.setValue(this.imageCropper.croppedImage),this.modalService?.close(this.uploadFileModal)}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(f.J),e.\u0275\u0275directiveInject(r.qu),e.\u0275\u0275directiveInject(_.gk),e.\u0275\u0275directiveInject(u.gz))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-edit-space"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(ee,5),e.\u0275\u0275viewQuery(te,5),e.\u0275\u0275viewQuery(ne,5)),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.uploadFileModal=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.imageCropper=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(n.spaceType=a.first)}},decls:37,vars:2,consts:function(){let i,t;return i="Close",t="Save",[[1,"content"],[1,"container"],[1,"row"],[1,"formSpace","col-sm",3,"formGroup"],[1,"formSpaceUp"],[1,"row","no-gutters","nameSpace"],["type","text","formControlName","name","placeholder","Institution Name",1,"form-camp"],[1,"row","no-gutters","spaceType"],["formControlName","spaceType",1,"form-camp",3,"change"],["SpaceTypes",""],[3,"value",4,"ngFor","ngForOf"],[1,"row","no-gutters","description"],["formControlName","description","placeholder","Description",1,"form-camp",2,"resize","unset"],[1,"row","no-gutters","urlForm"],["type","text","formControlName","url","placeholder","Url",1,"form-camp"],[1,"row","no-gutters","ubicationForm"],["type","text","formControlName","ubication","placeholder","Ubication",1,"form-camp"],[1,"maps","col-sm"],[1,"col-sm","newButtons"],[1,"cancel","boing",3,"click"],[1,"add","boing",3,"click"],["id","uploadFileModal",1,"uploadFileModal"],["uploadFileModal",""],["ii18n","Upload Logo"],["imageCropper",""],[1,"boto","botoPrincipal","botoGran",3,"click"],i,t,[3,"value"]]},template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-banner"),e.\u0275\u0275elementStart(2,"div",1)(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5),e.\u0275\u0275element(7,"input",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",7)(9,"select",8,9),e.\u0275\u0275listener("change",function(){return n.onSelectedItem()}),e.\u0275\u0275template(11,oe,2,2,"option",10),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"div",11),e.\u0275\u0275element(13,"textarea",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",13),e.\u0275\u0275element(15,"input",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",15),e.\u0275\u0275element(17,"input",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(18,"div",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",2)(20,"div",18)(21,"button",19),e.\u0275\u0275listener("click",function(){return n.cancelNewSpace()}),e.\u0275\u0275text(22,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"button",20),e.\u0275\u0275listener("click",function(){return n.newEditedSpace()}),e.\u0275\u0275text(24,"Save"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(25,"modal",21,22)(27,"modal-header",23),e.\u0275\u0275text(28," Upload Logo "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"modal-content"),e.\u0275\u0275element(30,"app-image-croper",null,24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"modal-footer")(33,"button",25),e.\u0275\u0275listener("click",function(){return n.closeUploadFileModal(!1)}),e.\u0275\u0275i18n(34,26),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"button",25),e.\u0275\u0275listener("click",function(){return n.closeUploadFileModal(!0)}),e.\u0275\u0275i18n(36,27),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",n.form),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngForOf",n.spaceTypes))},dependencies:[m.NgForOf,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u,_.zS,_.YI,_.Ef,_.Rb,T.S,E],styles:['@charset "UTF-8";.hero-banner[_ngcontent-%COMP%]{height:300px;margin-top:30px;display:block;max-width:100%;max-height:300px;object-fit:cover;background-image:linear-gradient(rgb(88,85,85),rgb(61,53,53));background-size:cover;margin-bottom:40px;cursor:pointer}.hero-banner[_ngcontent-%COMP%]   .hero-txt[_ngcontent-%COMP%]{text-align:center;position:absolute;top:22%;left:50%;transform:translate(-50%,-50%);color:#fff}.hero-banner[_ngcontent-%COMP%]   .hero-txt[_ngcontent-%COMP%]   .txtArtwork[_ngcontent-%COMP%]{letter-spacing:20px}.hero-banner[_ngcontent-%COMP%]   .hero-txt[_ngcontent-%COMP%]   .txtArtist[_ngcontent-%COMP%]{letter-spacing:20px;border-top:2px solid;border-top:2%}.hero-banner[_ngcontent-%COMP%]   .new-profilePhoto[_ngcontent-%COMP%]{position:absolute;top:26%;left:85%;width:150px;height:150px}.formSpace[_ngcontent-%COMP%]{height:500px;width:100%;position:relative}.formSpace[_ngcontent-%COMP%]   .form-camp[_ngcontent-%COMP%]{border-radius:0}.formSpace[_ngcontent-%COMP%]   .formSpaceUp[_ngcontent-%COMP%]{width:100%;display:flex;position:relative;left:-22px}.formSpace[_ngcontent-%COMP%]   .formSpaceUp[_ngcontent-%COMP%]   .nameSpace[_ngcontent-%COMP%]{width:auto;border:0px;margin:10px;background-color:#474646}.formSpace[_ngcontent-%COMP%]   .formSpaceUp[_ngcontent-%COMP%]   .nameSpace[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#fff}.formSpace[_ngcontent-%COMP%]   .formSpaceUp[_ngcontent-%COMP%]   .spaceType[_ngcontent-%COMP%]{width:auto;margin:10px;background-color:gray;border:0px}.formSpace[_ngcontent-%COMP%]   .formSpaceUp[_ngcontent-%COMP%]   .spaceType[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#fff}.formSpace[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{position:relative;width:100%;height:200px;resize:unset;background-color:gray}.formSpace[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#fff}.formSpace[_ngcontent-%COMP%]   .urlForm[_ngcontent-%COMP%]{width:100%;margin-top:10px;background-color:#474646;-webkit-text-decoration:white;text-decoration:white}.formSpace[_ngcontent-%COMP%]   .urlForm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#fff}.formSpace[_ngcontent-%COMP%]   .ubicationForm[_ngcontent-%COMP%]{width:100%;margin-top:10px;background-color:gray}.formSpace[_ngcontent-%COMP%]   .ubicationForm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#fff}.row[_ngcontent-%COMP%]{margin-top:20px}.row[_ngcontent-%COMP%]   .newButtons[_ngcontent-%COMP%]{display:contents}.row[_ngcontent-%COMP%]   .newButtons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{display:flex;background-color:#393737;color:#fff;width:20%;height:33px;font-size:1rem;border:none;justify-content:center;align-items:center}.row[_ngcontent-%COMP%]   .newButtons[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{display:flex;background-color:gray;color:#000;width:20%;height:33px;font-size:1rem;border:none;justify-content:center;margin-left:20px;align-items:center}.new-spaceContainer[_ngcontent-%COMP%]{height:250px;width:100%;position:relative}.new-spaceContainer[_ngcontent-%COMP%]   .newSpace[_ngcontent-%COMP%]{font-size:2rem;border-radius:100px;width:80px;height:80px;top:50%;left:45%;position:absolute;border:1px solid white;margin:-50px 0 0 50px}@media only screen and (max-width: 767px){.profile[_ngcontent-%COMP%]{left:calc(100% - 200px)}.formSpace[_ngcontent-%COMP%]{height:370px}}']}),o})()}]}];let ie=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[u.Bz.forChild(ae),u.Bz]}),o})();var re=c(8041),le=c(9806);let ce=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[ie,m.CommonModule,re.m,_.zk,h.QG,le.z]}),o})()}}]);