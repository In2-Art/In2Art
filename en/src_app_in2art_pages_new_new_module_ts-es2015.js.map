{"version":3,"sources":["src/app/in2art/classes/errorObject.ts","src/app/in2art/components/_tools/contents-ordenables/contents-ordenables.component.ts","src/app/in2art/components/_tools/contents-ordenables/contents-ordenables.component.html","src/app/in2art/pages/new/artwork/new-artwork.component.ts","src/app/in2art/pages/new/artwork/new-artwork.component.html","src/app/in2art/pages/new/new-routing.module.ts","src/app/in2art/pages/new/new.module.ts","src/app/in2art/pages/new/post/new-post.component.ts","src/app/in2art/pages/new/post/new-post.component.html","src/app/in2art/services/DTOs/ArtworkDTO.ts","src/app/in2art/services/DTOs/checks.ts","src/app/in2art/services/DTOs/FileDTO.ts","src/app/in2art/services/DTOs/JsonHelper.ts","src/app/in2art/services/DTOs/PostDTO.ts","src/app/in2art/services/DTOs/Random.ts"],"names":[],"mappings":"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","file":"src_app_in2art_pages_new_new_module_ts-es2015.js","sourcesContent":["export class ErrorObject {\r\n\r\n    type: string;\r\n    message: string;\r\n\r\n    constructor(type: string, message: string) {\r\n        this.type = type;\r\n        this.message = message;\r\n    }\r\n\r\n}","// import { Utils } from './../../services/utils.service';\r\nimport * as $ from \"jquery\";\r\n\r\nimport { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-contents-ordenables',\r\n    templateUrl: './contents-ordenables.component.html',\r\n    styleUrls: ['./contents-ordenables.component.scss']\r\n})\r\nexport class ContentsOrdenablesComponent implements OnInit {\r\n\r\n    public items;\r\n\r\n    constructor() {\r\n        this.items = [];\r\n    }\r\n\r\n    async ngOnInit() {\r\n    }\r\n\r\n    eliminarPos(i) {\r\n        this.items.splice(i, 1);\r\n    }\r\n\r\n    getItemsOrdered() {\r\n        return $(\".item:visible\").map((i, e) => {\r\n            let item = this.items[e.dataset.index];\r\n            return {\r\n                blob: item.blob,\r\n                type: this.getType(item)\r\n            };\r\n        }).toArray();\r\n    }\r\n    getType(item) {\r\n        let ext = item.type.split(\"/\")[1];\r\n\r\n        if (ext == \"jpg\" || ext == \"jpeg\" || ext == \"png\" || ext == \"gif\") return 1;\r\n        if (ext == \"mp4\" || ext == \"avi\") return 2;\r\n        if (ext == \"mp3\" || ext == \"mpeg\" || ext == \"wav\" || ext == \"ogg\") return 3;\r\n    }\r\n}\r\n","<div class=\"items\" dragula=\"FILES\">\r\n    <div class=\"item\" *ngFor=\"let item of items; let i=index\" [hidden]=\"!item\" [attr.data-index]=\"i\">\r\n        <div *ngIf=\"item\">\r\n            <img *ngIf=\"getType(item)==1\" class=\"file\" [src]=\"item.blob\" [alt]=\"item.name\">\r\n            <video *ngIf=\"getType(item)==2\" class=\"file\"><source [src]=\"item.blob\"></video>\r\n            <audio *ngIf=\"getType(item)==3\" class=\"file\" controls><source [src]=\"item.blob\" [type]=\"item.type\" i18n=\"@@Your browser does not support the audio element\">Your browser does not support the audio element</audio>\r\n            <div class=\"text\">{{item.name}}</div>\r\n            <div class=\"botons\">\r\n                <button class=\"boto\" (click)=\"eliminarPos(i)\"><i class=\"fas fa-times\"></i></button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { MainService } from '../../../services/main.service';\r\nimport { Utils } from '../../../services/utils.service';\r\nimport * as $ from \"jquery\";\r\n\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { ModalManager } from 'ngb-modal';\r\nimport { ArtworkDTO } from 'src/app/in2art/services/DTOs/ArtworkDTO';\r\nimport { Checks } from 'src/app/in2art/services/DTOs/checks';\r\nimport { PostDTO } from 'src/app/in2art/services/DTOs/PostDTO';\r\n\r\n@Component({\r\n    selector: 'app-new-artwork',\r\n    templateUrl: './new-artwork.component.html',\r\n    styleUrls: ['./new-artwork.component.scss']\r\n})\r\nexport class NewArtworkComponent implements OnInit {\r\n\r\n    @ViewChild(\"contentsOrdenables\") contentsOrdenables;\r\n    @ViewChild(\"previewModal\") previewModal;\r\n\r\n    @ViewChild(\"acdcDatepicker\") acdcDatepicker;\r\n    \r\n    public processingFiles = false;\r\n\r\n    public files = [];\r\n\r\n    public form: FormGroup;\r\n    public validate = false;\r\n    public mediumItemsPromise;\r\n    public movementItemsPromise;\r\n    public mediumItems;\r\n    public movementItems;\r\n    public mediumItemsIndexat = [];\r\n    public movementItemsIndexat = [];\r\n    public mediums = [];\r\n    public movements = [];\r\n    public base64Info: string;\r\n\r\n    public preview;\r\n\r\n    public carregantBotoPublicar = false;\r\n    \r\n    public mostrarFileRequired = false;\r\n\r\n    constructor(\r\n        public main: MainService,\r\n        private fb: FormBuilder,\r\n        public domSanitizer: DomSanitizer,\r\n        private modalService: ModalManager,\r\n    ) {\r\n        main.newPage(this);\r\n        \r\n        this.form = this.fb.group({\r\n            inputFiles: [\"\"],// Posem aixo només per tenir l'alerta si esta buit //\r\n            title: [\"\", Validators.required],\r\n            author: [\"\"],\r\n            authorType: [\"\", Validators.required],\r\n            date: [\"\"],\r\n            mediums: [\"\"],\r\n            otherMediums: [\"\"],\r\n            movements: [\"\"],\r\n            otherMovements: [\"\"],\r\n            dimensions: [\"\"],\r\n            technique: [\"\"],\r\n            price: [\"\"],\r\n            currency: [\"\"],\r\n            description: [\"\"],\r\n            tags: [\"\"],\r\n            major18: [false],\r\n        });\r\n\r\n        // TEST\r\n        // this.form.controls.title.setValue(\"Titol\");\r\n        // this.form.controls.author.setValue(\"Leo\");\r\n        // this.form.controls.authorType.setValue(\"3\");\r\n        // this.form.controls.date.setValue(\"29 Nov\");\r\n        // this.form.controls.dimensions.setValue(\"22m\");\r\n        // this.form.controls.technique.setValue(\"fresco\");\r\n        // this.form.controls.price.setValue(\"213.5\");\r\n        // this.form.controls.description.setValue(\"Descripció molt molt molt molt molt molt molt molt llarga\");\r\n        // this.form.controls.tags.setValue(\"covid,joke,landscape,photo\");\r\n    }\r\n\r\n    async ngOnInit() {\r\n        //Per ara no obtenim Movements i Mediums del servidor\r\n        // this.mediumItemsPromise = this.main.provider.getMediumsOther();\r\n        // this.movementItemsPromise = this.main.provider.getMovementsOther();\r\n    }\r\n    ngOnDestroy() {\r\n        this.closePreviewModal();\r\n        this.main.onDestroyPage();\r\n    }\r\n\r\n    async addFiles() {\r\n        this.processingFiles = true;\r\n        let itemsProcessed = 0;\r\n        let files = $(\".inputFile\")[0].files;\r\n        for (let i = 0; i < files.length; i++) {\r\n            let file = files[i];\r\n            if (file) {\r\n                file.blob = this.domSanitizer.bypassSecurityTrustUrl(<string>await Utils.blobToBase64(file));\r\n                this.contentsOrdenables.items.push(file);\r\n                itemsProcessed++;\r\n                if (itemsProcessed == files.length) {\r\n                    $(\".inputFile\").val(\"\");\r\n                    this.processingFiles = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public othersSeleccionat(camp) {\r\n        return camp.includes(-1) || camp.includes(\"-1\");\r\n    }\r\n\r\n    corregirTags() {\r\n        let tags = this.form.controls.tags.value;\r\n        tags = tags\r\n            .split(/[\\s,]+/)\r\n            .map(e => Utils.parseTag(e))\r\n            .filter(e => e.length)\r\n            .join(\", \");\r\n        this.form.controls.tags.setValue(tags);\r\n    }\r\n\r\n    // HTML //\r\n    public focusInputAuthor() {\r\n        $('#at_authorName').prop('checked', true);\r\n        $('#author').trigger(\"focus\");\r\n        this.form.controls.authorType.setValue(\"3\");\r\n    }\r\n\r\n    async openPreviewModal() {\r\n        this.modalService.open(this.previewModal, {\r\n            size: \"xl\",\r\n            modalClass: \"previewModal\",\r\n            backdropClass: \"modal-backdrop\",\r\n            hideCloseButton: true,\r\n            centered: true,\r\n            backdrop: true,\r\n            animation: true,\r\n            keyboard: true,\r\n            closeOnOutsideClick: false,\r\n        });\r\n    }\r\n    async closePreviewModal() {\r\n        try { this.modalService.close(this.previewModal); } catch { };\r\n        await Utils.wait(0.5);\r\n        this.preview = null;\r\n    }\r\n    \r\n    /**\r\n     * Mostra una preview de l'Artwork de com es mostrara dins de la web\r\n     */\r\n    public submit() {\r\n        this.form.markAllAsTouched();\r\n        this.acdcDatepicker.touched = true;\r\n\r\n        this.form.controls.mediums.setValue(this.mediums);\r\n        this.form.controls.movements.setValue(this.movements);\r\n\r\n        this.mostrarFileRequired = !Utils.objPle(this.files);\r\n\r\n        this.corregirTags();\r\n\r\n        if (!Utils.objPle(this.files) || !this.form.valid || !this.acdcDatepicker.isValid()) {\r\n            console.log(\"--- INVÀLID ---\");\r\n            console.log(this.form);\r\n            return;\r\n        }\r\n\r\n        let dateMaco = \"\";\r\n        if (this.acdcDatepicker.type == \"y\")\r\n            dateMaco = this.acdcDatepicker.getTextAny();\r\n        if (this.acdcDatepicker.type == \"c\")\r\n            dateMaco = this.acdcDatepicker.getTextSegle().split(\" (\")[0];\r\n        \r\n        let priceCurrency = this.form.controls.price.value;\r\n        if (priceCurrency) priceCurrency = priceCurrency.toFixed(2) + \"€\";\r\n\r\n        // this.preview = {\r\n        //     content: this.contentsOrdenables.getItemsOrdered(),\r\n        //     title: this.form.controls.title.value,\r\n        //     authorType: this.form.controls.authorType.value,\r\n        //     author: this.form.controls.author.value,\r\n        //     // date: this.acdcDatepicker.getData(),\r\n        //     dateMaco: dateMaco,\r\n        //     mediums: this.form.controls.mediums.value,\r\n        //     otherMediums: this.form.controls.otherMediums.value,\r\n        //     movements: this.form.controls.movements.value,\r\n        //     otherMovements: this.form.controls.otherMovements.value,\r\n        //     dimensions: this.form.controls.dimensions.value,\r\n        //     technique: this.form.controls.technique.value,\r\n        //     price: this.form.controls.price.value,\r\n        //     currency: this.form.controls.currency.value,\r\n        //     priceCurrency: priceCurrency,\r\n        //     description: this.form.controls.description.value,\r\n        //     tags: this.form.controls.tags.value,\r\n        //     major18: this.form.controls.major18.value,\r\n        //     esObra: true,\r\n        // };\r\n\r\n        this.preview = {\r\n             content: this.contentsOrdenables.getItemsOrdered(),\r\n             title: this.form.controls.title.value,\r\n             author: this.form.controls.author.value,\r\n             dateMaco: dateMaco,\r\n             dimensions: this.form.controls.dimensions.value,\r\n             description: this.form.controls.description.value,\r\n             self: this.main.currentUser\r\n        };\r\n        \r\n        console.log(\"Info from preview: \", this.preview);\r\n        \r\n    \r\n        console.log(\"--- VÀLID ---\");\r\n        \r\n        \r\n        //Preview de Mediums i Movements per una versio futura\r\n\r\n        // this.mediumItems.forEach((e) => {\r\n        //     this.mediumItemsIndexat[e.id_categoria] = e.nom_categoria;\r\n        // })\r\n        // this.movementItems.forEach((e) => {\r\n        //     this.movementItemsIndexat[e.id_estil] = e.nom_estil;\r\n        // })\r\n\r\n        // this.preview.mediums = this.mediums.map((e) => {\r\n        //     return { id: e, text: this.mediumItemsIndexat[e] };\r\n        // });\r\n        // this.preview.movements = this.movements.map((e) => {\r\n        //     return { id: e, text: this.movementItemsIndexat[e] };\r\n        // });\r\n\r\n        //Preview de Tags per una futura versio\r\n\r\n        // this.preview.tags = this.preview.tags.split(\", \").filter(e => e).map(e => { return { text: e } });\r\n\r\n        // Només servirà per la preview //\r\n        this.preview.user = this.main.currentUser;\r\n\r\n        this.openPreviewModal();\r\n    }\r\n    \r\n    /**\r\n     * Un cop s'ha comprovat que la preview s'executa la funcio per poder pujar la artwork al servidor\r\n     */\r\n    async publicar() {\r\n        this.carregantBotoPublicar = true;\r\n        \r\n        const formData = new FormData();\r\n\r\n        this.preview.content.forEach((c, i) => {\r\n            formData.append(`content[${i}][type]`, c.type);\r\n            formData.append(`content[${i}][order]`, i);\r\n            formData.append(`content[${i}][text]`, \"\");\r\n            var file = new File([Utils.dataURLToBlob(c.blob.changingThisBreaksApplicationSecurity)], \"photo.png\");\r\n            formData.append(`content[${i}][file]`, file, \"photo.png\");\r\n        });\r\n\r\n        // TODO: No hauries d'estar llegint preview aqui MAI!!! preview es només per la preview!!!\r\n        // has d'enviar les dades directament des del formulari!!!!\r\n\r\n        formData.append(\"title\", this.preview.title);\r\n        formData.append(\"authorType\", this.preview.authorType);\r\n        formData.append(\"author\", this.preview.author);\r\n        formData.append(\"date\", JSON.stringify(this.acdcDatepicker.getObjData()));\r\n        formData.append(\"dimensions\", this.preview.dimensions);\r\n        formData.append(\"technique\", this.preview.technique);\r\n        formData.append(\"price\", this.preview.price);\r\n        formData.append(\"currency\", this.preview.currency);\r\n        formData.append(\"description\", this.preview.description);\r\n\r\n        //Llegir tots els mediums i movements que tenim a la base de dades i comprovar que el usuari ha escollit els que tenim a la base de dades\r\n\r\n        // this.preview.mediums.forEach((e) => {\r\n        //     if (e.id != -1)\r\n        //         formData.append(\"medium[]\", e.id);\r\n        //     else\r\n        //         formData.append(\"medium_other[]\", this.preview.otherMediums);\r\n        // });\r\n        // this.preview.movements.forEach((e) => {\r\n        //     if (e.id != -1)\r\n        //         formData.append(\"movement[]\", e.id);\r\n        //     else\r\n        //         formData.append(\"movement_other[]\", this.preview.otherMovements);\r\n        // });\r\n        // this.preview.tags.forEach((e) => { formData.append(\"tags[]\", e.text); });\r\n        // formData.append(\"major18\", this.preview.major18 ? \"1\" : \"0\");\r\n\r\n        // Obtenim el blob de la imatge (nomes esta pensat per una imatge per ara)\r\n\r\n        //Nomes pensad per una imatge per ara\r\n        let base64AllInfo = this.preview.content[0].blob.changingThisBreaksApplicationSecurity;\r\n        this.base64Info = base64AllInfo.substr(base64AllInfo.indexOf('base64,') + 7)\r\n\r\n        let arrayArtsits = [];\r\n\r\n        arrayArtsits.push(await this.main.getSelfArtsitID());\r\n\r\n        let postData = {\r\n            languageId: null,\r\n            description: this.preview.description,\r\n            isDraft: false,\r\n            patreonMinLevelId: null,\r\n            artworkRelatedId: null,\r\n            files:[ \r\n                { //Per el moment com sera nomes una imatge, nomes tindra un element\r\n                    dataBase64: this.base64Info,\r\n                    fileName: \"artwork\",\r\n                    fileExt: this.main.getStringBetween(base64AllInfo, \"data:image/\", \";base64,\")\r\n                }   \r\n            ],\r\n            title: this.preview.title,\r\n            date: formData.get(\"date\"),\r\n            dimensions: this.preview.dimensions,\r\n            artistIds: arrayArtsits,\r\n        }\r\n        console.log(\"Post data: \", postData);\r\n        \r\n\r\n        let artworkData = {post: postData};\r\n        let artrworkErrors = new ArtworkDTO(artworkData).check();\r\n\r\n        if(artrworkErrors.length > 0){\r\n            console.log(\"Errors: \", artrworkErrors);\r\n            this.carregantBotoPublicar = false;\r\n            return;\r\n        }else{\r\n            this.main.provider.postArtwork(artworkData).then((res) => {\r\n                this.main.toastSuccess(\"Artwork published!\");\r\n                this.preview.close();\r\n            });\r\n        }\r\n\r\n        //Enviar dades del artwork al servidor\r\n\r\n        // this.main.ps.postFormData(\"/artwork/post\", formData,\r\n        //     async (data) => {\r\n        //         this.carregantBotoPublicar = false;\r\n        //         if (this.main.eh.hiHaError(data)) {\r\n        //             console.log(\"Resposta crear artwork\", data);\r\n                    \r\n        //             this.main.toastDanger(\"Couldn't create artwork\");\r\n        //             return;\r\n        //         }\r\n\r\n        //         console.log(\"El servidor ha donat un codi correcte\", data);\r\n\r\n        //         this.closePreviewModal();\r\n\r\n        //         this.main.toastSuccess(\"Artwork created successfully\");\r\n\r\n        //         await Utils.wait(0.1);\r\n        //         // this.main.goToPost(data.postId);\r\n        //     },\r\n        //     () => {\r\n        //         this.carregantBotoPublicar = false;\r\n        //         this.main.toastDanger(\"Couldn't create post\");\r\n        //     }\r\n        // );\r\n\r\n    }\r\n\r\n}\r\n","<div class=\"content\">\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n\r\n            <!-- PER UNA FUTURA VERSIO (GO TO NEW POST) -->\r\n            <!-- <div class=\"content-top row no-gutters\">\r\n                <div class=\"col-sm-3 col-12\"></div>\r\n                <div class=\"col-sm-6 col-12 order-2 order-sm-1 titol\" i18n=\"@@New artwork\">New artwork</div>\r\n                <button class=\"col-sm-3 col-12 order-1 order-sm-2 boto botoSecundari anarAPost\" (click)=\"main.goTo('new/post')\" i18n=\"@@Go to new post\">\r\n                    Go to new post <i class=\"fas fa-chevron-right\"></i></button>\r\n            </div> -->\r\n\r\n            <p class=\"notaEnGris\" i18n=\"@@This is only for finished artworks\">This is only for finished artworks that will be rated. Please don't upload other type of content.</p>\r\n            \r\n            <form class=\"theme-form\" [formGroup]=\"form\">\r\n\r\n                <!-- <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3 asterisc\">Files</label>\r\n                    <input class=\"col-sm-12 col-xl-9\" id=\"inputFiles\" type=\"file\" multiple required>\r\n                    <div *ngIf=\"mostrarFileRequired\" class=\"textErrorForm\">File is required</div>\r\n                </div> -->\r\n\r\n                <input class=\"form-camp inputFile\" type=\"file\" multiple (input)=\"addFiles()\" [disabled]=\"processingFiles\"\r\n                    accept=\".JPG,.PNG,.GIF,.MP4,.AVI,.MP3,.WAV,.OGG\"><!-- ,.PDF -->\r\n                \r\n                <div class=\"divContentsOrdenables clearfix\" [style.display]=\"contentsOrdenables.items.length ? 'block' : 'none'\">\r\n                    <p class=\"notaEnGris dragToOrder\" i18n=\"@@Drag to order\">Drag to order</p>\r\n                    <app-contents-ordenables #contentsOrdenables></app-contents-ordenables>\r\n                </div>\r\n\r\n                <p class=\"notaEnGris\" i18n=\"@@You can upload:\">You can upload: photos (.JPG, .PNG, .GIF) and videos (.MP4, .AVI) </p><!-- and audio (.MP3, .WAV, .OGG) and text (.PDF) -->\r\n\r\n\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3 asterisc\" i18n=\"@@Title\">Title</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"title\">\r\n                    <div *ngIf=\"form.controls.title.touched && form.controls.title.errors?.required\"\r\n                        class=\"textErrorForm\" i18n=\"@@Title is required\">Title is required</div>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3 asterisc\" i18n=\"@@Author\">Author</label>\r\n                    <div class=\"col-sm-12 col-xl-9 m-checkbox-inline\">\r\n                        \r\n                        <div class=\"grupCadaRadio\" style=\"min-width:20%\">\r\n                            <div class=\"radio radio-primary\">\r\n                                <input id=\"at_myself\" type=\"radio\" value=\"1\" name=\"authorType\" formControlName=\"authorType\">\r\n                                <label for=\"at_myself\" i18n=\"@@Myself\">Myself</label>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"grupCadaRadio\" style=\"min-width:20%\">\r\n                            <div class=\"radio radio-primary\">\r\n                                <input id=\"at_unknown\" type=\"radio\" value=\"2\" name=\"authorType\" formControlName=\"authorType\">\r\n                                <label for=\"at_unknown\" i18n=\"@@Unknown\">Unknown Author</label>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"grupCadaRadio\" style=\"min-width:60%\">\r\n                            <div class=\"radio radio-primary\">\r\n                                <input id=\"at_authorName\" type=\"radio\" value=\"3\" name=\"authorType\" formControlName=\"authorType\" (input)=\"focusInputAuthor()\">\r\n                                <label for=\"at_authorName\" style=\"padding-left:0;\"></label>\r\n                            </div>\r\n                            <input id=\"author\" type=\"text\" class=\"form-camp\" formControlName=\"author\" (focus)=\"focusInputAuthor()\">\r\n                        </div>\r\n\r\n                    </div>\r\n                    <app-missatge-error-form [control]=\"form.controls.authorType\" [nomText]=\"'author'\"></app-missatge-error-form>\r\n                    <div *ngIf=\"form.controls.authorType.value==3 && form.controls.author.value==''\"\r\n                        class=\"textErrorForm\" i18n=\"@@Author is required\">Author is required</div>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3 asterisc\" i18n=\"@@Date\">Date</label>\r\n                    <app-acdc-datepicker #acdcDatepicker class=\"col-sm-12 col-xl-9\"></app-acdc-datepicker>\r\n                    <div *ngIf=\"acdcDatepicker.touched && !acdcDatepicker.isValid()\"\r\n                        class=\"textErrorForm\" i18n=\"@@Date is required\">Date is required</div>\r\n                </div>\r\n                <!-- MOVEMENT I MEDIUM PER UNA FUTURA VERSIO! -->\r\n                <!-- <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\">\r\n                        <span (click)=\"tooltipMedium.show()\" mat-raised-button matTooltip=\"{{main.t('mediumDefinition')}}\" #tooltipMedium=\"matTooltip\"\r\n                            class=\"asterisc\" i18n=\"@@Medium\">Medium</span>\r\n                        <i class=\"far fa-question-circle ml-1\"></i>\r\n                    </label>\r\n                    <ng-select [ngClass]=\"othersSeleccionat(mediums)? 'col-sm-6 col-xl-5' : 'col-sm-12 col-xl-9'\"\r\n                        [items]=\"mediumItemsPromise | async\" bindLabel=\"nom_categoria\" bindValue=\"id_categoria\"\r\n                        [(ngModel)]=\"mediums\" [ngModelOptions]=\"{standalone:true}\" [multiple]=\"true\"></ng-select> -->\r\n                    <!-- <div class=\"hidden-xs col-xl-1\" *ngIf=\"othersSeleccionat(mediums)\"></div> -->\r\n                    <!-- <input class=\"form-camp col-sm-6 col-xl-4\" [style.display]=\"othersSeleccionat(mediums)? 'block' : 'none'\" type=\"text\" formControlName=\"otherMediums\">\r\n                    <div *ngIf=\"(form.controls.mediums.touched && mediums.length == 0) || (othersSeleccionat(mediums) && form.controls.otherMediums.touched && form.controls.otherMediums.value == '')\"\r\n                        class=\"textErrorForm\" i18n=\"@@Mediums are required\">Mediums are required</div>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\">\r\n                        <span (click)=\"tooltipMovement.show()\" mat-raised-button matTooltip=\"{{main.t('movementDefinition')}}\" #tooltipMovement=\"matTooltip\"\r\n                            class=\"asterisc\" i18n=\"@@Movement\">Movement</span>\r\n                        <i class=\"far fa-question-circle ml-1\"></i>\r\n                    </label>\r\n                    <ng-select [ngClass]=\"othersSeleccionat(movements)? 'col-sm-6 col-xl-5' : 'col-sm-12 col-xl-9'\"\r\n                        [items]=\"movementItemsPromise | async\" bindLabel=\"nom_estil\" bindValue=\"id_estil\"\r\n                        [(ngModel)]=\"movements\" [ngModelOptions]=\"{standalone:true}\" [multiple]=\"true\"></ng-select> -->\r\n                    <!-- <div class=\"hidden-xs col-xl-1\" *ngIf=\"othersSeleccionat(movements)\"></div> -->\r\n                    <!-- <input class=\"form-camp col-sm-6 col-xl-4\" [style.display]=\"othersSeleccionat(movements)? 'block' : 'none'\" type=\"text\" formControlName=\"otherMovements\">\r\n                    <div *ngIf=\"(form.controls.movements.touched && movements.length == 0) || (othersSeleccionat(movements) && form.controls.otherMovements.touched && form.controls.otherMovements.value == '')\"\r\n                        class=\"textErrorForm\" i18n=\"@@Movements are required\">Movements are required</div>\r\n                </div> -->\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Dimensions\">Dimensions (width, height, depth)</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"dimensions\">\r\n                </div>\r\n                <!-- <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Technique\">Technique</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"technique\">\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Price\">Price</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"number\" min=\"0\" step=\"any\" formControlName=\"price\">\r\n                </div> -->\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Description\">Description</label>\r\n                    <textarea class=\"form-camp col-sm-12 col-xl-9\" maxlength=\"3000\" formControlName=\"description\"></textarea>\r\n                </div>\r\n\r\n                <!-- TAGS PER UNA FUTURA VERSIO! -->\r\n\r\n                <!-- <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Tags\">Tags</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"tags\" (blur)=\"corregirTags()\">\r\n                </div> -->\r\n\r\n                <!-- MAJOR DE 18 ANYS PER UNA FUTURA VERSIO! -->\r\n\r\n                <!-- <div class=\"form-grup\">\r\n                    <label class=\"d-block checkbox-label\" for=\"major18\" style=\"text-align:center;\">\r\n                        <input class=\"checkbox_animated\" id=\"major18\" type=\"checkbox\" formControlName=\"major18\" i18n=\"@@The content uploaded is only for 18\">The content uploaded is only for 18+\r\n                    </label>\r\n                </div> -->\r\n                \r\n                <div style=\"text-align:center;\">\r\n                    <input class=\"boto botoPrincipal botoGran\" type=\"button\" value=\"Save\" (click)=\"submit()\" [disabled]=\"!contentsOrdenables.items.length\">\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<modal id=\"previewModal\" #previewModal>\r\n    <modal-content>\r\n        <app-publicacio *ngIf=\"preview\" [p]=\"preview\" [preview]=\"true\"></app-publicacio>\r\n    </modal-content>\r\n    <modal-footer>\r\n        <div class=\"botons\">\r\n            <button class=\"boto botoPrincipal botoGran back\" (click)=\"closePreviewModal()\" i18n=\"@@Back\">Back</button>\r\n            <button class=\"boto botoPrincipal botoGran post\" (click)=\"publicar()\" [disabled]=\"carregantBotoPublicar\" i18n=\"@@Post\">Post</button>\r\n        </div>\r\n    </modal-footer>\r\n</modal>\r\n","import { NewArtworkComponent } from './artwork/new-artwork.component';\r\nimport { NewPostComponent } from './post/new-post.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nconst routes: Routes = [{\r\n    path: '',\r\n    children: [\r\n        {\r\n            path: '',\r\n            redirectTo: 'artwork'\r\n        },\r\n        {\r\n            path: 'artwork',\r\n            component: NewArtworkComponent\r\n        },\r\n        {\r\n            path: 'post',\r\n            component: NewPostComponent\r\n        },\r\n    ]\r\n}];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class NewRoutingModule { }\r\n","import { DragulaModule } from 'ng2-dragula';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../../../shared/shared.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { NewArtworkComponent } from './artwork/new-artwork.component';\r\nimport { NewPostComponent } from './post/new-post.component';\r\nimport { NewRoutingModule } from './new-routing.module';\r\nimport { ContentsOrdenablesComponent } from '../../components/_tools/contents-ordenables/contents-ordenables.component';\r\nimport { ModalModule } from 'ngb-modal';\r\n\r\n@NgModule({\r\n    declarations: [NewArtworkComponent, NewPostComponent, ContentsOrdenablesComponent],\r\n    imports: [\r\n        NewRoutingModule,\r\n        CommonModule,\r\n        SharedModule,\r\n        FormsModule,\r\n        NgSelectModule,\r\n        DragulaModule,\r\n        ModalModule\r\n    ]\r\n})\r\nexport class NewModule { }\r\n","import { MainService } from '../../../services/main.service';\r\nimport { Utils } from '../../../services/utils.service';\r\nimport * as $ from \"jquery\";\r\n\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { ModalManager } from 'ngb-modal';\r\n\r\n@Component({\r\n    selector: 'app-new-post',\r\n    templateUrl: './new-post.component.html',\r\n    styleUrls: ['./new-post.component.scss']\r\n})\r\nexport class NewPostComponent implements OnInit {\r\n\r\n    @ViewChild(\"contentsOrdenables\") contentsOrdenables;\r\n    @ViewChild(\"previewModal\") previewModal;\r\n    \r\n    public processingFiles = false;\r\n\r\n    public files = [];\r\n\r\n    public form: FormGroup;\r\n    public validate = false;\r\n\r\n    public preview;\r\n\r\n    public carregantBotoPublicar = false;\r\n    \r\n    public mostrarFileRequired = false;\r\n\r\n    constructor(\r\n        public main: MainService,\r\n        private fb: FormBuilder,\r\n        public domSanitizer: DomSanitizer,\r\n        private modalService: ModalManager,\r\n    ) {\r\n        main.newPage(this);\r\n        \r\n        this.form = this.fb.group({\r\n            inputFiles: [\"\"],// Posem aixo només per tenir l'alerta si esta buit //\r\n            description: [\"\"],\r\n            tags: [\"\"],\r\n            major18: [false],\r\n        });\r\n\r\n        // TEST\r\n        // this.form.controls.description.setValue(\"Descripció molt molt molt molt molt molt molt molt llarga\")\r\n        // this.form.controls.tags.setValue(\"covid,joke,landscape,photo\")\r\n    }\r\n\r\n    async ngOnInit() {\r\n    }\r\n    ngOnDestroy() {\r\n        this.closePreviewModal();\r\n        this.main.onDestroyPage();\r\n    }\r\n\r\n    async addFiles() {\r\n        this.processingFiles = true;\r\n        let itemsProcessed = 0;\r\n        let files = $(\".inputFile\")[0].files;\r\n        for (let i = 0; i < files.length; i++) {\r\n            let file = files[i];\r\n            if (file) {\r\n                file.blob = this.domSanitizer.bypassSecurityTrustUrl(<string>await Utils.blobToBase64(file));\r\n                this.contentsOrdenables.items.push(file);\r\n                itemsProcessed++;\r\n                if (itemsProcessed == files.length) {\r\n                    $(\".inputFile\").val(\"\");\r\n                    this.processingFiles = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    corregirTags() {\r\n        let tags = this.form.controls.tags.value;\r\n        tags = tags\r\n            .split(/[\\s,]+/)\r\n            .map(e => Utils.parseTag(e))\r\n            .filter(e => e.length)\r\n            .join(\", \");\r\n        this.form.controls.tags.setValue(tags);\r\n    }\r\n    \r\n    async openPreviewModal() {\r\n        this.modalService.open(this.previewModal, {\r\n            size: \"xl\",\r\n            modalClass: \"previewModal\",\r\n            backdropClass: \"modal-backdrop\",\r\n            hideCloseButton: true,\r\n            centered: true,\r\n            backdrop: true,\r\n            animation: true,\r\n            keyboard: true,\r\n            closeOnOutsideClick: false,\r\n        });\r\n    }\r\n    async closePreviewModal() {\r\n        try { this.modalService.close(this.previewModal); } catch { };\r\n        await Utils.wait(0.5);\r\n        this.preview = null;\r\n    }\r\n    \r\n\r\n    public submit() {\r\n        this.form.markAllAsTouched();\r\n\r\n        this.mostrarFileRequired = !Utils.objPle(this.files);\r\n\r\n        this.corregirTags();\r\n\r\n        if (!Utils.objPle(this.files) || !this.form.valid) {\r\n            console.log(\"--- INVÀLID ---\");\r\n            console.log(this.form);\r\n            return;\r\n        }\r\n        this.preview = {\r\n            content: this.contentsOrdenables.getItemsOrdered(),\r\n            description: this.form.controls.description.value,\r\n            tags: this.form.controls.tags.value,\r\n            major18: this.form.controls.major18.value,\r\n            esObra: false,\r\n        };\r\n        \r\n        console.log(this.form);\r\n    \r\n        console.log(\"--- VÀLID ---\");\r\n\r\n        this.preview.tags = this.preview.tags.split(\", \").filter(e => e).map(e => { return { text: e } });\r\n\r\n        // Només servirà per la preview //\r\n        this.preview[\"user\"] = this.main.currentUser;\r\n        \r\n        this.openPreviewModal();\r\n    }\r\n    \r\n    publicar() {\r\n        this.carregantBotoPublicar = true;\r\n\r\n        const formData = new FormData();\r\n\r\n        this.preview.content.forEach((c, i) => {\r\n            formData.append(`content[${i}][type]`, c.type);\r\n            formData.append(`content[${i}][order]`, i);\r\n            formData.append(`content[${i}][text]`, \"\");\r\n            var file = new File([Utils.dataURLToBlob(c.blob.changingThisBreaksApplicationSecurity)], \"photo.png\");\r\n            formData.append(`content[${i}][file]`, file, \"photo.png\");\r\n        });\r\n\r\n        formData.append(\"text_post\", this.preview.description);\r\n        this.preview.tags.forEach((e) => { formData.append(\"tags[]\", e.text); });\r\n        formData.append(\"major18\", this.preview.major18 ? \"1\" : \"0\");\r\n\r\n        Utils.showFormData(formData);\r\n\r\n        this.main.ps.postFormData(\"/post/add\", formData,\r\n            async (data) => {\r\n                this.carregantBotoPublicar = false;\r\n                if (this.main.eh.hiHaError(data)) {\r\n                    console.log(\"Resposta crear post\", data);\r\n                    this.main.toastDanger(\"Couldn't create post\");\r\n                    return;\r\n                }\r\n\r\n                console.log(\"El servidor ha donat un codi correcte\", data);\r\n\r\n                this.closePreviewModal();\r\n\r\n                this.main.toastSuccess(\"Post created successfully\");\r\n\r\n                await Utils.wait(0.1);\r\n                // this.main.goToPost(data.lastId);\r\n            },\r\n            () => {\r\n                this.carregantBotoPublicar = false;\r\n                this.main.toastDanger(\"Couldn't create post\");\r\n            }\r\n        );\r\n\r\n    }\r\n}\r\n","<div class=\"content\">\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n\r\n            <div class=\"content-top row no-gutters\">\r\n                <div class=\"col-sm-3 col-12\"></div>\r\n                <div class=\"col-sm-6 col-12 order-2 order-sm-1 titol\" i18n=\"@@New post\">New post</div>\r\n                <button class=\"col-sm-3 col-12 order-1 order-sm-2 boto botoSecundari anarAArtwork\" (click)=\"main.goTo('new/artwork')\" i18n=\"@@Go to new artwork\">\r\n                    Go to new artwork <i class=\"fas fa-chevron-right\"></i></button>\r\n            </div>\r\n            \r\n            <form class=\"theme-form\" [formGroup]=\"form\">\r\n\r\n                <input class=\"form-camp inputFile\" type=\"file\" multiple (input)=\"addFiles()\" [disabled]=\"processingFiles\"\r\n                    accept=\".JPG,.PNG,.GIF,.MP4,.AVI,.MP3,.WAV,.OGG\"><!-- ,.PDF -->\r\n                \r\n                <div class=\"divContentsOrdenables clearfix\" [style.display]=\"contentsOrdenables.items.length ? 'block' : 'none'\">\r\n                    <p class=\"notaEnGris dragToOrder\" i18n=\"@@Drag to order\">Drag to order</p>\r\n                    <app-contents-ordenables #contentsOrdenables></app-contents-ordenables>\r\n                </div>\r\n\r\n                <p class=\"notaEnGris\" i18n=\"@@You can upload\">You can upload: photos (.JPG, .PNG, .GIF) and videos (.MP4, .AVI) </p><!-- and audio (.MP3, .WAV, .OGG) and text (.PDF) -->\r\n\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Description\">Description</label>\r\n                    <textarea class=\"form-camp col-sm-12 col-xl-9\" maxlength=\"3000\" formControlName=\"description\"></textarea>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Tags\">Tags</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"tags\" (blur)=\"corregirTags()\">\r\n                </div>\r\n                <div class=\"form-grup\">\r\n                    <label class=\"d-block checkbox-label\" for=\"major18\" style=\"text-align:center;\">\r\n                        <input class=\"checkbox_animated\" id=\"major18\" type=\"checkbox\" formControlName=\"major18\" i18n=\"@@The content uploaded is only for 18\">The content uploaded is only for 18+\r\n                    </label>\r\n                </div>\r\n                \r\n                <div style=\"text-align:center;\">\r\n                    <input class=\"boto botoPrincipal botoGran\" type=\"button\" value=\"Save\" (click)=\"submit()\" [disabled]=\"!contentsOrdenables.items.length\">\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<modal id=\"previewModal\" #previewModal>\r\n    <modal-content>\r\n        <app-publicacio *ngIf=\"preview\" [p]=\"preview\" [preview]=\"true\"></app-publicacio>\r\n    </modal-content>\r\n    <modal-footer>\r\n        <div class=\"botons\">\r\n            <button class=\"boto botoPrincipal botoGran back\" (click)=\"closePreviewModal()\" i18n=\"@@Back\">Back</button>\r\n            <button class=\"boto botoPrincipal botoGran post\" (click)=\"publicar()\" [disabled]=\"carregantBotoPublicar\" i18n=\"@@Post\">Post</button>\r\n        </div>\r\n    </modal-footer>\r\n</modal>\r\n","import { ErrorObject } from '../../classes/errorObject';\r\nimport { Checks } from './checks';\r\nimport { PostDTO } from './PostDTO';\r\n\r\nexport class ArtworkDTO {\r\n\r\n    id: string;\r\n    postId: string;\r\n    post: any[];\r\n    others: any;\r\n    technique: any;\r\n    dimensions: any;\r\n    material: any;\r\n    perservation: any;\r\n    location: any;\r\n    price: any;\r\n    afterChrist: any;\r\n    artistTypeId: string;\r\n    dateFormatTypeId: string ;\r\n    languageId: string;\r\n    isVisible: boolean;\r\n\r\n\r\n    errors: ErrorObject[] = [];\r\n    postDTO: PostDTO;\r\n\r\n    constructor(data){\r\n\r\n        this.id = data.id;\r\n        this.postId = data.postId;\r\n        this.post = data.post;\r\n        this.others = data.others;\r\n        this.technique = data.technique;\r\n        this.dimensions = data.dimensions;\r\n        this.material = data.material;\r\n        this.perservation = data.perservation;\r\n        this.location = data.location;\r\n        this.price = data.price;\r\n        this.afterChrist = data.afterChrist;\r\n        this.artistTypeId = data.artistTypeId;\r\n        this.dateFormatTypeId = data.dateFormatTypeId;\r\n        this.languageId = data.languageId;\r\n        this.isVisible = data.isVisible;\r\n\r\n    }\r\n\r\n    check(){\r\n\r\n        if(this.id && !Checks.checkID(this.id)){\r\n            this.errors.push(new ErrorObject(\"id\", \"id no valido\"));\r\n        }\r\n\r\n        if(this.postId && !Checks.checkID(this.postId)){\r\n            this.errors.push(new ErrorObject(\"postId\", \"postId no valido\"));\r\n        }\r\n\r\n        if(!this.post){\r\n            this.errors.push(new ErrorObject(\"post\", \"falta el post\"));\r\n        }\r\n\r\n        if(this.post){\r\n            if(new PostDTO(this.post).check().length > 0)\r\n                this.errors.push(new ErrorObject(\"post Array\", \"Error dins del array post\"));\r\n        }\r\n\r\n        if(this.others && this.others.length > ArtworkDTO.OthersLength){\r\n            this.errors.push(new ErrorObject(\"others\", \"others no valido\"));\r\n        }\r\n\r\n        if(this.technique && this.technique.length > ArtworkDTO.TechniqueLength){\r\n            this.errors.push(new ErrorObject(\"technique\", \"technique no valido\"));\r\n        }\r\n\r\n        if(this.dimensions && this.dimensions.length > ArtworkDTO.DimensionsLength){\r\n            this.errors.push(new ErrorObject(\"dimensions\", \"dimensions no valido\"));\r\n        }\r\n\r\n        if(this.material && this.material.length > ArtworkDTO.MaterialLength){\r\n            this.errors.push(new ErrorObject(\"material\", \"material no valido\"));\r\n        }\r\n\r\n        if(this.perservation && this.perservation.length > ArtworkDTO.PerservationLength){\r\n            this.errors.push(new ErrorObject(\"perservation\", \"perservation no valido\"));\r\n        }\r\n\r\n        if(this.location && this.location.length > ArtworkDTO.LocationLength){\r\n            this.errors.push(new ErrorObject(\"location\", \"location no valido\"));\r\n        }\r\n\r\n        //Per ara no hi es poden posar preus a les artworks\r\n\r\n        // if(this.price && !Checks.checkPrice(this.price)){\r\n        //     this.errors.push(new ErrorObject(\"price\", \"price no valido\"));\r\n        // }\r\n\r\n        // if(this.afterChrist && !Checks.checkDate(this.afterChrist)){\r\n        //     this.errors.push(new ErrorObject(\"afterChrist\", \"afterChrist no valido\"));\r\n        // }\r\n\r\n        if(this.artistTypeId && !Checks.checkID(this.artistTypeId)){\r\n            this.errors.push(new ErrorObject(\"artistTypeId\", \"artistTypeId no valido\"));\r\n        }\r\n\r\n        if(this.dateFormatTypeId && !Checks.checkID(this.dateFormatTypeId)){\r\n            this.errors.push(new ErrorObject(\"dateFormatTypeId\", \"dateFormatTypeId no valido\"));\r\n        }\r\n\r\n        if(this.languageId && !Checks.checkID(this.languageId)){\r\n            this.errors.push(new ErrorObject(\"languageId\", \"languageId no valido\"));\r\n        }\r\n\r\n        return this.errors;\r\n\r\n    }\r\n\r\n    static get DateLength() {\r\n        return 350;\r\n    }\r\n    static get OthersLength() {\r\n        return 350;\r\n    }\r\n    static get TechniqueLength() {\r\n        return 150;\r\n    }\r\n    static get DimensionsLength() {\r\n        return 100;\r\n    }\r\n    static get MaterialLength() {\r\n        return 150;\r\n    }\r\n    static get PerservationLength() {\r\n        return 150;\r\n    }\r\n    static get LocationLength() {\r\n        return 350;\r\n    }\r\n\r\n\r\n}","import { sha512 } from 'js-sha512'\r\nimport {ProviderService} from '../../services/provider.service';;\r\n\r\nexport class Checks {\r\n\r\n\r\n    static MIN_PASSWORD_LENGTH: Number = 6;\r\n    static MAX_PASSWORD_LENGTH: Number = 100;\r\n\r\n    static checkCredentials(email, password){\r\n        return this.checkEmail(email) && this.checkPassword(password);\r\n    }\r\n\r\n    static checkBoolean(value){\r\n        return value == true || value == false;\r\n    }\r\n\r\n    static checkEmail(email){\r\n        return String(email)\r\n        .toLowerCase()\r\n        .match(\r\n            /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/ \r\n        );\r\n    }\r\n\r\n    static checkPassword(password){\r\n        return password && password.length >= this.MIN_PASSWORD_LENGTH && password.length <= this.MAX_PASSWORD_LENGTH;\r\n    }\r\n\r\n    static checkName(name){\r\n        return String(name).match(/^[a-zA-Z0-9_]{3,50}$/);\r\n    }\r\n\r\n    static checkNickname(nickname){\r\n        nickname = String(nickname).trim();\r\n        return nickname.length>0;\r\n    }\r\n\r\n    static checkData(data){\r\n        let date = new Date(data);\r\n        return date instanceof Date && !isNaN(date.getTime());\r\n    }\r\n\r\n    static checkPhone(phone){\r\n        return String(phone).match(/^\\d{9}$/);\r\n    }\r\n\r\n    static checkBase64(base64){\r\n        return String(base64).match(/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/);\r\n    }\r\n\r\n    static checkID(id){\r\n        const regexExp = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi;\r\n        return regexExp.test(id);\r\n    }\r\n\r\n    static EncryptPassword(password){\r\n        return sha512(password);\r\n    }\r\n\r\n}","import { ErrorObject} from \"../../classes/errorObject\";\r\nimport {Checks} from \"./checks\";\r\nimport { Random } from \"./Random\";\r\n\r\nexport class FileDTO {\r\n\r\n        file: any;\r\n        tokenRecovery: string;\r\n\r\n\r\n     constructor(data){\r\n        this.file = data.file;\r\n        this.tokenRecovery = data.tokenRecovery;\r\n        if(!this.tokenRecovery){\r\n            this.generateToken();\r\n        }\r\n     }\r\n     \r\n    generateToken(){\r\n        this.tokenRecovery = Random.String(FileDTO.LengthTokenRecovery);\r\n    }\r\n\r\n    static Checks(files){\r\n        let errors = [];\r\n        for(let i=0; i<files.length; i++){\r\n            errors.concat(FileDTO.Checks(files[i]));\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    static Check(file){\r\n        let errors: ErrorObject[] = [];\r\n        if(file) {\r\n\r\n            if(!file.dataBase64){\r\n                errors.push(new ErrorObject(\"dataBase64\", \"dataBase64 no valido\"));\r\n            }\r\n\r\n            if(file.dataBase64 && !Checks.checkBase64(file.dataBase64)){\r\n                errors.push(new ErrorObject(\"dataBase64\", \"dataBase64 no valido\"));\r\n            }\r\n\r\n            if(!file.fileName || file.fileName.length == 0){\r\n                file.fileName=\"\";\r\n            }\r\n\r\n            if(!file.fileExt || file.fileExt.length == 0){\r\n                errors.push(new ErrorObject(\"fileExt\", \"falta la extensió de l'arxiu\"));\r\n            }\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    static get LengthTokenRecovery() {\r\n        return 50;\r\n    }\r\n\r\n}","\r\nexport class JsonHelper{\r\n\r\n    static Escape(strToJSONEscape){\r\n        return strToJSONEscape? strToJSONEscape.replace(/\\\\n/g, \"\\\\n\")\r\n                        .replace(/\\\\'/g, \"\\\\'\")\r\n                        .replace(/\\\\\"/g, '\\\\\"')\r\n                        .replace(/\\\\&/g, \"\\\\&\")\r\n                        .replace(/\\\\r/g, \"\\\\r\")\r\n                        .replace(/\\\\t/g, \"\\\\t\")\r\n                        .replace(/\\\\b/g, \"\\\\b\")\r\n                        .replace(/\\\\f/g, \"\\\\f\"):undefined;\r\n    }\r\n\r\n    Unescape(strToJSONUnescape){\r\n        return strToJSONUnescape? strToJSONUnescape.replace(\"\\\\n\", /\\\\n/g)\r\n                        .replace(\"\\\\'\", /\\\\'/g)\r\n                        .replace('\\\\\"', /\\\\\"/g)\r\n                        .replace(\"\\\\&\", /\\\\&/g)\r\n                        .replace(\"\\\\r\", /\\\\r/g)\r\n                        .replace(\"\\\\t\", /\\\\t/g)\r\n                        .replace(\"\\\\b\", /\\\\b/g)\r\n                        .replace(\"\\\\f\", /\\\\f/g):undefined;\r\n    }   \r\n\r\n\r\n    \r\n\r\n}","import {ErrorObject} from '../../classes/errorObject';\r\nimport {Checks} from './Checks';\r\nimport { FileDTO } from './FileDTO';\r\nimport { JsonHelper } from './JsonHelper';\r\n\r\nexport class PostDTO {\r\n\r\n    id: string;\r\n    languageId: string;\r\n    title: string;\r\n    description: string;\r\n    isDraft: boolean;\r\n    artworkRelatedId: string;\r\n    patreonMinLevelId: string;\r\n    fileIds: []; \r\n    files: [];\r\n    \r\n    jsonHelper: JsonHelper;\r\n    \r\n    errors: ErrorObject[] = [];\r\n\r\n    constructor(obj){\r\n\r\n        this.id = obj.id;\r\n        this.languageId = obj.languageId;\r\n        this.title = obj.title;\r\n        this.description = obj.description;\r\n        this.isDraft = obj.isDraft;\r\n        this.artworkRelatedId = obj.artworkRelatedId;\r\n        this.patreonMinLevelId = obj.patreonMinLevelId;\r\n        this.fileIds = obj.fileIds;\r\n        this.files = obj.files;\r\n\r\n    }\r\n\r\n\r\n    check(): ErrorObject[] {\r\n\r\n        if (this.id && !Checks.checkID(this.id))\r\n            this.errors.push(new ErrorObject(\"id\",\"ID no és valid\"));\r\n        \r\n        if (this.languageId && !Checks.checkID(this.languageId))\r\n            this.errors.push(new ErrorObject(\"LanguageID\",\"languageId no és valid\"));\r\n        \r\n        if (this.patreonMinLevelId && !Checks.checkID(this.patreonMinLevelId))\r\n            this.errors.push(new ErrorObject(\"patreonMinLevelID\", \"patreonMinLevelId no és valid\"));\r\n        \r\n        if (this.artworkRelatedId && !Checks.checkID(this.artworkRelatedId))\r\n            this.errors.push(new ErrorObject(\"ArtworkRelatedID\", \"ArtworkRelatedId no és valid\"));\r\n\r\n        if(this.title && JsonHelper.Escape(this.title).length >PostDTO.MAX_TITLE_LENGTH)\r\n            this.errors.push(new ErrorObject(\"Title\", \"Títol massa llarg\"));\r\n        if(this.description && JsonHelper.Escape(this.description).length>PostDTO.MAX_DESCRIPTION_LENGTH)\r\n            this.errors.push(new ErrorObject(\"Description\", \"Descripció massa llarga\")); \r\n        if(!this.fileIds && !this.files)\r\n            this.errors.push(new ErrorObject(\"fileIDs\", \"No hi ha cap fitxer\"));\r\n        if(this.fileIds && this.fileIds.length==0 && (!this.files||this.files.length == 0))\r\n            this.errors.push(new ErrorObject(\"fileIDs\", \"No hi ha cap fitxer\"));\r\n        if(this.fileIds && this.fileIds.filter(f=>!Checks.checkID(f)).length>0)\r\n            this.errors.push(new ErrorObject(\"fileIDs\", \"Algun fitxer no és valid, només UUIDs!\"));\r\n        if(this.files){\r\n            this.errors.concat(FileDTO.Checks(this.files));\r\n        } \r\n\r\n        return this.errors;\r\n\r\n    }\r\n\r\n    static get MAX_TITLE_LENGTH() {\r\n        return 150;\r\n    }\r\n    static get MAX_DESCRIPTION_LENGTH() {\r\n        return 1050;\r\n    }\r\n\r\n}","\r\nconst CHAR_LIST = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\nexport class Random {\r\n\r\n    static String(length){\r\n        let result = '';\r\n        let characters = '';\r\n        let charactersLength = characters.length;\r\n        for(let i = 0; i < length; i++){\r\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static CheckStringCharList(str){\r\n        let isOk = true;\r\n        for(let i=0; isOk && i<str.length; i++){\r\n            isOk = CHAR_LIST.indexOf(str.charAt(i))>=0;\r\n        }\r\n        return isOk;\r\n    }\r\n    static Integer(maxExcluded){\r\n        return Math.floor(Math.random() * maxExcluded);\r\n    }\r\n    \r\n    static Position(arr){\r\n        return arr != undefined ? Random.Integer(arr.length) : undefined;\r\n    }\r\n\r\n    static Value(arr, filterMethod){\r\n        let pos;\r\n        if(arr){\r\n            do {\r\n                pos = Random.Position(arr);\r\n            } while (filterMethod && !filterMethod(arr[pos]));\r\n        }\r\n        return arr != undefined ? Random.Integer(arr.length) : undefined;\r\n    }\r\n\r\n    static async ValueAsync(arr, filterMethod){\r\n        return Random.Value(await arr, filterMethod);\r\n    }\r\n    \r\n\r\n}"],"sourceRoot":"webpack:///"}