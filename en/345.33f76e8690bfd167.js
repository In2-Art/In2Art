"use strict";(self.webpackChunkspace=self.webpackChunkspace||[]).push([[345],{1673:(x,O,i)=>{i.d(O,{c:()=>u});var g=i(9671),p=i(4857),e=i(9858),M=i(3563),m=i(2474),f=i(8980),v=i(1250);class u{constructor({post:r,price:o,afterChrist:t,artistTypeId:h,dateFormatType:I,date:s,languages:l,community:n,artworkId:a,id:c}){try{this.postTimelapse=new m.Vb(r),this.price=o,this.afterChrist=t,this.artistTypeId=new M.r(h),this.dateFormatTypeId=I?new M.r(I):null,this.date=s,this.languages=new Map,l.map(d=>new v.Z(d)).forEach(d=>{if(!d.languageId||!d.languageId.value)throw new p.B;this.languages.set(d.languageId.value,d)}),this.community=n?new f.Fe(n):f.Fe.UnkonwnUser,this.artworkId=new M.r(a),this.id=new M.r(c)}catch{throw new p.B}}getLanguage(r){var o=this;return(0,g.Z)(function*(){let t,h,I=yield e.S.getLanguageIds(r);for(let s=0;s<I.length&&!t;s++)h=I[s].value,h&&(t=o.languages.get(h));return t})()}static getNewInstance(r){let o;if(o=new u(r),!o)throw new p.B;return o}static getNewInstanceArray(r){return r.map(u.getNewInstance)}}},1250:(x,O,i)=>{i.d(O,{Z:()=>e});var g=i(2503),p=i(3563);class e extends g.X{constructor({others:m,technique:f,dimensions:v,material:u,perservation:_,location:r,languageId:o}){super(),this.others=m,this.technique=f,this.dimensions=v,this.material=u,this.perservation=_,this.location=r,this.languageId=o instanceof p.r?o:new p.r(o)}check(){let m=new Map;return this.languageId.isOk()||m.set("languageId","languageId is not valid"),this.others&&this.others.length>e.OthersLength&&m.set("others",`others length must be less than ${e.OthersLength}`),this.technique&&this.technique.length>e.TechniqueLength&&m.set("technique",`technique length must be less than ${e.TechniqueLength}`),this.dimensions&&this.dimensions.length>e.DimensionsLength&&m.set("dimensions",`dimensions length must be less than ${e.DimensionsLength}`),this.material&&this.material.length>e.MaterialLength&&m.set("material",`material length must be less than ${e.MaterialLength}`),this.perservation&&this.perservation.length>e.PerservationLength&&m.set("perservation",`perservation length must be less than ${e.PerservationLength}`),this.location&&this.location.length>e.LocationLength&&m.set("location",`location length must be less than ${e.LocationLength}`),m}static get DateLength(){return 350}static get OthersLength(){return 350}static get TechniqueLength(){return 150}static get DimensionsLength(){return 100}static get MaterialLength(){return 150}static get PerservationLength(){return 150}static get LocationLength(){return 350}}},2474:(x,O,i)=>{i.d(O,{SO:()=>s,Vb:()=>h});var g=i(9671),p=i(2503),e=i(3563),M=i(8420),m=i(6077),f=i(8980);class v{constructor({profile:n,id:a,name:c}){this.id=new e.r(a.toString()),this.name=c,this.profile=n?n instanceof f.Fe?n:0===Object.keys(n).length?null:new f.Fe(n):null}}class u{constructor({isVerified:n,verifiedAt:a,artist:c}){this.isVerified=n,this.verifiedAt=a,this.artist=c instanceof v?c:0===Object.keys(c).length?null:new v(c)}}var _=i(7801),r=i(4434),o=i(9858);class t extends p.X{constructor({languageId:n,title:a,description:c}){super(),this.languageId=new e.r(n.toString()),this.title=a,this.description=c}check(){let n=new Map;return this.languageId.isOk()||n.set("languageId","languageId is not valid"),this.title&&this.title.length>t.MaxTitleLength&&n.set("title",`title length must be less than ${t.MaxTitleLength}`),this.description&&this.description.length>t.MaxDescriptionLength&&n.set("description",`description length must be less than ${t.MaxDescriptionLength}`),n}static get MaxTitleLength(){return 150}static get MaxDescriptionLength(){return 1050}}class h{constructor({postTimelapseId:n,artworkId:a,post:c,community:d,createdAt:E}){this.postTimelapseId=new e.r(n),this.artworkId=a?new e.r(a):null,this.post=c instanceof I?c:new I(c),this.community=d?d instanceof f.Fe?d:new f.Fe(d):f.Fe.UnkonwnUser,this.createdAt=E?new Date(E):null}get isArtwork(){return null!=this.artworkId}toString(){return this.postTimelapseId.toString()}}class I{constructor({postId:n,languages:a,isDraft:c,artworkRelatedId:d,patreonMinLevelId:E,files:C,artists:L}){let D;this.postId=new e.r(n),this.languages=new Map,this.isDraft=c,this.artworkRelatedId=d?new e.r(d):null,this.patreonMinLevelId=E?new e.r(E):null,this.files=C?C.map(w=>new m.D(w)):null,this.artists=L?L.map(w=>new u(w)):[],a&&a.forEach(w=>{let P=new t(w);D=P.languageId.value,D||(D=""),this.languages.set(D,P)})}getLanguage(n){var a=this;return(0,g.Z)(function*(){let c,d,E=yield o.S.getLanguageIds(n);for(let C=0;C<E.length&&!c;C++)d=E[C].value,d&&(c=a.languages.get(d));return c})()}}class s extends p.X{constructor({id:n,languages:a,isDraft:c,artworkRelatedId:d,patreonMinLevelId:E,fileIds:C,files:L,artistIds:D,artworkId:w}){super(),this.id=n?new e.r(n.toString()):null,this.languages=a?a.map(P=>P instanceof t?P:new t(P)):null,this.isDraft=c,this.artworkRelatedId=d?new e.r(d.toString()):null,this.patreonMinLevelId=E?new e.r(E.toString()):null,this.fileIds=C?C.map(P=>new e.r(P.toString())):null,this.files=L?L.map(P=>P instanceof M._?P:new M._(P)):null,this.artistIds=D?D.map(P=>new e.r(P.toString())):[],this.artworkId=w?new e.r(w.toString()):null}check(){let n=new Map;return this.id&&!this.id.isOk()&&n.set("id","id is not valid"),this.languages&&(0==this.languages.length?n.set("languages","languages is empty"):this.languages.some(a=>!a.isOk())&&n.set("languages","languages is not valid")),this.artworkRelatedId&&!this.artworkRelatedId.isOk()&&n.set("artworkRelatedId","artworkRelatedId is not valid"),this.patreonMinLevelId&&!this.patreonMinLevelId.isOk()&&n.set("patreonMinLevelId","patreonMinLevelId is not valid"),this.fileIds&&this.fileIds.length>0&&this.fileIds.some(a=>!a.isOk())&&n.set("fileIds","fileIds is not valid"),this.files&&this.files.length>0&&this.files.some(a=>!a.isOk())&&n.set("files","files is not valid"),this.artistIds&&this.artistIds.some(a=>!a.isOk())&&n.set("artistIds","artistIds is not valid"),n}static get urlRel(){return"posts"}static getNewInstance(n){return new h(n)}static getNewInstanceArray(n){return n.map(s.getNewInstance)}static take(n=5){return(0,g.Z)(function*(){return yield _.V0.get(r.y.join(s.urlRel,"take",n),!0,s.getNewInstanceArray)})()}}},623:(x,O,i)=>{i.d(O,{XJ:()=>o,k6:()=>t,lL:()=>r,od:()=>_});var g=i(9671),p=i(4434),e=i(7801),M=i(1673),m=i(2503),f=i(6077),v=i(6892),u=i(3563);class _ extends m.X{constructor({name:s,description:l,languageId:n}){super(),this.name=s,this.description=l,this.languageId=new u.r(n)}check(){let s=new Map;return this.name&&this.name.length>_.MaxLengthName&&s.set("name",`name is too long, max length is ${_.MaxLengthName}`),this.description&&this.description.length>_.MaxLengthDescription&&s.set("description",`description is too long, max length is ${_.MaxLengthDescription}`),this.languageId||s.set("languageId","languageId is required"),this.languageId&&!this.languageId.isOk()&&s.set("languageId","languageId is not valid"),s}static get MaxLengthName(){return 150}static get MaxLengthDescription(){return 1050}}class r extends m.X{constructor({languages:s,image:l,spaceId:n}){super(),this.image=l,this.spaceId=new u.r(n.toString()),this.languages=s.map(a=>new _(a))}check(){let l,s=new Map;if(this.image&&!this.image.isOk()&&s.set("image","image is not valid"),this.spaceId.isOk()||s.set("spaceId","spaceId is required"),this.languages&&0!==this.languages.length)for(let n=0;n<this.languages.length;n++)l=this.languages[n].check(),l.size>0&&s.set(`languages[${n}]`,JSON.stringify(l));else s.set("languages","languages is required");return s}static get urlRel(){return"spaceRooms"}static getNewInstance(s){return new r(s)}static get(s){return(0,g.Z)(function*(){return e.V0.get(p.y.join(r.urlRel,s),!0,t.getNewInstance)})()}static post(s){return(0,g.Z)(function*(){if(s instanceof r||(s=new r(s)),s.languages.some(l=>!l.name))throw new Error("name is required");return e.V0.post(r.urlRel,s,!0,v.t.getNewInstance)})()}static put(s,l){return(0,g.Z)(function*(){return l instanceof r||(l=new r(l)),e.V0.put(p.y.join(r.urlRel,s),l,!0,v.t.getNewInstance)})()}static delete(s){return(0,g.Z)(function*(){return e.V0.delete(p.y.join(r.urlRel,s),!0,v.t.getNewInstance)})()}}class o{constructor({id:s,spaceId:l,languages:n,image:a}){this.id=new u.r(s),this.spaceId=new u.r(l),this.languages=n?n.map(c=>new _(c)):[],this.image=a?new f.D(a):null}static getNewInstance(s){return new o(s)}}class t extends o{constructor({id:s,spaceId:l,languages:n,image:a,artworks:c}){super({id:s,spaceId:l,languages:n,image:a}),this.artworks=h.getNewInstanceArray(c)}static getNewInstance(s){return new t(s)}}class h{constructor({id:s,spaceRoomId:l,views:n,artwork:a}){this.id=new u.r(s),this.spaceRoomId=new u.r(l),this.views=n,this.artwork=a?new M.c(a):null}static getNewInstance(s){return new h(s)}static getNewInstanceArray(s){return s.map(l=>h.getNewInstance(l))}}},3989:(x,O,i)=>{i.d(O,{S:()=>v});var g=i(4650),p=i(6358),e=i(6272),M=i(6895),m=i(2839);function f(u,_){if(1&u&&(g.\u0275\u0275elementStart(0,"div",1)(1,"div",2),g.\u0275\u0275element(2,"app-foto-perfil",3),g.\u0275\u0275elementEnd()()),2&u){const r=g.\u0275\u0275nextContext();g.\u0275\u0275advance(2),g.\u0275\u0275property("user",r.main.apiHelpers.currentUser)}}let v=(()=>{class u{constructor(r,o){this.main=r,this.router=o,this.ngOnChanges()}setAndConfig(){}ngOnChanges(){this.detectRoute()}detectRoute(){this.simpleRoute=this.router.url,this.isNewSpace="/spaces/new-space"==this.simpleRoute}setNewBanner(){}deleteBannerIMG(){}setNewProfilePicture(){}deleteProfilePicture(){}}return u.\u0275fac=function(r){return new(r||u)(g.\u0275\u0275directiveInject(p.J),g.\u0275\u0275directiveInject(e.F0))},u.\u0275cmp=g.\u0275\u0275defineComponent({type:u,selectors:[["app-banner"]],features:[g.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["class","banner",4,"ngIf"],[1,"banner"],[1,"profile"],[3,"user"]],template:function(r,o){1&r&&g.\u0275\u0275template(0,f,3,1,"div",0),2&r&&g.\u0275\u0275property("ngIf",!o.isNewSpace)},dependencies:[M.NgIf,m.d],styles:['@charset "UTF-8";.banner[_ngcontent-%COMP%]{display:block;height:300px;margin-top:30px;max-width:100%;max-height:300px;background-image:url(dali.c4e63b84b1c638ee.jpg);object-fit:cover;background-size:cover}.banner[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{position:sticky;top:25%;left:85%;width:150px;height:150px}.hero-banner[_ngcontent-%COMP%]{height:300px;margin-top:30px;display:block;max-width:100%;max-height:300px;object-fit:cover;background-image:linear-gradient(rgb(88,85,85),rgb(61,53,53));background-size:cover;margin-bottom:40px;cursor:pointer}.hero-banner[_ngcontent-%COMP%]   .hero-txt[_ngcontent-%COMP%]{text-align:center;position:absolute;top:22%;left:50%;transform:translate(-50%,-50%);color:#fff}.hero-banner[_ngcontent-%COMP%]   .hero-txt[_ngcontent-%COMP%]   .txtArtwork[_ngcontent-%COMP%]{letter-spacing:20px}.hero-banner[_ngcontent-%COMP%]   .hero-txt[_ngcontent-%COMP%]   .txtArtist[_ngcontent-%COMP%]{letter-spacing:20px;border-top:2px solid;border-top:2%}.hero-banner[_ngcontent-%COMP%]   .new-profilePhoto[_ngcontent-%COMP%]{position:absolute;top:26%;left:85%;width:150px;height:150px}']}),u})()},2839:(x,O,i)=>{i.d(O,{d:()=>_});var g=i(9671),p=i(1274),e=i(4650),M=i(6358),m=i(6895);function f(r,o){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"img",2),e.\u0275\u0275listener("error",function(){e.\u0275\u0275restoreView(t);const I=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(I.userImage=I.fotoNoImage)}),e.\u0275\u0275elementEnd()}if(2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275styleProp("background",t.getBackground()),e.\u0275\u0275property("src",t.userImage||t.fotoNoImage,e.\u0275\u0275sanitizeUrl)("alt",t.user.nickname)}}function v(r,o){if(1&r&&e.\u0275\u0275element(0,"div",3,4),2&r){const t=e.\u0275\u0275reference(1);e.\u0275\u0275styleProp("height",t.offsetWidth,"px")("width",t.offsetHeight,"px")}}function u(r,o){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"img",2),e.\u0275\u0275listener("error",function(){e.\u0275\u0275restoreView(t);const I=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(I.user.photo=I.fotoNoImage)}),e.\u0275\u0275elementEnd()}if(2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275styleProp("background",t.getBackground()),e.\u0275\u0275property("src",t.user.photo,e.\u0275\u0275sanitizeUrl)("alt",t.user.anonNickname)}}let _=(()=>{class r{constructor(t){this.main=t,this.fotoNoImage="assets/in2art/imatges/noimageSmall.png"}ngOnInit(){var t=this;return(0,g.Z)(function*(){t.assignPhoto()})()}assignPhoto(){var t=this;return(0,g.Z)(function*(){if(!t.user?.anonNickname){if(t.user.photo)return void(t.userImage=t.user.photo);t.userImage=p.c.prependImagesUrl(t.user.userPictureURL?t.imagePathTest:t.user.userPicture),t.user.userPictureURL&&(t.userImage=p.c.prependImagesUrl(t.user.userPictureURL))}})()}getBackground(){return this.teFotoDefault(this.userImage)?this.hueToHSL(this.user.color):"none"}hueToHSL(t){return null==t?"hsl(0deg 0% 90%)":`hsl(${t}deg 100% 50%)`}teFotoDefault(t){return t||!1}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(M.J))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-foto-perfil"]],inputs:{id:"id",username:"username",user:"user"},decls:3,vars:3,consts:[["class","foto",3,"src","alt","background","error",4,"ngIf"],["class","foto skeleton",3,"height","width",4,"ngIf"],[1,"foto",3,"src","alt","error"],[1,"foto","skeleton"],["skeleton",""]],template:function(t,h){1&t&&(e.\u0275\u0275template(0,f,1,4,"img",0),e.\u0275\u0275template(1,v,2,4,"div",1),e.\u0275\u0275template(2,u,1,4,"img",0)),2&t&&(e.\u0275\u0275property("ngIf",!(null!=h.user&&h.user.anonNickname)&&h.userImage),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(h.userImage||null!=h.user&&h.user.anonNickname)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==h.user?null:h.user.anonNickname)&&!h.userImage))},dependencies:[m.NgIf],styles:[".foto[_ngcontent-%COMP%]{width:inherit;border-radius:160px;max-width:100%;max-height:100%;object-fit:cover;border:50px}.skeleton[_ngcontent-%COMP%]{background-color:gray}"]}),r})()}}]);