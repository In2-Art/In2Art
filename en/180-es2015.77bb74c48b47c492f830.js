(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[180],{4180:function(e,t,n){"use strict";n.r(t),n.d(t,{InterestsModule:function(){return O}});var i=n(1116),o=n(4172),a=n(1041),s=n(4391),c=n(2080),r=n(4762),m=n(8816),d=n(4173),l=n(5366),g=n(2927),p=n(5641);function u(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",15),l["\u0275\u0275listener"]("click",function(){const e=t.$implicit;return e.selected=!e.selected}),l["\u0275\u0275elementStart"](1,"img",16),l["\u0275\u0275listener"]("error",function(){const t=l["\u0275\u0275restoreView"](e).$implicit,n=l["\u0275\u0275nextContext"]();return t.img=n.fotoNoImage}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](2,"p",17),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;l["\u0275\u0275property"]("name",e.name),l["\u0275\u0275attribute"]("data-selected",e.selected)("data-id",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275propertyInterpolate1"]("alt","Image of ",e.name,""),l["\u0275\u0275property"]("src",e.img,l["\u0275\u0275sanitizeUrl"]),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.name)}}function v(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275element"](1,"app-loading"),l["\u0275\u0275elementEnd"]())}function h(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",18),l["\u0275\u0275listener"]("click",function(){const e=t.$implicit;return e.selected=!e.selected}),l["\u0275\u0275elementStart"](1,"img",19),l["\u0275\u0275listener"]("error",function(){const t=l["\u0275\u0275restoreView"](e).$implicit,n=l["\u0275\u0275nextContext"]();return t.img=n.fotoNoImage}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](2,"p",20),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;l["\u0275\u0275property"]("name",e.name),l["\u0275\u0275attribute"]("data-selected",e.selected)("data-id",e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275propertyInterpolate1"]("alt","Image of ",e.name,""),l["\u0275\u0275property"]("src",e.img,l["\u0275\u0275sanitizeUrl"]),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.name)}}function M(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275element"](1,"app-loading"),l["\u0275\u0275elementEnd"]())}const f=[{path:"",children:[{path:"medium",component:(()=>{class e{constructor(e){this.main=e,this.mediumsTotals=[],this.interessosMin=5,this.loadingMedium=!0,this.fotoNoImage="assets/in2art/imatges/noImageSmall.png",e.newPage(this)}ngOnInit(){var e;return(0,r.mG)(this,void 0,void 0,function*(){let t=yield this.getUserMediums();this.main.params||(this.main.params=[]),this.main.params.mediums||(this.main.params.mediums=[]),this.main.params.movements||(this.main.params.movements=[]);let n=yield this.main.provider.getMediums();for(const i in n)n[i].id_categoria&&n[i].nom_categoria&&-1!=n[i].id_categoria&&this.mediumsTotals.push({id:n[i].id_categoria,name:n[i].nom_categoria,img:`assets/in2art/imatges/mediums/${n[i].nom_categoria.replaceAll("/","-").toLowerCase()}.jpg`,selected:m.c.arrayConte(null===(e=this.main.params)||void 0===e?void 0:e.mediums,n[i].id_categoria)}),(null==t?void 0:t.includes(n[i].id_categoria))&&!this.main.params.mediums.length&&(this.mediumsTotals[i].selected=!0);this.loadingMedium=!1})}ngOnDestroy(){this.main.params.mediums=this.mediums,this.main.onDestroyPage()}submit(){this.mediums=this.mediumsTotals.filter(e=>e.selected).map(e=>e.id),console.log(this.mediums),this.mediums.length<this.interessosMin?d(".pleaseSelect1").slideDown(200):this.main.goTo("/interests/movement")}getUserMediums(){return(0,r.mG)(this,void 0,void 0,function*(){let e=[];return(yield this.main.provider.getMediumsByUserId(this.main.currentUser.id)).forEach(t=>e.push(t.id_categoria)),e})}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](g.J))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-interests-medium"]],decls:15,vars:3,consts:function(){let e,t,n,i;return e="Select your interests",t="Medium",n="Please select " + "\ufffd0\ufffd" + " interests minimum",i="Next",[[1,"content"],[1,"card"],[1,"card-body"],[1,"title"],e,[1,"subtitle"],t,[1,"mediums","clearfix"],["class","medium",3,"name","click",4,"ngFor","ngForOf"],[1,"pleaseSelect1",2,"display","none"],n,[4,"ngIf"],[1,"divSave"],[1,"boto","botoPrincipal","botoPetit",3,"click"],i,[1,"medium",3,"name","click"],[3,"src","alt","error"],[1,"text","capitalizeFirst"]]},template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"h2",3),l["\u0275\u0275i18n"](4,4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"h3",5),l["\u0275\u0275i18n"](6,6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"div",7),l["\u0275\u0275template"](8,u,4,6,"div",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"div",9),l["\u0275\u0275i18n"](10,10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](11,v,2,0,"div",11),l["\u0275\u0275elementStart"](12,"div",12),l["\u0275\u0275elementStart"](13,"button",13),l["\u0275\u0275listener"]("click",function(){return t.submit()}),l["\u0275\u0275i18n"](14,14),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](8),l["\u0275\u0275property"]("ngForOf",t.mediumsTotals),l["\u0275\u0275advance"](2),l["\u0275\u0275i18nExp"](t.interessosMin),l["\u0275\u0275i18nApply"](10),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.loadingMedium))},directives:[i.NgForOf,i.NgIf,p.N],styles:[".content[_ngcontent-%COMP%]{max-width:940px;padding:100px 0;border:none}.content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{text-align:center;color:gray}.content[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]{cursor:pointer;float:left;padding:0;margin:5px;width:calc(25% - 10px);overflow:hidden;border-radius:20px;transition:all .2s ease}.content[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .2s ease;-o-object-fit:cover;object-fit:cover;width:100%;height:200px;border:0 solid transparent;border-radius:20px}.content[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]   p.text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-align:center;font-size:16px;margin:7px 0}.content[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[data-selected=true][_ngcontent-%COMP%]{background-color:#ddd;color:#000;border-radius:20px}.content[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[data-selected=true][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-width:10px;border-radius:20px}.content[_ngcontent-%COMP%]   .pleaseSelect1[_ngcontent-%COMP%]{color:red;text-align:center;font-weight:700;padding-top:20px}.content[_ngcontent-%COMP%]   .divSave[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.content[_ngcontent-%COMP%]   .divSave[_ngcontent-%COMP%]   button.boto[_ngcontent-%COMP%]{text-align:center}@media only screen and (max-width:576px){.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:5px}.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]{width:calc(33.33% - 10px)}.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px}.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]   p.text[_ngcontent-%COMP%]{font-size:14px}}"]}),e})()},{path:"movement",component:(()=>{class e{constructor(e){this.main=e,this.movementsTotals=[],this.interessosMin=5,this.disabledButton=!1,this.loadingMovment=!0,this.fotoNoImage="assets/in2art/imatges/noImageSmall.png",e.newPage(this)}ngOnInit(){var e,t;return(0,r.mG)(this,void 0,void 0,function*(){let n=yield this.getUserMovements();(null===(e=this.main.params)||void 0===e?void 0:e.mediums)&&this.main.params.mediums.length||this.main.goTo("/interests/medium");let i=yield this.main.provider.getMovements();for(const e in i)i[e].id_estil&&i[e].nom_estil&&-1!=i[e].id_estil&&this.movementsTotals.push({id:i[e].id_estil,name:i[e].nom_estil,img:`assets/in2art/imatges/movements/${i[e].nom_estil.replaceAll("/","-").toLowerCase()}.jpg`,selected:m.c.arrayConte(null===(t=this.main.params)||void 0===t?void 0:t.movements,i[e].id_estil)}),(null==n?void 0:n.includes(i[e].id_estil))&&!this.main.params.movements.length&&(this.movementsTotals[e].selected=!0);this.loadingMovment=!1})}ngOnDestroy(){this.main.params||(this.main.params=[]),this.main.params.movements=this.movementsTotals.filter(e=>e.selected).map(e=>e.id),this.main.onDestroyPage()}back(){this.main.goTo("/interests/medium")}submit(){return(0,r.mG)(this,void 0,void 0,function*(){if(this.movements=this.movementsTotals.filter(e=>e.selected).map(e=>e.id),this.movements.length<this.interessosMin)return void d(".pleaseSelect1").slideDown(200);this.disabledButton=!0;let e=yield this.main.provider.postMedium(this.main.params.mediums),t=yield this.main.provider.postMovment(this.main.params.movements);this.disabledButton=!1,this.main.eh.hiHaError(e)?this.main.toastDanger("Error saving mediums"):this.main.eh.hiHaError(t)?this.main.toastDanger("Error saving movements"):(this.main.toastSuccess("Interests saved successfully"),delete this.main.params,this.main.goTo("/"))})}getUserMovements(){return(0,r.mG)(this,void 0,void 0,function*(){let e=[];return(yield this.main.provider.getMovementsByUserId(this.main.currentUser.id)).forEach(t=>e.push(t.id_estil)),e})}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](g.J))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-interests-movement"]],decls:19,vars:4,consts:function(){let e,t,n,i,o;return e="Select your interests",t="Movement",n="Please select " + "\ufffd0\ufffd" + " interests minimum",i="Back",o="Next",[[1,"content"],[1,"card"],[1,"card-body"],[1,"title"],e,[1,"subtitle"],t,[1,"movements","clearfix"],["class","movement",3,"name","click",4,"ngFor","ngForOf"],[1,"pleaseSelect1",2,"display","none"],n,[4,"ngIf"],[1,"divSave"],[1,"boto","botoPrincipal","botoPetit","botoText",3,"click"],[1,"fas","fa-chevron-left","mr-1"],i,[1,"boto","botoPrincipal","botoPetit",3,"disabled","click"],o,[1,"movement",3,"name","click"],[3,"src","alt","error"],[1,"text","capitalizeFirst"]]},template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"h2",3),l["\u0275\u0275i18n"](4,4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"h3",5),l["\u0275\u0275i18n"](6,6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"div",7),l["\u0275\u0275template"](8,h,4,6,"div",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"div",9),l["\u0275\u0275i18n"](10,10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](11,M,2,0,"div",11),l["\u0275\u0275elementStart"](12,"div",12),l["\u0275\u0275elementStart"](13,"button",13),l["\u0275\u0275listener"]("click",function(){return t.back()}),l["\u0275\u0275element"](14,"i",14),l["\u0275\u0275elementContainerStart"](15),l["\u0275\u0275i18n"](16,15),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"button",16),l["\u0275\u0275listener"]("click",function(){return t.submit()}),l["\u0275\u0275i18n"](18,17),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](8),l["\u0275\u0275property"]("ngForOf",t.movementsTotals),l["\u0275\u0275advance"](2),l["\u0275\u0275i18nExp"](t.interessosMin),l["\u0275\u0275i18nApply"](10),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.loadingMovment),l["\u0275\u0275advance"](6),l["\u0275\u0275property"]("disabled",t.disabledButton))},directives:[i.NgForOf,i.NgIf,p.N],styles:[".content[_ngcontent-%COMP%]{max-width:940px;padding:100px 0;border:none}.content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{text-align:center;color:gray}.content[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[_ngcontent-%COMP%]{cursor:pointer;float:left;padding:0;margin:5px;width:calc(25% - 10px);overflow:hidden;border-radius:20px;transition:all .2s ease}.content[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .2s ease;-o-object-fit:cover;object-fit:cover;width:100%;height:200px;border:0 solid transparent;border-radius:20px}.content[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[_ngcontent-%COMP%]   p.text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-align:center;font-size:16px;margin:7px 0}.content[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[data-selected=true][_ngcontent-%COMP%]{background-color:#ddd;color:#000;border-radius:20px}.content[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[data-selected=true][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-width:10px;border-radius:20px}.content[_ngcontent-%COMP%]   .pleaseSelect1[_ngcontent-%COMP%]{color:red;text-align:center;font-weight:700;padding-top:20px}.content[_ngcontent-%COMP%]   .divSave[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.content[_ngcontent-%COMP%]   .divSave[_ngcontent-%COMP%]   button.boto[_ngcontent-%COMP%]{margin:0 5px}@media only screen and (max-width:576px){.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:5px}.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[_ngcontent-%COMP%]{width:calc(33.33% - 10px)}.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px}.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[_ngcontent-%COMP%]   p.text[_ngcontent-%COMP%]{font-size:14px}}"]}),e})()},{path:"",pathMatch:"full",redirectTo:"/interests/medium"}]}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[c.Bz.forChild(f)],c.Bz]}),e})();var C=n(1073),P=n(5703);let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[_,i.CommonModule,o.m,a.u5,s.A0,C.QG,P.zk]]}),e})()}}]);