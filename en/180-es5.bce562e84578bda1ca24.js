!function(){var e,t,n,i,o,r,a,c,s;function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[180],{4180:function(l,g,p){"use strict";p.r(g),p.d(g,{InterestsModule:function(){return B}});var v=p(1116),f=p(8826),h=p(1041),M=p(4391),O=p(2080),P=p(4762),_=p(8816),C=p(4173),b=p(5366),x=p(1407),y=p(5641);function w(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",15),b["\u0275\u0275listener"]("click",function(){var e=t.$implicit;return e.selected=!e.selected}),b["\u0275\u0275elementStart"](1,"img",16),b["\u0275\u0275listener"]("error",function(){var e=b["\u0275\u0275restoreView"](n).$implicit,t=b["\u0275\u0275nextContext"]();return e.img=t.fotoNoImage}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p",17),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;b["\u0275\u0275property"]("name",i.name),b["\u0275\u0275attribute"]("data-selected",i.selected)("data-id",i.id),b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate1"]("alt","Image of ",i.name,""),b["\u0275\u0275property"]("src",i.img,b["\u0275\u0275sanitizeUrl"]),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](i.name)}}function S(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275element"](1,"app-loading"),b["\u0275\u0275elementEnd"]())}function k(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",18),b["\u0275\u0275listener"]("click",function(){var e=t.$implicit;return e.selected=!e.selected}),b["\u0275\u0275elementStart"](1,"img",19),b["\u0275\u0275listener"]("error",function(){var e=b["\u0275\u0275restoreView"](n).$implicit,t=b["\u0275\u0275nextContext"]();return e.img=t.fotoNoImage}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p",20),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;b["\u0275\u0275property"]("name",i.name),b["\u0275\u0275attribute"]("data-selected",i.selected)("data-id",i.id),b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate1"]("alt","Image of ",i.name,""),b["\u0275\u0275property"]("src",i.img,b["\u0275\u0275sanitizeUrl"]),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](i.name)}}function E(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275element"](1,"app-loading"),b["\u0275\u0275elementEnd"]())}var I,z,T,N=[{path:"",children:[{path:"medium",component:(z=function(){function e(t){d(this,e),this.main=t,this.mediumsTotals=[],this.interessosMin=5,this.loadingMedium=!0,this.fotoNoImage="assets/in2art/imatges/noImageSmall.png",t.newPage(this)}return u(e,[{key:"ngOnInit",value:function(){var e;return(0,P.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getUserMediums();case 2:return n=t.sent,this.main.params||(this.main.params=[]),this.main.params.mediums||(this.main.params.mediums=[]),this.main.params.movements||(this.main.params.movements=[]),t.next=6,this.main.provider.getMediums();case 6:for(o in i=t.sent)i[o].id_categoria&&i[o].nom_categoria&&-1!=i[o].id_categoria&&this.mediumsTotals.push({id:i[o].id_categoria,name:i[o].nom_categoria,img:"assets/in2art/imatges/mediums/".concat(i[o].nom_categoria.replaceAll("/","-").toLowerCase(),".jpg"),selected:_.c.arrayConte(null===(e=this.main.params)||void 0===e?void 0:e.mediums,i[o].id_categoria)}),(null==n?void 0:n.includes(i[o].id_categoria))&&!this.main.params.mediums.length&&(this.mediumsTotals[o].selected=!0);this.loadingMedium=!1;case 9:case"end":return t.stop()}},t,this)}))}},{key:"ngOnDestroy",value:function(){this.main.params.mediums=this.mediums,this.main.onDestroyPage()}},{key:"submit",value:function(){this.mediums=this.mediumsTotals.filter(function(e){return e.selected}).map(function(e){return e.id}),console.log(this.mediums),this.mediums.length<this.interessosMin?C(".pleaseSelect1").slideDown(200):this.main.goTo("/interests/movement")}},{key:"getUserMediums",value:function(){return(0,P.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.main.provider.getMediumsByUserId(this.main.currentUser.id);case 3:return e.sent.forEach(function(e){return t.push(e.id_categoria)}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}))}}]),e}(),z.\u0275fac=function(e){return new(e||z)(b["\u0275\u0275directiveInject"](x.J))},z.\u0275cmp=b["\u0275\u0275defineComponent"]({type:z,selectors:[["app-interests-medium"]],decls:15,vars:3,consts:function(){return[[1,"content"],[1,"card"],[1,"card-body"],[1,"title"],"Select your interests",[1,"subtitle"],"Medium",[1,"mediums","clearfix"],["class","medium",3,"name","click",4,"ngFor","ngForOf"],[1,"pleaseSelect1",2,"display","none"],"Please select " + "\ufffd0\ufffd" + " interests minimum",[4,"ngIf"],[1,"divSave"],[1,"boto","botoPrincipal","botoPetit",3,"click"],"Next",[1,"medium",3,"name","click"],[3,"src","alt","error"],[1,"text","capitalizeFirst"]]},template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275elementStart"](1,"div",1),b["\u0275\u0275elementStart"](2,"div",2),b["\u0275\u0275elementStart"](3,"h2",3),b["\u0275\u0275i18n"](4,4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"h3",5),b["\u0275\u0275i18n"](6,6),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",7),b["\u0275\u0275template"](8,w,4,6,"div",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"div",9),b["\u0275\u0275i18n"](10,10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](11,S,2,0,"div",11),b["\u0275\u0275elementStart"](12,"div",12),b["\u0275\u0275elementStart"](13,"button",13),b["\u0275\u0275listener"]("click",function(){return t.submit()}),b["\u0275\u0275i18n"](14,14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngForOf",t.mediumsTotals),b["\u0275\u0275advance"](2),b["\u0275\u0275i18nExp"](t.interessosMin),b["\u0275\u0275i18nApply"](10),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.loadingMedium))},directives:[v.NgForOf,v.NgIf,y.N],styles:[".content[_ngcontent-%COMP%]{max-width:940px;padding:100px 0;border:none}.content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{text-align:center;color:gray}.content[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]{cursor:pointer;float:left;padding:0;margin:5px;width:calc(25% - 10px);overflow:hidden;border-radius:20px;transition:all .2s ease}.content[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .2s ease;-o-object-fit:cover;object-fit:cover;width:100%;height:200px;border:0 solid transparent;border-radius:20px}.content[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]   p.text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-align:center;font-size:16px;margin:7px 0}.content[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[data-selected=true][_ngcontent-%COMP%]{background-color:#ddd;color:#000;border-radius:20px}.content[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[data-selected=true][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-width:10px;border-radius:20px}.content[_ngcontent-%COMP%]   .pleaseSelect1[_ngcontent-%COMP%]{color:red;text-align:center;font-weight:700;padding-top:20px}.content[_ngcontent-%COMP%]   .divSave[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.content[_ngcontent-%COMP%]   .divSave[_ngcontent-%COMP%]   button.boto[_ngcontent-%COMP%]{text-align:center}@media only screen and (max-width:576px){.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:5px}.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]{width:calc(33.33% - 10px)}.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px}.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .mediums[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]   p.text[_ngcontent-%COMP%]{font-size:14px}}"]}),z)},{path:"movement",component:(I=function(){function e(t){d(this,e),this.main=t,this.movementsTotals=[],this.interessosMin=5,this.disabledButton=!1,this.loadingMovment=!0,this.fotoNoImage="assets/in2art/imatges/noImageSmall.png",t.newPage(this)}return u(e,[{key:"ngOnInit",value:function(){var e,t;return(0,P.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,o,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getUserMovements();case 2:return i=n.sent,(null===(e=this.main.params)||void 0===e?void 0:e.mediums)&&this.main.params.mediums.length||this.main.goTo("/interests/medium"),n.next=6,this.main.provider.getMovements();case 6:for(r in o=n.sent)o[r].id_estil&&o[r].nom_estil&&-1!=o[r].id_estil&&this.movementsTotals.push({id:o[r].id_estil,name:o[r].nom_estil,img:"assets/in2art/imatges/movements/".concat(o[r].nom_estil.replaceAll("/","-").toLowerCase(),".jpg"),selected:_.c.arrayConte(null===(t=this.main.params)||void 0===t?void 0:t.movements,o[r].id_estil)}),(null==i?void 0:i.includes(o[r].id_estil))&&!this.main.params.movements.length&&(this.movementsTotals[r].selected=!0);this.loadingMovment=!1;case 9:case"end":return n.stop()}},n,this)}))}},{key:"ngOnDestroy",value:function(){this.main.params||(this.main.params=[]),this.main.params.movements=this.movementsTotals.filter(function(e){return e.selected}).map(function(e){return e.id}),this.main.onDestroyPage()}},{key:"back",value:function(){this.main.goTo("/interests/medium")}},{key:"submit",value:function(){return(0,P.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.movements=this.movementsTotals.filter(function(e){return e.selected}).map(function(e){return e.id}),!(this.movements.length<this.interessosMin)){e.next=2;break}return e.abrupt("return",void C(".pleaseSelect1").slideDown(200));case 2:return this.disabledButton=!0,e.next=5,this.main.provider.postMedium(this.main.params.mediums);case 5:return t=e.sent,e.next=8,this.main.provider.postMovment(this.main.params.movements);case 8:n=e.sent,this.disabledButton=!1,this.main.eh.hiHaError(t)?this.main.toastDanger("Error saving mediums"):this.main.eh.hiHaError(n)?this.main.toastDanger("Error saving movements"):(this.main.toastSuccess("Interests saved successfully"),delete this.main.params,this.main.goTo("/"));case 10:case"end":return e.stop()}},e,this)}))}},{key:"getUserMovements",value:function(){return(0,P.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.main.provider.getMovementsByUserId(this.main.currentUser.id);case 3:return e.sent.forEach(function(e){return t.push(e.id_estil)}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}))}}]),e}(),I.\u0275fac=function(e){return new(e||I)(b["\u0275\u0275directiveInject"](x.J))},I.\u0275cmp=b["\u0275\u0275defineComponent"]({type:I,selectors:[["app-interests-movement"]],decls:19,vars:4,consts:function(){return[[1,"content"],[1,"card"],[1,"card-body"],[1,"title"],"Select your interests",[1,"subtitle"],"Movement",[1,"movements","clearfix"],["class","movement",3,"name","click",4,"ngFor","ngForOf"],[1,"pleaseSelect1",2,"display","none"],"Please select " + "\ufffd0\ufffd" + " interests minimum",[4,"ngIf"],[1,"divSave"],[1,"boto","botoPrincipal","botoPetit","botoText",3,"click"],[1,"fas","fa-chevron-left","mr-1"],"Back",[1,"boto","botoPrincipal","botoPetit",3,"disabled","click"],"Next",[1,"movement",3,"name","click"],[3,"src","alt","error"],[1,"text","capitalizeFirst"]]},template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275elementStart"](1,"div",1),b["\u0275\u0275elementStart"](2,"div",2),b["\u0275\u0275elementStart"](3,"h2",3),b["\u0275\u0275i18n"](4,4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"h3",5),b["\u0275\u0275i18n"](6,6),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",7),b["\u0275\u0275template"](8,k,4,6,"div",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"div",9),b["\u0275\u0275i18n"](10,10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](11,E,2,0,"div",11),b["\u0275\u0275elementStart"](12,"div",12),b["\u0275\u0275elementStart"](13,"button",13),b["\u0275\u0275listener"]("click",function(){return t.back()}),b["\u0275\u0275element"](14,"i",14),b["\u0275\u0275elementContainerStart"](15),b["\u0275\u0275i18n"](16,15),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"button",16),b["\u0275\u0275listener"]("click",function(){return t.submit()}),b["\u0275\u0275i18n"](18,17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngForOf",t.movementsTotals),b["\u0275\u0275advance"](2),b["\u0275\u0275i18nExp"](t.interessosMin),b["\u0275\u0275i18nApply"](10),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.loadingMovment),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("disabled",t.disabledButton))},directives:[v.NgForOf,v.NgIf,y.N],styles:[".content[_ngcontent-%COMP%]{max-width:940px;padding:100px 0;border:none}.content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{text-align:center;color:gray}.content[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[_ngcontent-%COMP%]{cursor:pointer;float:left;padding:0;margin:5px;width:calc(25% - 10px);overflow:hidden;border-radius:20px;transition:all .2s ease}.content[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .2s ease;-o-object-fit:cover;object-fit:cover;width:100%;height:200px;border:0 solid transparent;border-radius:20px}.content[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[_ngcontent-%COMP%]   p.text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-align:center;font-size:16px;margin:7px 0}.content[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[data-selected=true][_ngcontent-%COMP%]{background-color:#ddd;color:#000;border-radius:20px}.content[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[data-selected=true][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-width:10px;border-radius:20px}.content[_ngcontent-%COMP%]   .pleaseSelect1[_ngcontent-%COMP%]{color:red;text-align:center;font-weight:700;padding-top:20px}.content[_ngcontent-%COMP%]   .divSave[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.content[_ngcontent-%COMP%]   .divSave[_ngcontent-%COMP%]   button.boto[_ngcontent-%COMP%]{margin:0 5px}@media only screen and (max-width:576px){.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:5px}.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[_ngcontent-%COMP%]{width:calc(33.33% - 10px)}.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px}.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .movements[_ngcontent-%COMP%]   .movement[_ngcontent-%COMP%]   p.text[_ngcontent-%COMP%]{font-size:14px}}"]}),I)},{path:"",pathMatch:"full",redirectTo:"/interests/medium"}]}],j=function(){var e=function e(){d(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=b["\u0275\u0275defineInjector"]({imports:[[O.Bz.forChild(N)],O.Bz]}),e}(),$=p(1073),R=p(5703),B=((T=function e(){d(this,e)}).\u0275fac=function(e){return new(e||T)},T.\u0275mod=b["\u0275\u0275defineNgModule"]({type:T}),T.\u0275inj=b["\u0275\u0275defineInjector"]({imports:[[j,v.CommonModule,f.m,h.u5,M.A0,$.QG,R.zk]]}),T)}}])}();