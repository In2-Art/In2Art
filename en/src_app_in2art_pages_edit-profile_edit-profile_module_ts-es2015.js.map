{"version":3,"sources":["src/app/in2art/pages/edit-profile/edit-profile-routing.module.ts","src/app/in2art/pages/edit-profile/edit-profile.component.ts","src/app/in2art/pages/edit-profile/edit-profile.component.html","src/app/in2art/pages/edit-profile/edit-profile.module.ts"],"names":[],"mappings":"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","file":"src_app_in2art_pages_edit-profile_edit-profile_module_ts-es2015.js","sourcesContent":["import { EditProfileComponent } from './edit-profile.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nconst routes: Routes = [{\r\n    path: '',\r\n    children: [\r\n        {\r\n            path: '',\r\n            component: EditProfileComponent\r\n        }\r\n    ]\r\n}];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class EditProfileRoutingModule { }\r\n","import { MainService } from '../../services/main.service';\r\nimport { Utils } from '../../services/utils.service';\r\nimport * as $ from \"jquery\";\r\n\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Component, OnInit, SecurityContext, ViewChild } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { ModalManager } from 'ngb-modal';\r\n\r\n@Component({\r\n    selector: 'app-edit-profile',\r\n    templateUrl: './edit-profile.component.html',\r\n    styleUrls: ['./edit-profile.component.scss']\r\n})\r\nexport class EditProfileComponent implements OnInit {\r\n\r\n    @ViewChild(\"uploadFileModal\") uploadFileModal;\r\n    @ViewChild(\"imageCropper\") imageCropper;\r\n    \r\n    public carregant;\r\n    public carregantSave;\r\n\r\n    public files = [];\r\n\r\n    public form: FormGroup;\r\n    public validate = false;\r\n    public fotoModificada = false;\r\n\r\n    \r\n    public mostrarFileRequired = false;\r\n\r\n    constructor(\r\n        public main: MainService,\r\n        private fb: FormBuilder,\r\n        private modalService: ModalManager,\r\n        public domSanitizer: DomSanitizer\r\n    ) {\r\n        main.newPage(this);\r\n        \r\n        this.form = this.fb.group({\r\n            id: [\"\"],\r\n            photo: [\"\"],\r\n            name: [\"\"],\r\n            lastName: [\"\"],\r\n            bio: [\"\"],\r\n            // profile1: [false],\r\n            // profile2: [false],\r\n            // profile3: [false],\r\n            // profile4: [false],\r\n            email: [\"\"],\r\n            username: [\"\"],\r\n            phone: [\"\"],\r\n            address: [\"\"],\r\n            web: [\"\"],\r\n        });\r\n    }\r\n\r\n    async ngOnInit() {\r\n        this.carregant = true;\r\n        let user: any = await this.main.provider.getCurrentUser();\r\n        this.carregant = false;\r\n\r\n        this.form.controls.photo.setValue(Utils.prependImagesUrl(this.main.currentUser?.photo));\r\n        this.form.controls.name.setValue(user?.name);\r\n        this.form.controls.lastName.setValue(user?.lastName);\r\n        this.form.controls.bio.setValue(user?.bio || \"\");\r\n        this.form.controls.email.setValue(user?.email || \"\");\r\n        this.form.controls.username.setValue(user?.username || \"\");\r\n        this.form.controls.phone.setValue(user?.phone || \"\");\r\n        this.form.controls.address.setValue(user?.address || \"\");\r\n        this.form.controls.web.setValue(user?.web || \"\");\r\n\r\n        let profileArreglat = [];\r\n        user.profile.forEach((e) => { profileArreglat[e.idprofile] = true });\r\n        \r\n        this.form.controls.profile1.setValue(profileArreglat[1]);\r\n        this.form.controls.profile2.setValue(profileArreglat[2]);\r\n        this.form.controls.profile3.setValue(profileArreglat[3]);\r\n        this.form.controls.profile4.setValue(profileArreglat[4]);\r\n    }\r\n    ngOnDestroy() {\r\n        this.closeUploadFileModal(false);\r\n        this.main.onDestroyPage();\r\n    }\r\n\r\n    openUploadFileModal() {\r\n        this.modalService.open(this.uploadFileModal, {\r\n            size: \"lg\",\r\n            modalClass: \"uploadFileModal\",\r\n            backdropClass: \"modal-backdrop\",\r\n            hideCloseButton: false,\r\n            centered: true,\r\n            backdrop: true,\r\n            animation: true,\r\n            keyboard: true,\r\n            closeOnOutsideClick: false,\r\n        });\r\n    }\r\n    closeUploadFileModal(saved) {\r\n        if (saved) {\r\n            this.form.controls.photo.setValue(this.imageCropper.croppedImage);\r\n            this.fotoModificada = true;\r\n        }\r\n        this.modalService.close(this.uploadFileModal);\r\n    }\r\n    removePhoto() {\r\n        this.form.controls.photo.setValue(null);\r\n        this.imageCropper.removePhoto();\r\n        this.fotoModificada = true;\r\n    }\r\n    \r\n    profileIncorrecte() {\r\n        return (\r\n            this.form.controls.profile1.touched ||\r\n            this.form.controls.profile2.touched ||\r\n            this.form.controls.profile3.touched ||\r\n            this.form.controls.profile4.touched\r\n        ) && !(\r\n            this.form.controls.profile1.value ||\r\n            this.form.controls.profile2.value ||\r\n            this.form.controls.profile3.value ||\r\n            this.form.controls.profile4.value\r\n        );\r\n    }\r\n    \r\n    \r\n    public submit() {\r\n        this.form.markAllAsTouched();\r\n\r\n        this.mostrarFileRequired = !Utils.objPle(this.files);\r\n\r\n        if (!this.form.valid || this.profileIncorrecte()) {\r\n            console.log(\"--- INVÀLID ---\");\r\n            console.log(this.form);\r\n            return;\r\n        }\r\n\r\n        const formData = new FormData();\r\n\r\n        if (this.fotoModificada) {\r\n\r\n            if (this.form.controls.photo.value) {\r\n                var file = new File([Utils.dataURLToBlob(this.form.controls.photo.value)], \"photo.png\");\r\n                formData.append(\"photo\", file, \"photo.png\");\r\n            }\r\n            else {\r\n                formData.append(\"photoDelete\", \"\");\r\n            }\r\n        }\r\n        formData.append(\"name\", this.form.controls.name.value);\r\n        formData.append(\"lastName\", this.form.controls.lastName.value);\r\n        formData.append(\"bio\", this.form.controls.bio.value);\r\n        formData.append(\"phone\", this.form.controls.phone.value);\r\n        formData.append(\"address\", this.form.controls.address.value);\r\n        formData.append(\"web\", this.form.controls.web.value);\r\n\r\n        if (this.form.controls.profile1.value) formData.append(\"profile[]\", \"1\");\r\n        if (this.form.controls.profile2.value) formData.append(\"profile[]\", \"2\");\r\n        if (this.form.controls.profile3.value) formData.append(\"profile[]\", \"3\");\r\n        if (this.form.controls.profile4.value) formData.append(\"profile[]\", \"4\");\r\n\r\n        this.carregantSave = true;\r\n\r\n        this.main.ps.postFormData(`/editProfile`, formData,\r\n            (data) => {\r\n                this.carregantSave = false;\r\n                // Error //\r\n                if (this.main.eh.hiHaError(data)) {\r\n                    this.main.toastDanger(\"Couldn't edit profile\");\r\n                    return;\r\n                }\r\n\r\n                this.main.refreshCurrentUser();\r\n\r\n                this.main.toastSuccess(\"Profile modified successfully\");\r\n                this.main.goTo(\"/profile\");\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n\r\n}\r\n","<div class=\"content\">\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n\r\n            <form *ngIf=\"!carregant\" class=\"theme-form\" [formGroup]=\"form\">\r\n                <div class=\"divBotoFoto form-grup\">\r\n                    <button class=\"botoFoto\" (click)=\"openUploadFileModal()\" data-content=\"Change photo\">\r\n                        <img class=\"foto\" [src]=\"this.form.controls.photo.value\" alt=\"profile photo\">\r\n                    </button>\r\n                    <br>\r\n                    <button class=\"boto botoVermell botoPetit removePhoto\" *ngIf=\"this.form.controls.photo.value\" (click)=\"removePhoto()\" i18n=\"@@Remove photo\">Remove photo</button>\r\n                </div>\r\n\r\n                <!-- <input id=\"inputFile\" class=\"form-camp\" type=\"file\" multiple (input)=\"addFiles()\" [disabled]=\"processingFiles\"\r\n                    accept=\".JPG,.PNG,.GIF,.MP4,.AVI,.MP3,.WAV,.OGG\"> -->\r\n\r\n                    \r\n\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3 asterisc\" i18n=\"@@Name\">Name</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"name\">\r\n                    <app-missatge-error-form [control]=\"form.controls.name\" [nomText]=\"'name'\"></app-missatge-error-form>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Last name\">Last name</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"lastName\">\r\n                    <app-missatge-error-form [control]=\"form.controls.lastName\" [nomText]=\"'last name'\"></app-missatge-error-form>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Bio\">Bio</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" maxlength=\"3000\" formControlName=\"bio\">\r\n                    <app-missatge-error-form [control]=\"form.controls.bio\" [nomText]=\"'bio'\"></app-missatge-error-form>\r\n                </div>\r\n                <!-- <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-12 col-sm-3 asterisc\" i18n=\"@@Profile\">Profile</label>\r\n                    <div class=\"col-12 col-sm-9 animate-chk row no-gutters\">\r\n                        <label class=\"d-block checkbox-label col-12 col-sm-6 col-md-3\" for=\"checkbox1\">\r\n                            <input class=\"checkbox_animated\" id=\"checkbox1\" type=\"checkbox\" formControlName=\"profile1\" i18n=\"@@Artist\">Artist\r\n                        </label>\r\n                        <label class=\"d-block checkbox-label col-12 col-sm-6 col-md-3\" for=\"checkbox2\">\r\n                            <input class=\"checkbox_animated\" id=\"checkbox2\" type=\"checkbox\" formControlName=\"profile2\" i18n=\"@@Professional\">Professional\r\n                        </label>\r\n                        <label class=\"d-block checkbox-label col-12 col-sm-6 col-md-3\" for=\"checkbox3\">\r\n                            <input class=\"checkbox_animated\" id=\"checkbox3\" type=\"checkbox\" formControlName=\"profile3\" i18n=\"@@Collector\">Collector\r\n                        </label>\r\n                        <label class=\"d-block checkbox-label col-12 col-sm-6 col-md-3\" for=\"checkbox4\">\r\n                            <input class=\"checkbox_animated\" id=\"checkbox4\" type=\"checkbox\" formControlName=\"profile4\" i18n=\"@@Viewer\">Viewer\r\n                        </label>\r\n                    </div>\r\n                    <div *ngIf=\"profileIncorrecte()\" class=\"textErrorForm\" i18n=\"@@Profile is required\">Profile is required</div>\r\n                </div> -->\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Email\">Email</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" disabled formControlName=\"email\">\r\n                    <app-missatge-error-form [control]=\"form.controls.email\" [nomText]=\"'email'\"></app-missatge-error-form>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Username\">Username</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" disabled formControlName=\"username\">\r\n                    <app-missatge-error-form [control]=\"form.controls.username\" [nomText]=\"'username'\"></app-missatge-error-form>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Phone\">Phone</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"phone\">\r\n                    <app-missatge-error-form [control]=\"form.controls.phone\" [nomText]=\"'phone'\"></app-missatge-error-form>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Address\">Address</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"address\">\r\n                    <app-missatge-error-form [control]=\"form.controls.address\" [nomText]=\"'address'\"></app-missatge-error-form>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Website\">Website</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"web\">\r\n                    <app-missatge-error-form [control]=\"form.controls.web\" [nomText]=\"'website'\"></app-missatge-error-form>\r\n                </div>\r\n\r\n                <div style=\"text-align:center;\">\r\n                    <input class=\"boto botoPrincipal botoGran\" type=\"button\" value=\"Save\" (click)=\"submit()\" [disabled]=\"carregantSave\">\r\n                </div>\r\n            </form>\r\n            <div *ngIf=\"carregant\" class=\"carregant\">\r\n                <app-loading></app-loading>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<!-- MODALS -->\r\n<modal id=\"uploadFileModal\" class=\"uploadFileModal\" #uploadFileModal>\r\n    <modal-header i18n=\"@@Upload Photo\">\r\n        Upload Photo\r\n    </modal-header>\r\n \r\n    <modal-content>\r\n        <app-image-croper #imageCropper></app-image-croper>\r\n    </modal-content>\r\n \r\n    <modal-footer>\r\n        <button class=\"boto botoPrincipal botoGran\" (click)=\"closeUploadFileModal(false)\" i18n=\"@@Close\">Close</button>\r\n        <button class=\"boto botoPrincipal botoGran\" (click)=\"closeUploadFileModal(true)\" i18n=\"@@Save\">Save</button>\r\n    </modal-footer>\r\n</modal>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../../../shared/shared.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { EditProfileComponent } from './edit-profile.component';\r\nimport { EditProfileRoutingModule } from './edit-profile-routing.module';\r\nimport { ImageCroperModule } from './../../components/_tools/image-croper/image.croper.module';\r\nimport { ModalModule } from 'ngb-modal';\r\n\r\n@NgModule({\r\n    declarations: [EditProfileComponent],\r\n    imports: [\r\n        EditProfileRoutingModule,\r\n        ImageCroperModule,\r\n        CommonModule,\r\n        SharedModule,\r\n        FormsModule,\r\n        ModalModule,\r\n    ]\r\n})\r\nexport class EditProfileModule { }\r\n"],"sourceRoot":"webpack:///"}