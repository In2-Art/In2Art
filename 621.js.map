{"version":3,"file":"621.js","mappings":"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","sources":["./src/app/shared/components/post-card/post-card.component.ts","./src/app/shared/components/post-card/post-card.component.html"],"sourcesContent":["import { Observable, startWith } from 'rxjs';\nimport { CommonModule } from '@angular/common';\nimport { AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\n\nimport { IPostFull, Post } from '@ApiClient/backend/Post/post';\nimport { IPostService } from '@ApiClient/services/post';\nimport { ToService } from '@ApiClient/helpers/observables';\nimport { Api } from '@ApiClient/backend/api';\n\nimport { ImageComponent } from '@ApiClient/components/image/image.component';\nimport { MessageService } from 'primeng/api';\nimport { URLS } from '@enums/urls';\nimport { RouterLink } from '@angular/router';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-post-card',\n  standalone: true,\n  imports: [CommonModule, TranslateModule, ImageComponent, RouterLink],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './post-card.component.html',\n  styleUrl: './post-card.component.scss',\n})\nexport class PostCardComponent implements OnInit, AfterViewInit {\n  @ViewChild('textContainer') textContainer!: ElementRef;\n  @Input() post!: IPostFull;\n  @Input() isUniquePost: boolean = false;\n  showMoreText = false;\n  urlThumbnail$!: Observable<string>;\n  postService: IPostService;\n  locale$: Observable<string> = this.translate.onLangChange.pipe(\n    startWith({ lang: this.translate.currentLang }),\n    map((event) => event.lang),\n  );\n\n  ngAfterViewInit() {\n    const textElement = this.textContainer.nativeElement;\n    this.showMoreText = textElement.scrollHeight > textElement.clientHeight;\n  }\n\n  constructor(\n    private toast: MessageService,\n    private translate: TranslateService,\n  ) {\n    this.postService = ToService<IPostService>(Post);\n  }\n\n  async ngOnInit(): Promise<void> {\n    this.setUpImage();\n  }\n\n  setUpImage() {\n    this.urlThumbnail$ = this.postService.getUrlPostFileThumbnail({\n      fileId: this.post?.postFiles[0].fileId,\n      userCreatorId: this.post?.userCreatorId,\n      id: this.post?.postFiles[0].id,\n    });\n  }\n\n  async copyLink(id: string) {\n    console.log('copyLink');\n    await this.copy(`${Api.AppUrl}/${this.translate.currentLang}/${URLS.POST}/${id}`);\n  }\n\n  toggleShowMore() {\n    this.textContainer.nativeElement.classList.toggle('show-all');\n  }\n\n  async copy(msg: string) {\n    try {\n      await navigator.clipboard.writeText(msg);\n      this.toast.add({\n        severity: 'success',\n        summary: this.translate.instant('SUCCESS.TITLE'),\n        detail: this.translate.instant('SUCCESS.URL_COPY'),\n      });\n    } catch {\n      this.toast.add({ severity: 'error', summary: 'Error', detail: this.translate.instant('ERROR.URL_COPY') });\n    }\n  }\n\n  protected readonly URLS = URLS;\n}\n","<article class=\"post-wrapper\">\n  <div class=\"post-header\">\n    <div class=\"flex gap-2 align-items-center\">\n      <a class=\"post-author\" [routerLink]=\"['/', locale$ | async, URLS.PROFILE, post.userCreator.userNickname?.nicknameUrl]\">\n        <app-image\n          folder=\"UserPictures\"\n          defaultImageUrl=\"assets/videos/noUserVid.mp4\"\n          [idPicture]=\"post.userCreator.pictureId ?? ''\"\n          [userId]=\"post.userCreatorId\"\n        ></app-image>\n      </a>\n      {{ post.userCreator.userProfile?.name }}\n    </div>\n    <button class=\"post-button\">\n      <svg width=\"32\" height=\"6\">\n        <use href=\"assets/images/icons.svg#post-more-option\"></use>\n      </svg>\n    </button>\n  </div>\n  <div class=\"post-image\">\n    <video [src]=\"urlThumbnail$ | async\" class=\"responsive-video\"></video>\n  </div>\n  <div class=\"post-footer\">\n    <div class=\"post-controls\">\n      <div class=\"flex gap-3\">\n        <button class=\"post-button post-button-hover gap-2\">\n          <svg width=\"24\" height=\"24\">\n            <use href=\"assets/images/icons.svg#comments\"></use>\n          </svg>\n          <span>0</span>\n        </button>\n        <button class=\"post-button post-button-hover gap-2\">\n          <svg width=\"22\" height=\"20\">\n            <use href=\"assets/images/icons.svg#likes\"></use>\n          </svg>\n          <span>0</span>\n        </button>\n      </div>\n      <button class=\"post-button\" (click)=\"copyLink(post.id)\">\n        <svg width=\"28\" height=\"28\">\n          <use href=\"assets/images/icons.svg#share\"></use>\n        </svg>\n      </button>\n    </div>\n    <div class=\"post-text\" #textContainer>\n      <span class=\"font-bold\">{{ post.languages[0].title }}</span>\n      <span>\n        {{ post.languages[0].description }}\n      </span>\n      <button (click)=\"toggleShowMore()\" *ngIf=\"showMoreText\" class=\"more-text-button\">\n        <span class=\"more-text\">{{ 'BTN.MORE' | translate }}</span>\n        <span class=\"less-text\">{{ 'BTN.LESS' | translate }}</span>\n      </button>\n    </div>\n  </div>\n</article>\n"],"names":["startWith","CommonModule","ElementRef","TranslateModule","TranslateService","Post","ToService","Api","ImageComponent","MessageService","URLS","RouterLink","map","i0","ɵɵelementStart","ɵɵlistener","PostCardComponent_button_35_Template_button_click_0_listener","ɵɵrestoreView","_r2","ctx_r2","ɵɵnextContext","ɵɵresetView","toggleShowMore","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","PostCardComponent","ngAfterViewInit","textElement","textContainer","nativeElement","showMoreText","scrollHeight","clientHeight","constructor","toast","translate","isUniquePost","locale$","onLangChange","pipe","lang","currentLang","event","postService","ngOnInit","_this","_asyncToGenerator","setUpImage","urlThumbnail$","getUrlPostFileThumbnail","fileId","post","postFiles","userCreatorId","id","copyLink","_this2","console","log","copy","AppUrl","POST","classList","toggle","msg","_this3","navigator","clipboard","writeText","add","severity","summary","instant","detail","_","ɵɵdirectiveInject","i1","i2","_2","selectors","viewQuery","PostCardComponent_Query","rf","ctx","ɵɵelement","PostCardComponent_Template_button_click_26_listener","_r1","ɵɵtemplate","PostCardComponent_button_35_Template","ɵɵproperty","ɵɵpureFunction3","_c1","PROFILE","userCreator","userNickname","nicknameUrl","tmp_2_0","pictureId","undefined","ɵɵtextInterpolate1","userProfile","name","ɵɵsanitizeUrl","languages","title","description","i3","NgIf","AsyncPipe","TranslatePipe","styles","changeDetection"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}