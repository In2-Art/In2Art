{"version":3,"file":"621.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAC+C;AACyE;AAChD;AAET;AAEJ;AACd;AAEgC;AAChC;AACV;;;;;;;;;ICqC7BU,4DAAA,iBAAiF;IAAzEA,wDAAA,mBAAAG,6DAAA;MAAAH,2DAAA,CAAAK,GAAA;MAAA,MAAAC,MAAA,GAAAN,2DAAA;MAAA,OAAAA,yDAAA,CAASM,MAAA,CAAAG,cAAA,EAAgB;IAAA,EAAC;IAChCT,4DAAA,eAAwB;IAAAA,oDAAA,GAA4B;;IAAAA,0DAAA,EAAO;IAC3DA,4DAAA,eAAwB;IAAAA,oDAAA,GAA4B;;IACtDA,0DADsD,EAAO,EACpD;;;IAFiBA,uDAAA,GAA4B;IAA5BA,+DAAA,CAAAA,yDAAA,mBAA4B;IAC5BA,uDAAA,GAA4B;IAA5BA,+DAAA,CAAAA,yDAAA,mBAA4B;;;AD7BrD,IAAMe,iBAAiB;EAAxB,MAAOA,iBAAiB;IAQ5BC,eAAeA,CAAA;MACb,MAAMC,WAAW,GAAG,IAAI,CAACC,aAAa,CAACC,aAAa;MACpD,IAAI,CAACC,YAAY,GAAGH,WAAW,CAACI,YAAY,GAAGJ,WAAW,CAACK,YAAY;IACzE;IAEAC,YACUC,KAAqB,EACrBC,SAA2B;MAD3B,KAAAD,KAAK,GAALA,KAAK;MACL,KAAAC,SAAS,GAATA,SAAS;MAZV,KAAAC,YAAY,GAAY,KAAK;MACtC,KAAAN,YAAY,GAAG,KAAK;MAalB,IAAI,CAACO,WAAW,GAAGhC,yEAAS,CAAeD,8DAAI,CAAC;IAClD;IAEMkC,QAAQA,CAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,sJAAA;QACZD,KAAI,CAACE,UAAU,EAAE;MAAC;IACpB;IAEAA,UAAUA,CAAA;MACR,IAAI,CAACC,aAAa,GAAG,IAAI,CAACL,WAAW,CAACM,uBAAuB,CAAC;QAC5DC,MAAM,EAAE,IAAI,CAACC,IAAI,EAAEC,SAAS,CAAC,CAAC,CAAC,CAACF,MAAM;QACtCG,aAAa,EAAE,IAAI,CAACF,IAAI,EAAEE,aAAa;QACvCC,EAAE,EAAE,IAAI,CAACH,IAAI,EAAEC,SAAS,CAAC,CAAC,CAAC,CAACE;OAC7B,CAAC;IACJ;IAEMC,QAAQA,CAACD,EAAU;MAAA,IAAAE,MAAA;MAAA,OAAAV,sJAAA;QACvBW,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;QACvB,MAAMF,MAAI,CAACG,IAAI,CAAC,GAAG/C,uDAAG,CAACgD,MAAM,IAAIJ,MAAI,CAACf,SAAS,CAACoB,WAAW,IAAI9C,6CAAI,CAAC+C,IAAI,IAAIR,EAAE,EAAE,CAAC;MAAC;IACpF;IAEA7B,cAAcA,CAAA;MACZ,IAAI,CAACS,aAAa,CAACC,aAAa,CAAC4B,SAAS,CAACC,MAAM,CAAC,UAAU,CAAC;IAC/D;IAEML,IAAIA,CAACM,GAAW;MAAA,IAAAC,MAAA;MAAA,OAAApB,sJAAA;QACpB,IAAI;UACF,MAAMqB,SAAS,CAACC,SAAS,CAACC,SAAS,CAACJ,GAAG,CAAC;UACxCC,MAAI,CAAC1B,KAAK,CAAC8B,GAAG,CAAC;YACbC,QAAQ,EAAE,SAAS;YACnBC,OAAO,EAAEN,MAAI,CAACzB,SAAS,CAACgC,OAAO,CAAC,eAAe,CAAC;YAChDC,MAAM,EAAER,MAAI,CAACzB,SAAS,CAACgC,OAAO,CAAC,kBAAkB;WAClD,CAAC;SACH,CAAC,MAAM;UACNP,MAAI,CAAC1B,KAAK,CAAC8B,GAAG,CAAC;YAAEC,QAAQ,EAAE,OAAO;YAAEC,OAAO,EAAE,OAAO;YAAEE,MAAM,EAAER,MAAI,CAACzB,SAAS,CAACgC,OAAO,CAAC,gBAAgB;UAAC,CAAE,CAAC;;MAC1G;IACH;IAAC,QAAAE,CAAA;uBApDU5C,iBAAiB,EAAAf,+DAAA,CAAA6D,uDAAA,GAAA7D,+DAAA,CAAA8D,iEAAA;IAAA;IAAA,QAAAC,EAAA;YAAjBhD,iBAAiB;MAAAiD,SAAA;MAAAC,SAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;;;;;;;;;;;;;;;;;;;;UCnBxBnE,4DAHN,iBAA8B,aACH,aACoB,aAChB;UACvBA,uDAAA,mBAKa;UACfA,0DAAA,EAAM;UACNA,oDAAA,GACF;UAAAA,0DAAA,EAAM;UACNA,4DAAA,gBAA4B;;UAC1BA,4DAAA,aAA2B;UACzBA,uDAAA,aAA2D;UAGjEA,0DAFI,EAAM,EACC,EACL;;UACNA,4DAAA,aAAwB;UACtBA,uDAAA,iBAAsE;;UACxEA,0DAAA,EAAM;UAIAA,4DAHN,eAAyB,eACI,eACD,kBAC8B;;UAClDA,4DAAA,eAA4B;UAC1BA,uDAAA,eAAmD;UACrDA,0DAAA,EAAM;;UACNA,4DAAA,YAAM;UAAAA,oDAAA,SAAC;UACTA,0DADS,EAAO,EACP;UACTA,4DAAA,kBAAoD;;UAClDA,4DAAA,eAA4B;UAC1BA,uDAAA,eAAgD;UAClDA,0DAAA,EAAM;;UACNA,4DAAA,YAAM;UAAAA,oDAAA,SAAC;UAEXA,0DAFW,EAAO,EACP,EACL;UACNA,4DAAA,kBAAwD;UAA5BA,wDAAA,mBAAAsE,oDAAA;YAAAtE,2DAAA,CAAAuE,GAAA;YAAA,OAAAvE,yDAAA,CAASoE,GAAA,CAAA7B,QAAA,CAAA6B,GAAA,CAAAjC,IAAA,CAAAG,EAAA,CAAiB;UAAA,EAAC;;UACrDtC,4DAAA,eAA4B;UAC1BA,uDAAA,eAAgD;UAGtDA,0DAFI,EAAM,EACC,EACL;;UAEJA,4DADF,kBAAsC,gBACZ;UAAAA,oDAAA,IAA6B;UAAAA,0DAAA,EAAO;UAC5DA,4DAAA,YAAM;UACJA,oDAAA,IACF;UAAAA,0DAAA,EAAO;UACPA,wDAAA,KAAAyE,oCAAA,qBAAiF;UAMvFzE,0DAFI,EAAM,EACF,EACE;;;;UAhDAA,uDAAA,GAA8C;UAC9CA,wDADA,eAAA2E,OAAA,GAAAP,GAAA,CAAAjC,IAAA,CAAAyC,WAAA,CAAAC,SAAA,cAAAF,OAAA,KAAAG,SAAA,GAAAH,OAAA,MAA8C,WAAAP,GAAA,CAAAjC,IAAA,CAAAE,aAAA,CACjB;UAGjCrC,uDAAA,EACF;UADEA,gEAAA,MAAAoE,GAAA,CAAAjC,IAAA,CAAAyC,WAAA,CAAAI,WAAA,kBAAAZ,GAAA,CAAAjC,IAAA,CAAAyC,WAAA,CAAAI,WAAA,CAAAC,IAAA,MACF;UAQOjF,uDAAA,GAA6B;UAA7BA,wDAAA,QAAAA,yDAAA,QAAAoE,GAAA,CAAApC,aAAA,GAAAhC,2DAAA,CAA6B;UAyBVA,uDAAA,IAA6B;UAA7BA,+DAAA,CAAAoE,GAAA,CAAAjC,IAAA,CAAAgD,SAAA,IAAAC,KAAA,CAA6B;UAEnDpF,uDAAA,GACF;UADEA,gEAAA,MAAAoE,GAAA,CAAAjC,IAAA,CAAAgD,SAAA,IAAAE,WAAA,MACF;UACoCrF,uDAAA,EAAkB;UAAlBA,wDAAA,SAAAoE,GAAA,CAAAhD,YAAA,CAAkB;;;qBDhChD9B,yDAAY,EAAAgG,iDAAA,EAAAA,sDAAA,EAAE9F,gEAAe,EAAAsE,8DAAA,EAAEjE,uFAAc;MAAA6F,MAAA;MAAAC,eAAA;IAAA;;SAK5C5E,iBAAiB;AAAA","sources":["./src/app/shared/components/post-card/post-card.component.ts","./src/app/shared/components/post-card/post-card.component.html"],"sourcesContent":["import { Observable } from 'rxjs';\nimport { CommonModule } from '@angular/common';\nimport { AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\n\nimport { IPostFull, Post } from '@ApiClient/backend/Post/post';\nimport { IPostService } from '@ApiClient/services/post';\nimport { ToService } from '@ApiClient/helpers/observables';\nimport { Api } from '@ApiClient/backend/api';\n\nimport { ImageComponent } from '@ApiClient/components/image/image.component';\nimport { MessageService } from 'primeng/api';\nimport { URLS } from '@enums/urls';\n\n@Component({\n  selector: 'app-post-card',\n  standalone: true,\n  imports: [CommonModule, TranslateModule, ImageComponent],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './post-card.component.html',\n  styleUrl: './post-card.component.scss',\n})\nexport class PostCardComponent implements OnInit, AfterViewInit {\n  @ViewChild('textContainer') textContainer!: ElementRef;\n  @Input() post!: IPostFull;\n  @Input() isUniquePost: boolean = false;\n  showMoreText = false;\n  urlThumbnail$!: Observable<string>;\n  postService: IPostService;\n\n  ngAfterViewInit() {\n    const textElement = this.textContainer.nativeElement;\n    this.showMoreText = textElement.scrollHeight > textElement.clientHeight;\n  }\n\n  constructor(\n    private toast: MessageService,\n    private translate: TranslateService,\n  ) {\n    this.postService = ToService<IPostService>(Post);\n  }\n\n  async ngOnInit(): Promise<void> {\n    this.setUpImage();\n  }\n\n  setUpImage() {\n    this.urlThumbnail$ = this.postService.getUrlPostFileThumbnail({\n      fileId: this.post?.postFiles[0].fileId,\n      userCreatorId: this.post?.userCreatorId,\n      id: this.post?.postFiles[0].id,\n    });\n  }\n\n  async copyLink(id: string) {\n    console.log('copyLink');\n    await this.copy(`${Api.AppUrl}/${this.translate.currentLang}/${URLS.POST}/${id}`);\n  }\n\n  toggleShowMore() {\n    this.textContainer.nativeElement.classList.toggle('show-all');\n  }\n\n  async copy(msg: string) {\n    try {\n      await navigator.clipboard.writeText(msg);\n      this.toast.add({\n        severity: 'success',\n        summary: this.translate.instant('SUCCESS.TITLE'),\n        detail: this.translate.instant('SUCCESS.URL_COPY'),\n      });\n    } catch {\n      this.toast.add({ severity: 'error', summary: 'Error', detail: this.translate.instant('ERROR.URL_COPY') });\n    }\n  }\n}\n","<article class=\"post-wrapper\">\n  <div class=\"post-header\">\n    <div class=\"flex gap-2 align-items-center\">\n      <div class=\"post-author\">\n        <app-image\n          folder=\"UserPictures\"\n          defaultImageUrl=\"assets/videos/noUserVid.mp4\"\n          [idPicture]=\"post.userCreator.pictureId ?? ''\"\n          [userId]=\"post.userCreatorId\"\n        ></app-image>\n      </div>\n      {{ post.userCreator.userProfile?.name }}\n    </div>\n    <button class=\"post-button\">\n      <svg width=\"32\" height=\"6\">\n        <use href=\"assets/images/icons.svg#post-more-option\"></use>\n      </svg>\n    </button>\n  </div>\n  <div class=\"post-image\">\n    <video [src]=\"urlThumbnail$ | async\" class=\"responsive-video\"></video>\n  </div>\n  <div class=\"post-footer\">\n    <div class=\"post-controls\">\n      <div class=\"flex gap-3\">\n        <button class=\"post-button post-button-hover gap-2\">\n          <svg width=\"24\" height=\"24\">\n            <use href=\"assets/images/icons.svg#comments\"></use>\n          </svg>\n          <span>0</span>\n        </button>\n        <button class=\"post-button post-button-hover gap-2\">\n          <svg width=\"22\" height=\"20\">\n            <use href=\"assets/images/icons.svg#likes\"></use>\n          </svg>\n          <span>0</span>\n        </button>\n      </div>\n      <button class=\"post-button\" (click)=\"copyLink(post.id)\">\n        <svg width=\"28\" height=\"28\">\n          <use href=\"assets/images/icons.svg#share\"></use>\n        </svg>\n      </button>\n    </div>\n    <div class=\"post-text\" #textContainer>\n      <span class=\"font-bold\">{{ post.languages[0].title }}</span>\n      <span>\n        {{ post.languages[0].description }}\n      </span>\n      <button (click)=\"toggleShowMore()\" *ngIf=\"showMoreText\" class=\"more-text-button\">\n        <span class=\"more-text\">{{ 'BTN.MORE' | translate }}</span>\n        <span class=\"less-text\">{{ 'BTN.LESS' | translate }}</span>\n      </button>\n    </div>\n  </div>\n</article>\n"],"names":["CommonModule","ElementRef","TranslateModule","TranslateService","Post","ToService","Api","ImageComponent","MessageService","URLS","i0","ɵɵelementStart","ɵɵlistener","PostCardComponent_button_34_Template_button_click_0_listener","ɵɵrestoreView","_r2","ctx_r2","ɵɵnextContext","ɵɵresetView","toggleShowMore","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","PostCardComponent","ngAfterViewInit","textElement","textContainer","nativeElement","showMoreText","scrollHeight","clientHeight","constructor","toast","translate","isUniquePost","postService","ngOnInit","_this","_asyncToGenerator","setUpImage","urlThumbnail$","getUrlPostFileThumbnail","fileId","post","postFiles","userCreatorId","id","copyLink","_this2","console","log","copy","AppUrl","currentLang","POST","classList","toggle","msg","_this3","navigator","clipboard","writeText","add","severity","summary","instant","detail","_","ɵɵdirectiveInject","i1","i2","_2","selectors","viewQuery","PostCardComponent_Query","rf","ctx","ɵɵelement","PostCardComponent_Template_button_click_25_listener","_r1","ɵɵtemplate","PostCardComponent_button_34_Template","ɵɵproperty","tmp_1_0","userCreator","pictureId","undefined","ɵɵtextInterpolate1","userProfile","name","ɵɵsanitizeUrl","languages","title","description","i3","NgIf","AsyncPipe","TranslatePipe","styles","changeDetection"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}