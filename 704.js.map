{"version":3,"file":"704.js","mappings":"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","sources":["./src/app/pages/home/components/home.component.ts","./src/app/pages/home/components/home.component.html","./src/app/pages/home/home-routing.module.ts","./src/app/pages/home/home.module.ts","./src/app/shared/components/skeleton-card/skeleton-card.component.ts","./src/app/shared/components/skeleton-card/skeleton-card.component.html","./src/app/shared/directives/scroll-bottom.directive.ts","./src/app/store/feed/feed.selectors.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { filter, take } from 'rxjs';\n\nimport { selectIsLoadingPosts, selectPosts } from '@store/feed/feed.selectors';\nimport { AppStateInterface } from '@store/app/app-state.interface';\nimport { getPostsAction } from '@store/feed/feed.actions';\n\n@Component({\n  selector: 'app-home',\n  standalone: false,\n  templateUrl: './home.component.html',\n  styleUrl: './home.component.scss',\n})\nexport class HomeComponent implements OnInit {\n  count: number = 4;\n  posts$ = this.store.select(selectPosts);\n  isLoading$ = this.store.select(selectIsLoadingPosts);\n\n  constructor(private store: Store<AppStateInterface>) {}\n\n  ngOnInit() {\n    this.store.dispatch(getPostsAction({ count: this.count }));\n  }\n\n  onScrollingFinished() {\n    this.isLoading$\n      .pipe(\n        filter((isLoading) => !isLoading),\n        take(1),\n      )\n      .subscribe(() => {\n        this.store.dispatch(getPostsAction({ count: this.count }));\n      });\n  }\n}\n","<div class=\"content align-center flex flex-column gap-4 pt-4 pb-4\" appScrollBottom (scrollingFinished)=\"onScrollingFinished()\">\n  @for (post of posts$ | async; track post) {\n    <app-post-card [post]=\"post\"></app-post-card>\n  }\n  <div class=\"w-full flex justify-content-center align-self-center\" *ngIf=\"isLoading$ | async\">\n    <app-skeleton-card></app-skeleton-card>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { HomeComponent } from './components/home.component';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LocalizeRouterModule } from '@gilsdav/ngx-translate-router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomeComponent,\n  },\n];\n@NgModule({\n  imports: [RouterModule.forChild(routes), LocalizeRouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomeRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { HomeRoutingModule } from './home-routing.module';\nimport { HomeComponent } from './components/home.component';\nimport { ScrollBottomDirective } from 'src/app/shared/directives/scroll-bottom.directive';\nimport { PostCardComponent } from '@components/post-card/post-card.component';\nimport { SkeletonCardComponent } from '@components/skeleton-card/skeleton-card.component';\n\n@NgModule({\n  imports: [CommonModule, HomeRoutingModule, PostCardComponent, ScrollBottomDirective, TranslateModule, SkeletonCardComponent],\n  declarations: [HomeComponent],\n})\nexport class HomeModule {}\n","import { Component } from '@angular/core';\nimport { SkeletonModule } from 'primeng/skeleton';\n\n@Component({\n  selector: 'app-skeleton-card',\n  templateUrl: 'skeleton-card.component.html',\n  styleUrls: ['skeleton-card.component.scss'],\n  standalone: true,\n  imports: [SkeletonModule],\n})\nexport class SkeletonCardComponent {}\n","<div class=\"wrapper\">\n  <div class=\"image\">\n    <p-skeleton height=\"300px\"></p-skeleton>\n  </div>\n  <div class=\"tabs\">\n    <p-skeleton size=\"1.5rem\"></p-skeleton>\n    <p-skeleton height=\"1.5rem\" width=\"5rem\"></p-skeleton>\n  </div>\n</div>\n","import { Directive, Output, EventEmitter, HostListener, Input, ElementRef, OnInit } from '@angular/core';\n\n@Directive({\n  selector: '[appScrollBottom]',\n  standalone: true,\n})\nexport class ScrollBottomDirective implements OnInit {\n  @Output() scrollingFinished = new EventEmitter<void>();\n  @Input() threshold = 60;\n  private window!: Window;\n  constructor(private el: ElementRef) {}\n\n  ngOnInit() {\n    this.window = window;\n  }\n\n  @HostListener('window:scroll', ['$event.target'])\n  windowScrollEvent() {\n    const heightOfWholePage = this.window.document.documentElement.scrollHeight;\n    const heightOfElement = this.el.nativeElement.scrollHeight;\n    const currentScrolledY = this.window.scrollY;\n    const innerHeight = this.window.innerHeight;\n    const spaceOfElementAndPage = heightOfWholePage - heightOfElement;\n    const scrollToBottom = heightOfElement - innerHeight - currentScrolledY + spaceOfElementAndPage;\n    if (scrollToBottom < this.threshold) {\n      this.scrollingFinished.emit();\n    }\n  }\n}\n","import { createSelector } from '@ngrx/store';\n\nimport { FeedStateInterface } from './feedState.interface';\nimport { AppStateInterface } from '@store/app/app-state.interface';\n\nexport const feedFeatureSelector = (state: AppStateInterface): FeedStateInterface => state.feed;\nexport const selectIsLoadingPosts = createSelector(feedFeatureSelector, (state) => state.isLoading);\nexport const selectPosts = createSelector(feedFeatureSelector, (state) => state.posts);\n"],"names":["Store","filter","take","selectIsLoadingPosts","selectPosts","getPostsAction","i0","ɵɵelement","ɵɵproperty","post_r2","ɵɵelementStart","ɵɵelementEnd","HomeComponent","constructor","store","count","posts$","select","isLoading$","ngOnInit","dispatch","onScrollingFinished","pipe","isLoading","subscribe","_","ɵɵdirectiveInject","i1","_2","selectors","decls","vars","consts","template","HomeComponent_Template","rf","ctx","ɵɵlistener","HomeComponent_Template_div_scrollingFinished_0_listener","ɵɵrepeaterCreate","HomeComponent_For_2_Template","ɵɵrepeaterTrackByIdentity","ɵɵtemplate","HomeComponent_div_4_Template","ɵɵadvance","ɵɵrepeater","ɵɵpipeBind1","RouterModule","LocalizeRouterModule","routes","path","component","HomeRoutingModule","_3","forChild","imports","i2","exports","CommonModule","TranslateModule","ScrollBottomDirective","PostCardComponent","SkeletonCardComponent","HomeModule","declarations","SkeletonModule","standalone","features","ɵɵStandaloneFeature","SkeletonCardComponent_Template","Skeleton","styles","EventEmitter","ElementRef","el","scrollingFinished","threshold","window","windowScrollEvent","heightOfWholePage","document","documentElement","scrollHeight","heightOfElement","nativeElement","currentScrolledY","scrollY","innerHeight","spaceOfElementAndPage","scrollToBottom","emit","hostBindings","ScrollBottomDirective_HostBindings","$event","target","ɵɵresolveWindow","createSelector","feedFeatureSelector","state","feed","posts"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}