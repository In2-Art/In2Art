"use strict";(self.webpackChunkWebAppNew=self.webpackChunkWebAppNew||[]).push([[769],{2769:(T,p,l)=>{l.r(p),l.d(p,{HomeModule:()=>O});var c=l(6895),_=l(425),s=l(6272),a=l(5861),m=l(7555),e=l(4650),d=l(9696),g=l(2779),f=l(6362);const M=["publicacio"];function C(o,i){1&o&&e.\u0275\u0275element(0,"app-publicacio",4,5),2&o&&e.\u0275\u0275property("p",i.$implicit)}function v(o,i){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",6),e.\u0275\u0275element(2,"i",7),e.\u0275\u0275text(3,"\xa0"),e.\u0275\u0275elementContainerStart(4),e.\u0275\u0275i18n(5,8),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.main.goTo("/search"))}),e.\u0275\u0275i18n(7,10),e.\u0275\u0275elementEnd()()}}function H(o,i){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.carregarMes())}),e.\u0275\u0275i18n(1,12),e.\u0275\u0275elementEnd()}}function P(o,i){1&o&&e.\u0275\u0275element(0,"app-loading")}const E=[{path:"",children:[{path:"",component:(()=>{class o{constructor(n,t){this.main=n,this.route=t,this.scroll=!0,this.numPublicacions=5,this.comptador=0,this.publicacions=[],this.primerCop=!0,this.encaraQueda={yourTimeline:!0,yourPreferences:!0,otherContent:!0},n.newPage(this)}ngOnInit(){var n=this;return(0,a.Z)(function*(){console.log("allRates names: ",{}),n.main.apiHelpers.checkCurrentUser()||n.main.goToLogin(),n.publicacions=yield m.n.takeArtworks(5).then(r=>r.result),yield n.carregarMes()})()}ngOnDestroy(){this.main.onDestroyPage()}carregarMes(){var n=this;return(0,a.Z)(function*(){let t=null;n.carregant=!0,t=yield n.getMes(),n.carregant=!1,n.publicacions.push(...t)})()}getMes(){return(0,a.Z)(function*(){let n=[];return n=yield m.n.takeArtworks(5).then(t=>t.result),n})()}onWindowScroll(){window,window.innerHeight+window.scrollY+10>=document.body.scrollHeight&&!this.carregant&&this.scroll&&this.carregarMes()}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(d.J),e.\u0275\u0275directiveInject(s.gz))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-home"]],viewQuery:function(n,t){if(1&n&&e.\u0275\u0275viewQuery(M,5),2&n){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(t.publicacioComponents=r)}},hostBindings:function(n,t){1&n&&e.\u0275\u0275listener("scroll",function(u){return t.onWindowScroll(u)},!1,e.\u0275\u0275resolveWindow)("mousemove",function(u){return t.onWindowScroll(u)},!1,e.\u0275\u0275resolveWindow)},decls:5,vars:4,consts:function(){let i,n,t;return i="Ja ho has vist tot",n="Ves al Discover",t="M\xE9s publicacions +",[[1,"content","align-center"],[3,"p",4,"ngFor","ngForOf"],[4,"ngIf"],["class","boto botoPrincipal fs-5",3,"click",4,"ngIf"],[3,"p"],["publicacio",""],[1,"noPublicacions"],[1,"fas","fa-check-circle"],i,[1,"boto","botoPrincipal","botoGran","reload",3,"click"],n,[1,"boto","botoPrincipal","fs-5",3,"click"],t]},template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,C,2,1,"app-publicacio",1),e.\u0275\u0275template(2,v,8,0,"div",2),e.\u0275\u0275template(3,H,2,0,"button",3),e.\u0275\u0275template(4,P,1,0,"app-loading",2),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.publicacions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.publicacions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.scroll&&!t.carregant),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.carregant))},dependencies:[c.NgForOf,c.NgIf,g.u,f.N],styles:[".content[_ngcontent-%COMP%]{max-width:940px;padding:20px 0 100px}.content[_ngcontent-%COMP%]   app-publicacio[_ngcontent-%COMP%]{display:block;margin-bottom:30px}.content[_ngcontent-%COMP%]   .noPublicacions[_ngcontent-%COMP%]{padding:1em;font-size:1.75em}.content[_ngcontent-%COMP%]   .reload[_ngcontent-%COMP%]{font-size:1.4em}"]}),o})()}]}];let h=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.Bz.forChild(E),s.Bz]}),o})(),O=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[h,c.CommonModule,_.m]}),o})()}}]);