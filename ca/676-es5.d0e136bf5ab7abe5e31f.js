!function(){var e,n,t;function r(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[676],{6676:function(o,u,s){"use strict";s.r(u),s.d(u,{HomeModule:function(){return S}});var l=s(1116),f=s(8826),p=s(2080),d=s(4762),m=s(5366),h=s(1407),g=s(9074),b=s(5641),v=["publicacio"];function y(e,n){1&e&&m["\u0275\u0275element"](0,"app-publicacio",4,5),2&e&&m["\u0275\u0275property"]("p",n.$implicit)}function w(e,n){if(1&e){var t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275elementStart"](1,"div",6),m["\u0275\u0275element"](2,"i",7),m["\u0275\u0275text"](3,"\xa0"),m["\u0275\u0275elementContainerStart"](4),m["\u0275\u0275i18n"](5,8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"button",9),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](t),m["\u0275\u0275nextContext"]().main.goTo("/search")}),m["\u0275\u0275i18n"](7,10),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}function C(e,n){if(1&e){var t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",11),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](t),m["\u0275\u0275nextContext"]().carregarMes()}),m["\u0275\u0275i18n"](1,12),m["\u0275\u0275elementEnd"]()}}function k(e,n){1&e&&m["\u0275\u0275element"](0,"app-loading")}var P,x,M=[{path:"",children:[{path:"",component:(P=function(){function e(n){a(this,e),this.main=n,this.scroll=!0,this.numPublicacions=5,this.publicacions=[],this.primerCop=!0,this.encaraQueda={yourTimeline:!0,yourPreferences:!0,otherContent:!0},n.newPage(this)}var n,t,r;return n=e,(t=[{key:"ngOnInit",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.carregarMes();case 2:case"end":return e.stop()}},e,this)}))}},{key:"ngOnDestroy",value:function(){this.main.onDestroyPage()}},{key:"carregarMes",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,this.carregant=!0,e.next=4,this.getMes();case 4:t=e.sent,this.carregant=!1,t&&(n=this.publicacions).push.apply(n,i(t));case 7:case"end":return e.stop()}},e,this)}))}},{key:"getMes",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!this.encaraQueda.yourTimeline){e.next=9;break}return e.next=4,this.main.provider.timeline_getYourTimeline(this.numPublicacions,this.primerCop);case 4:if(n=e.sent,this.primerCop=!1,!(null==n?void 0:n.length)){e.next=8;break}return e.abrupt("return",n);case 8:this.encaraQueda.yourTimeline=!1;case 9:if(!this.encaraQueda.yourPreferences){e.next=16;break}return e.next=12,this.main.provider.timeline_getYourPreferences(this.numPublicacions);case 12:if(!(null==(n=e.sent)?void 0:n.length)){e.next=15;break}return e.abrupt("return",n);case 15:this.encaraQueda.yourPreferences=!1;case 16:if(!this.encaraQueda.otherContent){e.next=23;break}return e.next=19,this.main.provider.timeline_getOtherContent(this.numPublicacions);case 19:if(!(null==(n=e.sent)?void 0:n.length)){e.next=22;break}return e.abrupt("return",n);case 22:this.encaraQueda.otherContent=!1;case 23:return e.abrupt("return",null);case 24:case"end":return e.stop()}},e,this)}))}},{key:"onWindowScroll",value:function(){window,window.innerHeight+window.scrollY+10>=document.body.scrollHeight&&!this.carregant&&this.scroll&&this.carregarMes()}}])&&c(n.prototype,t),r&&c(n,r),e}(),P.\u0275fac=function(e){return new(e||P)(m["\u0275\u0275directiveInject"](h.J))},P.\u0275cmp=m["\u0275\u0275defineComponent"]({type:P,selectors:[["app-home"]],viewQuery:function(e,n){var t;1&e&&m["\u0275\u0275viewQuery"](v,5),2&e&&m["\u0275\u0275queryRefresh"](t=m["\u0275\u0275loadQuery"]())&&(n.publicacioComponents=t)},hostBindings:function(e,n){1&e&&m["\u0275\u0275listener"]("scroll",function(e){return n.onWindowScroll(e)},!1,m["\u0275\u0275resolveWindow"])("mousemove",function(e){return n.onWindowScroll(e)},!1,m["\u0275\u0275resolveWindow"])},decls:5,vars:4,consts:function(){return[[1,"content","align-center"],[3,"p",4,"ngFor","ngForOf"],[4,"ngIf"],["class","boto botoPrincipal fs-5",3,"click",4,"ngIf"],[3,"p"],["publicacio",""],[1,"noPublicacions"],[1,"fas","fa-check-circle"],"Ja ho has vist tot",[1,"boto","botoPrincipal","botoGran","reload",3,"click"],"Ves al Discover",[1,"boto","botoPrincipal","fs-5",3,"click"],"M\xE9s publicacions +"]},template:function(e,n){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275template"](1,y,2,1,"app-publicacio",1),m["\u0275\u0275template"](2,w,8,0,"div",2),m["\u0275\u0275template"](3,C,2,0,"button",3),m["\u0275\u0275template"](4,k,1,0,"app-loading",2),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",n.publicacions),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!n.encaraQueda.yourTimeline&&!n.encaraQueda.yourPreferences&&!n.encaraQueda.otherContent),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!n.scroll&&!n.carregant),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",n.carregant))},directives:[l.NgForOf,l.NgIf,g.u,b.N],styles:[".content[_ngcontent-%COMP%]{max-width:940px;padding:20px 0 100px}.content[_ngcontent-%COMP%]   app-publicacio[_ngcontent-%COMP%]{display:block;margin-bottom:30px}.content[_ngcontent-%COMP%]   .noPublicacions[_ngcontent-%COMP%]{padding:1em;font-size:1.75em}.content[_ngcontent-%COMP%]   .reload[_ngcontent-%COMP%]{font-size:1.4em}"]}),P)}]}],O=function(){var e=function e(){a(this,e)};return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({imports:[[p.Bz.forChild(M)],p.Bz]}),e}(),S=((x=function e(){a(this,e)}).\u0275fac=function(e){return new(e||x)},x.\u0275mod=m["\u0275\u0275defineNgModule"]({type:x}),x.\u0275inj=m["\u0275\u0275defineInjector"]({imports:[[O,l.CommonModule,f.m]]}),x)}}])}();