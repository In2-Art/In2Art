{"version":3,"sources":["webpack:///src/app/in2art/classes/errorObject.ts","webpack:///src/app/in2art/components/_tools/contents-ordenables/contents-ordenables.component.ts","webpack:///src/app/in2art/components/_tools/contents-ordenables/contents-ordenables.component.html","webpack:///src/app/in2art/pages/new/artwork/new-artwork.component.html","webpack:///src/app/in2art/pages/new/artwork/new-artwork.component.ts","webpack:///src/app/in2art/pages/new/new-routing.module.ts","webpack:///src/app/in2art/pages/new/new.module.ts","webpack:///src/app/in2art/pages/new/post/new-post.component.html","webpack:///src/app/in2art/pages/new/post/new-post.component.ts","webpack:///src/app/in2art/services/DTOs/ArtworkDTO.ts","webpack:///src/app/in2art/services/DTOs/checks.ts","webpack:///src/app/in2art/services/DTOs/FileDTO.ts","webpack:///src/app/in2art/services/DTOs/PostDTO.ts","webpack:///src/app/in2art/services/DTOs/Random.ts"],"names":["ErrorObject","type","message","ContentsOrdenablesComponent","items","i","splice","map","e","item","dataset","index","blob","getType","toArray","ext","split","NewArtworkComponent","main","fb","domSanitizer","modalService","processingFiles","files","validate","mediumItemsIndexat","movementItemsIndexat","mediums","movements","carregantBotoPublicar","mostrarFileRequired","newPage","form","group","inputFiles","title","Validators","author","authorType","date","otherMediums","otherMovements","dimensions","technique","price","currency","description","tags","major18","mediumItemsPromise","provider","getMediumsOther","movementItemsPromise","getMovementsOther","closePreviewModal","onDestroyPage","itemsProcessed","length","file","Utils","bypassSecurityTrustUrl","contentsOrdenables","push","val","camp","includes","controls","value","filter","join","setValue","prop","trigger","open","previewModal","size","modalClass","backdropClass","hideCloseButton","centered","backdrop","animation","keyboard","closeOnOutsideClick","close","preview","data","markAllAsTouched","acdcDatepicker","touched","corregirTags","valid","isValid","console","log","dateMaco","getTextAny","getTextSegle","priceCurrency","toFixed","content","getItemsOrdered","esObra","lazyDataLazySave","id","getArtsitId","currentUser","checkData","ArtworkDTO","mediumItems","forEach","id_categoria","nom_categoria","movementItems","id_estil","nom_estil","text","user","openPreviewModal","formData","FormData","c","append","File","changingThisBreaksApplicationSecurity","JSON","stringify","getObjData","userId","getArtistIdByUserId","then","addFiles","focusInputAuthor","submit","publicar","routes","path","children","redirectTo","component","NewPostComponent","NewRoutingModule","RouterModule","NewModule","CommonModule","SharedModule","FormsModule","NgSelectModule","DragulaModule","ModalModule","ps","postFormData","eh","hiHaError","toastDanger","toastSuccess","errors","postId","post","others","material","perservation","location","afterChrist","artistTypeId","dateFormatTypeId","languageId","isVisible","Checks","PostDTO","check","OthersLength","TechniqueLength","DimensionsLength","MaterialLength","PerservationLength","LocationLength","email","password","checkEmail","checkPassword","String","toLowerCase","match","MIN_PASSWORD_LENGTH","MAX_PASSWORD_LENGTH","name","nickname","trim","Date","isNaN","getTime","phone","base64","regexExp","test","sha512","FileDTO","tokenRecovery","generateToken","Random","LengthTokenRecovery","concat","dataBase64","fileName","fileExt","obj","isDraft","artworkRelatedId","patreonMinLevelId","fileIds","jsonHelper","Escape","MAX_TITLE_LENGTH","MAX_DESCRIPTION_LENGTH","f","CHAR_LIST","result","characters","charactersLength","charAt","Math","floor","random","str","isOk","indexOf","maxExcluded","arr","undefined","Integer","filterMethod","pos","Position","Value"],"mappings":"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","file":"src_app_in2art_pages_new_new_module_ts-es5.js","sourcesContent":["export class ErrorObject {\r\n\r\n    type: string;\r\n    message: string;\r\n\r\n    constructor(type: string, message: string) {\r\n        this.type = type;\r\n        this.message = message;\r\n    }\r\n\r\n}","// import { Utils } from './../../services/utils.service';\r\nimport * as $ from \"jquery\";\r\n\r\nimport { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-contents-ordenables',\r\n    templateUrl: './contents-ordenables.component.html',\r\n    styleUrls: ['./contents-ordenables.component.scss']\r\n})\r\nexport class ContentsOrdenablesComponent implements OnInit {\r\n\r\n    public items;\r\n\r\n    constructor() {\r\n        this.items = [];\r\n    }\r\n\r\n    async ngOnInit() {\r\n    }\r\n\r\n    eliminarPos(i) {\r\n        this.items.splice(i, 1);\r\n    }\r\n\r\n    getItemsOrdered() {\r\n        return $(\".item:visible\").map((i, e) => {\r\n            let item = this.items[e.dataset.index];\r\n            return {\r\n                blob: item.blob,\r\n                type: this.getType(item)\r\n            };\r\n        }).toArray();\r\n    }\r\n    getType(item) {\r\n        let ext = item.type.split(\"/\")[1];\r\n\r\n        if (ext == \"jpg\" || ext == \"jpeg\" || ext == \"png\" || ext == \"gif\") return 1;\r\n        if (ext == \"mp4\" || ext == \"avi\") return 2;\r\n        if (ext == \"mp3\" || ext == \"mpeg\" || ext == \"wav\" || ext == \"ogg\") return 3;\r\n    }\r\n}\r\n","<div class=\"items\" dragula=\"FILES\">\r\n    <div class=\"item\" *ngFor=\"let item of items; let i=index\" [hidden]=\"!item\" [attr.data-index]=\"i\">\r\n        <div *ngIf=\"item\">\r\n            <img *ngIf=\"getType(item)==1\" class=\"file\" [src]=\"item.blob\" [alt]=\"item.name\">\r\n            <video *ngIf=\"getType(item)==2\" class=\"file\"><source [src]=\"item.blob\"></video>\r\n            <audio *ngIf=\"getType(item)==3\" class=\"file\" controls><source [src]=\"item.blob\" [type]=\"item.type\" i18n=\"@@Your browser does not support the audio element\">Your browser does not support the audio element</audio>\r\n            <div class=\"text\">{{item.name}}</div>\r\n            <div class=\"botons\">\r\n                <button class=\"boto\" (click)=\"eliminarPos(i)\"><i class=\"fas fa-times\"></i></button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","<div class=\"content\">\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n\r\n            <div class=\"content-top row no-gutters\">\r\n                <div class=\"col-sm-3 col-12\"></div>\r\n                <div class=\"col-sm-6 col-12 order-2 order-sm-1 titol\" i18n=\"@@New artwork\">New artwork</div>\r\n                <button class=\"col-sm-3 col-12 order-1 order-sm-2 boto botoSecundari anarAPost\" (click)=\"main.goTo('new/post')\" i18n=\"@@Go to new post\">\r\n                    Go to new post <i class=\"fas fa-chevron-right\"></i></button>\r\n            </div>\r\n\r\n            <p class=\"notaEnGris\" i18n=\"@@This is only for finished artworks\">This is only for finished artworks that will be rated. Please don't upload other type of content.</p>\r\n            \r\n            <form class=\"theme-form\" [formGroup]=\"form\">\r\n\r\n                <!-- <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3 asterisc\">Files</label>\r\n                    <input class=\"col-sm-12 col-xl-9\" id=\"inputFiles\" type=\"file\" multiple required>\r\n                    <div *ngIf=\"mostrarFileRequired\" class=\"textErrorForm\">File is required</div>\r\n                </div> -->\r\n\r\n                <input class=\"form-camp inputFile\" type=\"file\" multiple (input)=\"addFiles()\" [disabled]=\"processingFiles\"\r\n                    accept=\".JPG,.PNG,.GIF,.MP4,.AVI,.MP3,.WAV,.OGG\"><!-- ,.PDF -->\r\n                \r\n                <div class=\"divContentsOrdenables clearfix\" [style.display]=\"contentsOrdenables.items.length ? 'block' : 'none'\">\r\n                    <p class=\"notaEnGris dragToOrder\" i18n=\"@@Drag to order\">Drag to order</p>\r\n                    <app-contents-ordenables #contentsOrdenables></app-contents-ordenables>\r\n                </div>\r\n\r\n                <p class=\"notaEnGris\" i18n=\"@@You can upload:\">You can upload: photos (.JPG, .PNG, .GIF) and videos (.MP4, .AVI) </p><!-- and audio (.MP3, .WAV, .OGG) and text (.PDF) -->\r\n\r\n\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3 asterisc\" i18n=\"@@Title\">Title</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"title\">\r\n                    <div *ngIf=\"form.controls.title.touched && form.controls.title.errors?.required\"\r\n                        class=\"textErrorForm\" i18n=\"@@Title is required\">Title is required</div>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3 asterisc\" i18n=\"@@Author\">Author</label>\r\n                    <div class=\"col-sm-12 col-xl-9 m-checkbox-inline\">\r\n                        \r\n                        <div class=\"grupCadaRadio\" style=\"min-width:20%\">\r\n                            <div class=\"radio radio-primary\">\r\n                                <input id=\"at_myself\" type=\"radio\" value=\"1\" name=\"authorType\" formControlName=\"authorType\">\r\n                                <label for=\"at_myself\" i18n=\"@@Myself\">Myself</label>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"grupCadaRadio\" style=\"min-width:20%\">\r\n                            <div class=\"radio radio-primary\">\r\n                                <input id=\"at_unknown\" type=\"radio\" value=\"2\" name=\"authorType\" formControlName=\"authorType\">\r\n                                <label for=\"at_unknown\" i18n=\"@@Unknown\">Unknown Author</label>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"grupCadaRadio\" style=\"min-width:60%\">\r\n                            <div class=\"radio radio-primary\">\r\n                                <input id=\"at_authorName\" type=\"radio\" value=\"3\" name=\"authorType\" formControlName=\"authorType\" (input)=\"focusInputAuthor()\">\r\n                                <label for=\"at_authorName\" style=\"padding-left:0;\"></label>\r\n                            </div>\r\n                            <input id=\"author\" type=\"text\" class=\"form-camp\" formControlName=\"author\" (focus)=\"focusInputAuthor()\">\r\n                        </div>\r\n\r\n                    </div>\r\n                    <app-missatge-error-form [control]=\"form.controls.authorType\" [nomText]=\"'author'\"></app-missatge-error-form>\r\n                    <div *ngIf=\"form.controls.authorType.value==3 && form.controls.author.value==''\"\r\n                        class=\"textErrorForm\" i18n=\"@@Author is required\">Author is required</div>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3 asterisc\" i18n=\"@@Date\">Date</label>\r\n                    <app-acdc-datepicker #acdcDatepicker class=\"col-sm-12 col-xl-9\"></app-acdc-datepicker>\r\n                    <div *ngIf=\"acdcDatepicker.touched && !acdcDatepicker.isValid()\"\r\n                        class=\"textErrorForm\" i18n=\"@@Date is required\">Date is required</div>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\">\r\n                        <span (click)=\"tooltipMedium.show()\" mat-raised-button matTooltip=\"{{main.t('mediumDefinition')}}\" #tooltipMedium=\"matTooltip\"\r\n                            class=\"asterisc\" i18n=\"@@Medium\">Medium</span>\r\n                        <i class=\"far fa-question-circle ml-1\"></i>\r\n                    </label>\r\n                    <ng-select [ngClass]=\"othersSeleccionat(mediums)? 'col-sm-6 col-xl-5' : 'col-sm-12 col-xl-9'\"\r\n                        [items]=\"mediumItemsPromise | async\" bindLabel=\"nom_categoria\" bindValue=\"id_categoria\"\r\n                        [(ngModel)]=\"mediums\" [ngModelOptions]=\"{standalone:true}\" [multiple]=\"true\"></ng-select>\r\n                    <!-- <div class=\"hidden-xs col-xl-1\" *ngIf=\"othersSeleccionat(mediums)\"></div> -->\r\n                    <input class=\"form-camp col-sm-6 col-xl-4\" [style.display]=\"othersSeleccionat(mediums)? 'block' : 'none'\" type=\"text\" formControlName=\"otherMediums\">\r\n                    <div *ngIf=\"(form.controls.mediums.touched && mediums.length == 0) || (othersSeleccionat(mediums) && form.controls.otherMediums.touched && form.controls.otherMediums.value == '')\"\r\n                        class=\"textErrorForm\" i18n=\"@@Mediums are required\">Mediums are required</div>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\">\r\n                        <span (click)=\"tooltipMovement.show()\" mat-raised-button matTooltip=\"{{main.t('movementDefinition')}}\" #tooltipMovement=\"matTooltip\"\r\n                            class=\"asterisc\" i18n=\"@@Movement\">Movement</span>\r\n                        <i class=\"far fa-question-circle ml-1\"></i>\r\n                    </label>\r\n                    <ng-select [ngClass]=\"othersSeleccionat(movements)? 'col-sm-6 col-xl-5' : 'col-sm-12 col-xl-9'\"\r\n                        [items]=\"movementItemsPromise | async\" bindLabel=\"nom_estil\" bindValue=\"id_estil\"\r\n                        [(ngModel)]=\"movements\" [ngModelOptions]=\"{standalone:true}\" [multiple]=\"true\"></ng-select>\r\n                    <!-- <div class=\"hidden-xs col-xl-1\" *ngIf=\"othersSeleccionat(movements)\"></div> -->\r\n                    <input class=\"form-camp col-sm-6 col-xl-4\" [style.display]=\"othersSeleccionat(movements)? 'block' : 'none'\" type=\"text\" formControlName=\"otherMovements\">\r\n                    <div *ngIf=\"(form.controls.movements.touched && movements.length == 0) || (othersSeleccionat(movements) && form.controls.otherMovements.touched && form.controls.otherMovements.value == '')\"\r\n                        class=\"textErrorForm\" i18n=\"@@Movements are required\">Movements are required</div>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Dimensions\">Dimensions (width, height, depth)</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"dimensions\">\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Technique\">Technique</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"technique\">\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Price\">Price</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"number\" min=\"0\" step=\"any\" formControlName=\"price\">\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Description\">Description</label>\r\n                    <textarea class=\"form-camp col-sm-12 col-xl-9\" maxlength=\"3000\" formControlName=\"description\"></textarea>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Tags\">Tags</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"tags\" (blur)=\"corregirTags()\">\r\n                </div>\r\n                <div class=\"form-grup\">\r\n                    <label class=\"d-block checkbox-label\" for=\"major18\" style=\"text-align:center;\">\r\n                        <input class=\"checkbox_animated\" id=\"major18\" type=\"checkbox\" formControlName=\"major18\" i18n=\"@@The content uploaded is only for 18\">The content uploaded is only for 18+\r\n                    </label>\r\n                </div>\r\n                \r\n                <div style=\"text-align:center;\">\r\n                    <input class=\"boto botoPrincipal botoGran\" type=\"button\" value=\"Save\" (click)=\"submit()\" [disabled]=\"!contentsOrdenables.items.length\">\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<modal id=\"previewModal\" #previewModal>\r\n    <modal-content>\r\n        <app-publicacio *ngIf=\"preview\" [p]=\"preview\" [preview]=\"true\"></app-publicacio>\r\n    </modal-content>\r\n    <modal-footer>\r\n        <div class=\"botons\">\r\n            <button class=\"boto botoPrincipal botoGran back\" (click)=\"closePreviewModal()\" i18n=\"@@Back\">Back</button>\r\n            <button class=\"boto botoPrincipal botoGran post\" (click)=\"publicar()\" [disabled]=\"carregantBotoPublicar\" i18n=\"@@Post\">Post</button>\r\n        </div>\r\n    </modal-footer>\r\n</modal>\r\n","import { MainService } from '../../../services/main.service';\r\nimport { Utils } from '../../../services/utils.service';\r\nimport * as $ from \"jquery\";\r\n\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { ModalManager } from 'ngb-modal';\r\nimport { ArtworkDTO } from 'src/app/in2art/services/DTOs/ArtworkDTO';\r\nimport { Checks } from 'src/app/in2art/services/DTOs/checks';\r\n\r\n@Component({\r\n    selector: 'app-new-artwork',\r\n    templateUrl: './new-artwork.component.html',\r\n    styleUrls: ['./new-artwork.component.scss']\r\n})\r\nexport class NewArtworkComponent implements OnInit {\r\n\r\n    @ViewChild(\"contentsOrdenables\") contentsOrdenables;\r\n    @ViewChild(\"previewModal\") previewModal;\r\n\r\n    @ViewChild(\"acdcDatepicker\") acdcDatepicker;\r\n    \r\n    public processingFiles = false;\r\n\r\n    public files = [];\r\n\r\n    public form: FormGroup;\r\n    public validate = false;\r\n    public mediumItemsPromise;\r\n    public movementItemsPromise;\r\n    public mediumItems;\r\n    public movementItems;\r\n    public mediumItemsIndexat = [];\r\n    public movementItemsIndexat = [];\r\n    public mediums = [];\r\n    public movements = [];\r\n\r\n    public preview;\r\n\r\n    public carregantBotoPublicar = false;\r\n    \r\n    public mostrarFileRequired = false;\r\n\r\n    constructor(\r\n        public main: MainService,\r\n        private fb: FormBuilder,\r\n        public domSanitizer: DomSanitizer,\r\n        private modalService: ModalManager,\r\n    ) {\r\n        main.newPage(this);\r\n        \r\n        this.form = this.fb.group({\r\n            inputFiles: [\"\"],// Posem aixo només per tenir l'alerta si esta buit //\r\n            title: [\"\", Validators.required],\r\n            author: [\"\"],\r\n            authorType: [\"\", Validators.required],\r\n            date: [\"\"],\r\n            mediums: [\"\"],\r\n            otherMediums: [\"\"],\r\n            movements: [\"\"],\r\n            otherMovements: [\"\"],\r\n            dimensions: [\"\"],\r\n            technique: [\"\"],\r\n            price: [\"\"],\r\n            currency: [\"\"],\r\n            description: [\"\"],\r\n            tags: [\"\"],\r\n            major18: [false],\r\n        });\r\n\r\n        // TEST\r\n        // this.form.controls.title.setValue(\"Titol\");\r\n        // this.form.controls.author.setValue(\"Leo\");\r\n        // this.form.controls.authorType.setValue(\"3\");\r\n        // this.form.controls.date.setValue(\"29 Nov\");\r\n        // this.form.controls.dimensions.setValue(\"22m\");\r\n        // this.form.controls.technique.setValue(\"fresco\");\r\n        // this.form.controls.price.setValue(\"213.5\");\r\n        // this.form.controls.description.setValue(\"Descripció molt molt molt molt molt molt molt molt llarga\");\r\n        // this.form.controls.tags.setValue(\"covid,joke,landscape,photo\");\r\n    }\r\n\r\n    async ngOnInit() {\r\n        this.mediumItemsPromise = this.main.provider.getMediumsOther();\r\n        this.movementItemsPromise = this.main.provider.getMovementsOther();\r\n    }\r\n    ngOnDestroy() {\r\n        this.closePreviewModal();\r\n        this.main.onDestroyPage();\r\n    }\r\n\r\n    async addFiles() {\r\n        this.processingFiles = true;\r\n        let itemsProcessed = 0;\r\n        let files = $(\".inputFile\")[0].files;\r\n        for (let i = 0; i < files.length; i++) {\r\n            let file = files[i];\r\n            if (file) {\r\n                file.blob = this.domSanitizer.bypassSecurityTrustUrl(<string>await Utils.blobToBase64(file));\r\n                this.contentsOrdenables.items.push(file);\r\n                itemsProcessed++;\r\n                if (itemsProcessed == files.length) {\r\n                    $(\".inputFile\").val(\"\");\r\n                    this.processingFiles = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public othersSeleccionat(camp) {\r\n        return camp.includes(-1) || camp.includes(\"-1\");\r\n    }\r\n\r\n    corregirTags() {\r\n        let tags = this.form.controls.tags.value;\r\n        tags = tags\r\n            .split(/[\\s,]+/)\r\n            .map(e => Utils.parseTag(e))\r\n            .filter(e => e.length)\r\n            .join(\", \");\r\n        this.form.controls.tags.setValue(tags);\r\n    }\r\n\r\n    // HTML //\r\n    public focusInputAuthor() {\r\n        $('#at_authorName').prop('checked', true);\r\n        $('#author').trigger(\"focus\");\r\n        this.form.controls.authorType.setValue(\"3\");\r\n    }\r\n\r\n    async openPreviewModal() {\r\n        this.modalService.open(this.previewModal, {\r\n            size: \"xl\",\r\n            modalClass: \"previewModal\",\r\n            backdropClass: \"modal-backdrop\",\r\n            hideCloseButton: true,\r\n            centered: true,\r\n            backdrop: true,\r\n            animation: true,\r\n            keyboard: true,\r\n            closeOnOutsideClick: false,\r\n        });\r\n    }\r\n    async closePreviewModal() {\r\n        try { this.modalService.close(this.previewModal); } catch { };\r\n        await Utils.wait(0.5);\r\n        this.preview = null;\r\n    }\r\n\r\n    checkDTO(data: any) {\r\n\r\n\r\n\r\n    }\r\n    \r\n    /**\r\n     * Mostra una preview de l'Artwork de com es mostrara dins de la web\r\n     */\r\n    public submit() {\r\n        this.form.markAllAsTouched();\r\n        this.acdcDatepicker.touched = true;\r\n\r\n        this.form.controls.mediums.setValue(this.mediums);\r\n        this.form.controls.movements.setValue(this.movements);\r\n\r\n        this.mostrarFileRequired = !Utils.objPle(this.files);\r\n\r\n        this.corregirTags();\r\n\r\n        if (!Utils.objPle(this.files) || !this.form.valid || !this.acdcDatepicker.isValid()) {\r\n            console.log(\"--- INVÀLID ---\");\r\n            console.log(this.form);\r\n            return;\r\n        }\r\n\r\n        let dateMaco = \"\";\r\n        if (this.acdcDatepicker.type == \"y\")\r\n            dateMaco = this.acdcDatepicker.getTextAny();\r\n        if (this.acdcDatepicker.type == \"c\")\r\n            dateMaco = this.acdcDatepicker.getTextSegle().split(\" (\")[0];\r\n        \r\n        let priceCurrency = this.form.controls.price.value;\r\n        if (priceCurrency) priceCurrency = priceCurrency.toFixed(2) + \"€\";\r\n\r\n        this.preview = {\r\n            content: this.contentsOrdenables.getItemsOrdered(),\r\n            title: this.form.controls.title.value,\r\n            authorType: this.form.controls.authorType.value,\r\n            author: this.form.controls.author.value,\r\n            // date: this.acdcDatepicker.getData(),\r\n            dateMaco: dateMaco,\r\n            mediums: this.form.controls.mediums.value,\r\n            otherMediums: this.form.controls.otherMediums.value,\r\n            movements: this.form.controls.movements.value,\r\n            otherMovements: this.form.controls.otherMovements.value,\r\n            dimensions: this.form.controls.dimensions.value,\r\n            technique: this.form.controls.technique.value,\r\n            price: this.form.controls.price.value,\r\n            currency: this.form.controls.currency.value,\r\n            priceCurrency: priceCurrency,\r\n            description: this.form.controls.description.value,\r\n            tags: this.form.controls.tags.value,\r\n            major18: this.form.controls.major18.value,\r\n            esObra: true,\r\n        };\r\n\r\n        let lazyDataLazySave = {\r\n\r\n            id: this.getArtsitId(this.main.currentUser.id),\r\n            \r\n\r\n        }\r\n        \r\n        console.log(this.form);\r\n    \r\n        console.log(\"--- VÀLID ---\");\r\n\r\n        let checkData = new ArtworkDTO(this.preview);\r\n        \r\n        this.mediumItems.forEach((e) => {\r\n            this.mediumItemsIndexat[e.id_categoria] = e.nom_categoria;\r\n        })\r\n        this.movementItems.forEach((e) => {\r\n            this.movementItemsIndexat[e.id_estil] = e.nom_estil;\r\n        })\r\n\r\n        this.preview.mediums = this.mediums.map((e) => {\r\n            return { id: e, text: this.mediumItemsIndexat[e] };\r\n        });\r\n        this.preview.movements = this.movements.map((e) => {\r\n            return { id: e, text: this.movementItemsIndexat[e] };\r\n        });\r\n\r\n        this.preview.tags = this.preview.tags.split(\", \").filter(e => e).map(e => { return { text: e } });\r\n\r\n        // Només servirà per la preview //\r\n        this.preview.user = this.main.currentUser;\r\n\r\n        this.openPreviewModal();\r\n    }\r\n    \r\n    /**\r\n     * Un cop s'ha comprovat que la preview s'executa la funcio per poder pujar la artwork al servidor\r\n     */\r\n    publicar() {\r\n        this.carregantBotoPublicar = true;\r\n        \r\n        const formData = new FormData();\r\n\r\n        this.preview.content.forEach((c, i) => {\r\n            formData.append(`content[${i}][type]`, c.type);\r\n            formData.append(`content[${i}][order]`, i);\r\n            formData.append(`content[${i}][text]`, \"\");\r\n            var file = new File([Utils.dataURLToBlob(c.blob.changingThisBreaksApplicationSecurity)], \"photo.png\");\r\n            formData.append(`content[${i}][file]`, file, \"photo.png\");\r\n        });\r\n\r\n        // TODO: No hauries d'estar llegint preview aqui MAI!!! preview es només per la preview!!!\r\n        // has d'enviar les dades directament des del formulari!!!!\r\n\r\n        formData.append(\"title\", this.preview.title);\r\n        formData.append(\"authorType\", this.preview.authorType);\r\n        formData.append(\"author\", this.preview.author);\r\n        formData.append(\"date\", JSON.stringify(this.acdcDatepicker.getObjData()));\r\n        formData.append(\"dimensions\", this.preview.dimensions);\r\n        formData.append(\"technique\", this.preview.technique);\r\n        formData.append(\"price\", this.preview.price);\r\n        formData.append(\"currency\", this.preview.currency);\r\n        formData.append(\"description\", this.preview.description);\r\n\r\n\r\n        //Llegir tots els mediums i movements que tenim a la base de dades i comprovar que el usuari ha escollit els que tenim a la base de dades\r\n\r\n        // this.preview.mediums.forEach((e) => {\r\n        //     if (e.id != -1)\r\n        //         formData.append(\"medium[]\", e.id);\r\n        //     else\r\n        //         formData.append(\"medium_other[]\", this.preview.otherMediums);\r\n        // });\r\n        // this.preview.movements.forEach((e) => {\r\n        //     if (e.id != -1)\r\n        //         formData.append(\"movement[]\", e.id);\r\n        //     else\r\n        //         formData.append(\"movement_other[]\", this.preview.otherMovements);\r\n        // });\r\n        // this.preview.tags.forEach((e) => { formData.append(\"tags[]\", e.text); });\r\n        // formData.append(\"major18\", this.preview.major18 ? \"1\" : \"0\");\r\n\r\n        Utils.showFormData(formData);\r\n\r\n        //Enviar dades del artwork al servidor\r\n\r\n        // this.main.ps.postFormData(\"/artwork/post\", formData,\r\n        //     async (data) => {\r\n        //         this.carregantBotoPublicar = false;\r\n        //         if (this.main.eh.hiHaError(data)) {\r\n        //             console.log(\"Resposta crear artwork\", data);\r\n                    \r\n        //             this.main.toastDanger(\"Couldn't create artwork\");\r\n        //             return;\r\n        //         }\r\n\r\n        //         console.log(\"El servidor ha donat un codi correcte\", data);\r\n\r\n        //         this.closePreviewModal();\r\n\r\n        //         this.main.toastSuccess(\"Artwork created successfully\");\r\n\r\n        //         await Utils.wait(0.1);\r\n        //         // this.main.goToPost(data.postId);\r\n        //     },\r\n        //     () => {\r\n        //         this.carregantBotoPublicar = false;\r\n        //         this.main.toastDanger(\"Couldn't create post\");\r\n        //     }\r\n        // );\r\n\r\n    }\r\n\r\n    getArtsitId(userId: string){\r\n        this.main.provider.getArtistIdByUserId(userId).then((data) => {\r\n            return data;\r\n        });\r\n    }\r\n\r\n\r\n}\r\n","import { NewArtworkComponent } from './artwork/new-artwork.component';\r\nimport { NewPostComponent } from './post/new-post.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nconst routes: Routes = [{\r\n    path: '',\r\n    children: [\r\n        {\r\n            path: '',\r\n            redirectTo: 'artwork'\r\n        },\r\n        {\r\n            path: 'artwork',\r\n            component: NewArtworkComponent\r\n        },\r\n        {\r\n            path: 'post',\r\n            component: NewPostComponent\r\n        },\r\n    ]\r\n}];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class NewRoutingModule { }\r\n","import { DragulaModule } from 'ng2-dragula';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../../../shared/shared.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { NewArtworkComponent } from './artwork/new-artwork.component';\r\nimport { NewPostComponent } from './post/new-post.component';\r\nimport { NewRoutingModule } from './new-routing.module';\r\nimport { ContentsOrdenablesComponent } from '../../components/_tools/contents-ordenables/contents-ordenables.component';\r\nimport { ModalModule } from 'ngb-modal';\r\n\r\n@NgModule({\r\n    declarations: [NewArtworkComponent, NewPostComponent, ContentsOrdenablesComponent],\r\n    imports: [\r\n        NewRoutingModule,\r\n        CommonModule,\r\n        SharedModule,\r\n        FormsModule,\r\n        NgSelectModule,\r\n        DragulaModule,\r\n        ModalModule\r\n    ]\r\n})\r\nexport class NewModule { }\r\n","<div class=\"content\">\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n\r\n            <div class=\"content-top row no-gutters\">\r\n                <div class=\"col-sm-3 col-12\"></div>\r\n                <div class=\"col-sm-6 col-12 order-2 order-sm-1 titol\" i18n=\"@@New post\">New post</div>\r\n                <button class=\"col-sm-3 col-12 order-1 order-sm-2 boto botoSecundari anarAArtwork\" (click)=\"main.goTo('new/artwork')\" i18n=\"@@Go to new artwork\">\r\n                    Go to new artwork <i class=\"fas fa-chevron-right\"></i></button>\r\n            </div>\r\n            \r\n            <form class=\"theme-form\" [formGroup]=\"form\">\r\n\r\n                <input class=\"form-camp inputFile\" type=\"file\" multiple (input)=\"addFiles()\" [disabled]=\"processingFiles\"\r\n                    accept=\".JPG,.PNG,.GIF,.MP4,.AVI,.MP3,.WAV,.OGG\"><!-- ,.PDF -->\r\n                \r\n                <div class=\"divContentsOrdenables clearfix\" [style.display]=\"contentsOrdenables.items.length ? 'block' : 'none'\">\r\n                    <p class=\"notaEnGris dragToOrder\" i18n=\"@@Drag to order\">Drag to order</p>\r\n                    <app-contents-ordenables #contentsOrdenables></app-contents-ordenables>\r\n                </div>\r\n\r\n                <p class=\"notaEnGris\" i18n=\"@@You can upload\">You can upload: photos (.JPG, .PNG, .GIF) and videos (.MP4, .AVI) </p><!-- and audio (.MP3, .WAV, .OGG) and text (.PDF) -->\r\n\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Description\">Description</label>\r\n                    <textarea class=\"form-camp col-sm-12 col-xl-9\" maxlength=\"3000\" formControlName=\"description\"></textarea>\r\n                </div>\r\n                <div class=\"form-grup row no-gutters\">\r\n                    <label class=\"col-form-label col-sm-12 col-xl-3\" i18n=\"@@Tags\">Tags</label>\r\n                    <input class=\"form-camp col-sm-12 col-xl-9\" type=\"text\" formControlName=\"tags\" (blur)=\"corregirTags()\">\r\n                </div>\r\n                <div class=\"form-grup\">\r\n                    <label class=\"d-block checkbox-label\" for=\"major18\" style=\"text-align:center;\">\r\n                        <input class=\"checkbox_animated\" id=\"major18\" type=\"checkbox\" formControlName=\"major18\" i18n=\"@@The content uploaded is only for 18\">The content uploaded is only for 18+\r\n                    </label>\r\n                </div>\r\n                \r\n                <div style=\"text-align:center;\">\r\n                    <input class=\"boto botoPrincipal botoGran\" type=\"button\" value=\"Save\" (click)=\"submit()\" [disabled]=\"!contentsOrdenables.items.length\">\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<modal id=\"previewModal\" #previewModal>\r\n    <modal-content>\r\n        <app-publicacio *ngIf=\"preview\" [p]=\"preview\" [preview]=\"true\"></app-publicacio>\r\n    </modal-content>\r\n    <modal-footer>\r\n        <div class=\"botons\">\r\n            <button class=\"boto botoPrincipal botoGran back\" (click)=\"closePreviewModal()\" i18n=\"@@Back\">Back</button>\r\n            <button class=\"boto botoPrincipal botoGran post\" (click)=\"publicar()\" [disabled]=\"carregantBotoPublicar\" i18n=\"@@Post\">Post</button>\r\n        </div>\r\n    </modal-footer>\r\n</modal>\r\n","import { MainService } from '../../../services/main.service';\r\nimport { Utils } from '../../../services/utils.service';\r\nimport * as $ from \"jquery\";\r\n\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { ModalManager } from 'ngb-modal';\r\n\r\n@Component({\r\n    selector: 'app-new-post',\r\n    templateUrl: './new-post.component.html',\r\n    styleUrls: ['./new-post.component.scss']\r\n})\r\nexport class NewPostComponent implements OnInit {\r\n\r\n    @ViewChild(\"contentsOrdenables\") contentsOrdenables;\r\n    @ViewChild(\"previewModal\") previewModal;\r\n    \r\n    public processingFiles = false;\r\n\r\n    public files = [];\r\n\r\n    public form: FormGroup;\r\n    public validate = false;\r\n\r\n    public preview;\r\n\r\n    public carregantBotoPublicar = false;\r\n    \r\n    public mostrarFileRequired = false;\r\n\r\n    constructor(\r\n        public main: MainService,\r\n        private fb: FormBuilder,\r\n        public domSanitizer: DomSanitizer,\r\n        private modalService: ModalManager,\r\n    ) {\r\n        main.newPage(this);\r\n        \r\n        this.form = this.fb.group({\r\n            inputFiles: [\"\"],// Posem aixo només per tenir l'alerta si esta buit //\r\n            description: [\"\"],\r\n            tags: [\"\"],\r\n            major18: [false],\r\n        });\r\n\r\n        // TEST\r\n        // this.form.controls.description.setValue(\"Descripció molt molt molt molt molt molt molt molt llarga\")\r\n        // this.form.controls.tags.setValue(\"covid,joke,landscape,photo\")\r\n    }\r\n\r\n    async ngOnInit() {\r\n    }\r\n    ngOnDestroy() {\r\n        this.closePreviewModal();\r\n        this.main.onDestroyPage();\r\n    }\r\n\r\n    async addFiles() {\r\n        this.processingFiles = true;\r\n        let itemsProcessed = 0;\r\n        let files = $(\".inputFile\")[0].files;\r\n        for (let i = 0; i < files.length; i++) {\r\n            let file = files[i];\r\n            if (file) {\r\n                file.blob = this.domSanitizer.bypassSecurityTrustUrl(<string>await Utils.blobToBase64(file));\r\n                this.contentsOrdenables.items.push(file);\r\n                itemsProcessed++;\r\n                if (itemsProcessed == files.length) {\r\n                    $(\".inputFile\").val(\"\");\r\n                    this.processingFiles = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    corregirTags() {\r\n        let tags = this.form.controls.tags.value;\r\n        tags = tags\r\n            .split(/[\\s,]+/)\r\n            .map(e => Utils.parseTag(e))\r\n            .filter(e => e.length)\r\n            .join(\", \");\r\n        this.form.controls.tags.setValue(tags);\r\n    }\r\n    \r\n    async openPreviewModal() {\r\n        this.modalService.open(this.previewModal, {\r\n            size: \"xl\",\r\n            modalClass: \"previewModal\",\r\n            backdropClass: \"modal-backdrop\",\r\n            hideCloseButton: true,\r\n            centered: true,\r\n            backdrop: true,\r\n            animation: true,\r\n            keyboard: true,\r\n            closeOnOutsideClick: false,\r\n        });\r\n    }\r\n    async closePreviewModal() {\r\n        try { this.modalService.close(this.previewModal); } catch { };\r\n        await Utils.wait(0.5);\r\n        this.preview = null;\r\n    }\r\n    \r\n\r\n    public submit() {\r\n        this.form.markAllAsTouched();\r\n\r\n        this.mostrarFileRequired = !Utils.objPle(this.files);\r\n\r\n        this.corregirTags();\r\n\r\n        if (!Utils.objPle(this.files) || !this.form.valid) {\r\n            console.log(\"--- INVÀLID ---\");\r\n            console.log(this.form);\r\n            return;\r\n        }\r\n        this.preview = {\r\n            content: this.contentsOrdenables.getItemsOrdered(),\r\n            description: this.form.controls.description.value,\r\n            tags: this.form.controls.tags.value,\r\n            major18: this.form.controls.major18.value,\r\n            esObra: false,\r\n        };\r\n        \r\n        console.log(this.form);\r\n    \r\n        console.log(\"--- VÀLID ---\");\r\n\r\n        this.preview.tags = this.preview.tags.split(\", \").filter(e => e).map(e => { return { text: e } });\r\n\r\n        // Només servirà per la preview //\r\n        this.preview[\"user\"] = this.main.currentUser;\r\n        \r\n        this.openPreviewModal();\r\n    }\r\n    \r\n    publicar() {\r\n        this.carregantBotoPublicar = true;\r\n\r\n        const formData = new FormData();\r\n\r\n        this.preview.content.forEach((c, i) => {\r\n            formData.append(`content[${i}][type]`, c.type);\r\n            formData.append(`content[${i}][order]`, i);\r\n            formData.append(`content[${i}][text]`, \"\");\r\n            var file = new File([Utils.dataURLToBlob(c.blob.changingThisBreaksApplicationSecurity)], \"photo.png\");\r\n            formData.append(`content[${i}][file]`, file, \"photo.png\");\r\n        });\r\n\r\n        formData.append(\"text_post\", this.preview.description);\r\n        this.preview.tags.forEach((e) => { formData.append(\"tags[]\", e.text); });\r\n        formData.append(\"major18\", this.preview.major18 ? \"1\" : \"0\");\r\n\r\n        Utils.showFormData(formData);\r\n\r\n        this.main.ps.postFormData(\"/post/add\", formData,\r\n            async (data) => {\r\n                this.carregantBotoPublicar = false;\r\n                if (this.main.eh.hiHaError(data)) {\r\n                    console.log(\"Resposta crear post\", data);\r\n                    this.main.toastDanger(\"Couldn't create post\");\r\n                    return;\r\n                }\r\n\r\n                console.log(\"El servidor ha donat un codi correcte\", data);\r\n\r\n                this.closePreviewModal();\r\n\r\n                this.main.toastSuccess(\"Post created successfully\");\r\n\r\n                await Utils.wait(0.1);\r\n                // this.main.goToPost(data.lastId);\r\n            },\r\n            () => {\r\n                this.carregantBotoPublicar = false;\r\n                this.main.toastDanger(\"Couldn't create post\");\r\n            }\r\n        );\r\n\r\n    }\r\n}\r\n","import { ErrorObject } from '../../classes/errorObject';\r\nimport { Checks } from './checks';\r\nimport { PostDTO } from './PostDTO';\r\n\r\nexport class ArtworkDTO {\r\n\r\n    id: string;\r\n    postId: string;\r\n    post: any[];\r\n    others: any;\r\n    technique: any;\r\n    dimensions: any;\r\n    material: any;\r\n    perservation: any;\r\n    location: any;\r\n    price: any;\r\n    afterChrist: any;\r\n    artistTypeId: string;\r\n    dateFormatTypeId: string ;\r\n    languageId: string;\r\n    isVisible: boolean;\r\n\r\n\r\n    errors: ErrorObject[] = [];\r\n    postDTO: PostDTO;\r\n\r\n    constructor(data){\r\n\r\n        this.id = data.id;\r\n        this.postId = data.postId;\r\n        this.post = data.post;\r\n        this.others = data.others;\r\n        this.technique = data.technique;\r\n        this.dimensions = data.dimensions;\r\n        this.material = data.material;\r\n        this.perservation = data.perservation;\r\n        this.location = data.location;\r\n        this.price = data.price;\r\n        this.afterChrist = data.afterChrist;\r\n        this.artistTypeId = data.artistTypeId;\r\n        this.dateFormatTypeId = data.dateFormatTypeId;\r\n        this.languageId = data.languageId;\r\n        this.isVisible = data.isVisible;\r\n\r\n    }\r\n\r\n    check(){\r\n\r\n        if(this.id && !Checks.checkID(this.id)){\r\n            this.errors.push(new ErrorObject(\"id\", \"id no valido\"));\r\n        }\r\n\r\n        if(this.postId && !Checks.checkID(this.postId)){\r\n            this.errors.push(new ErrorObject(\"postId\", \"postId no valido\"));\r\n        }\r\n\r\n        if(this.post){\r\n            if(new PostDTO(this.post).check().length > 0)\r\n                this.errors.push(new ErrorObject(\"post Array\", \"Error dins del array post\"));\r\n        }\r\n\r\n        if(this.others && this.others.length > ArtworkDTO.OthersLength){\r\n            this.errors.push(new ErrorObject(\"others\", \"others no valido\"));\r\n        }\r\n\r\n        if(this.technique && this.technique.length > ArtworkDTO.TechniqueLength){\r\n            this.errors.push(new ErrorObject(\"technique\", \"technique no valido\"));\r\n        }\r\n\r\n        if(this.dimensions && this.dimensions.length > ArtworkDTO.DimensionsLength){\r\n            this.errors.push(new ErrorObject(\"dimensions\", \"dimensions no valido\"));\r\n        }\r\n\r\n        if(this.material && this.material.length > ArtworkDTO.MaterialLength){\r\n            this.errors.push(new ErrorObject(\"material\", \"material no valido\"));\r\n        }\r\n\r\n        if(this.perservation && this.perservation.length > ArtworkDTO.PerservationLength){\r\n            this.errors.push(new ErrorObject(\"perservation\", \"perservation no valido\"));\r\n        }\r\n\r\n        if(this.location && this.location.length > ArtworkDTO.LocationLength){\r\n            this.errors.push(new ErrorObject(\"location\", \"location no valido\"));\r\n        }\r\n\r\n        //Per ara no hi es poden posar preus a les artworks\r\n\r\n        // if(this.price && !Checks.checkPrice(this.price)){\r\n        //     this.errors.push(new ErrorObject(\"price\", \"price no valido\"));\r\n        // }\r\n\r\n        // if(this.afterChrist && !Checks.checkDate(this.afterChrist)){\r\n        //     this.errors.push(new ErrorObject(\"afterChrist\", \"afterChrist no valido\"));\r\n        // }\r\n\r\n        if(this.artistTypeId && !Checks.checkID(this.artistTypeId)){\r\n            this.errors.push(new ErrorObject(\"artistTypeId\", \"artistTypeId no valido\"));\r\n        }\r\n\r\n        if(this.dateFormatTypeId && !Checks.checkID(this.dateFormatTypeId)){\r\n            this.errors.push(new ErrorObject(\"dateFormatTypeId\", \"dateFormatTypeId no valido\"));\r\n        }\r\n\r\n        if(this.languageId && !Checks.checkID(this.languageId)){\r\n            this.errors.push(new ErrorObject(\"languageId\", \"languageId no valido\"));\r\n        }\r\n\r\n        return this.errors;\r\n\r\n    }\r\n\r\n    static get DateLength() {\r\n        return 350;\r\n    }\r\n    static get OthersLength() {\r\n        return 350;\r\n    }\r\n    static get TechniqueLength() {\r\n        return 150;\r\n    }\r\n    static get DimensionsLength() {\r\n        return 100;\r\n    }\r\n    static get MaterialLength() {\r\n        return 150;\r\n    }\r\n    static get PerservationLength() {\r\n        return 150;\r\n    }\r\n    static get LocationLength() {\r\n        return 350;\r\n    }\r\n\r\n\r\n}","import { sha512 } from 'js-sha512'\r\nimport {ProviderService} from '../../services/provider.service';;\r\n\r\nexport class Checks {\r\n\r\n\r\n    static MIN_PASSWORD_LENGTH: Number = 6;\r\n    static MAX_PASSWORD_LENGTH: Number = 100;\r\n\r\n    static checkCredentials(email, password){\r\n        return this.checkEmail(email) && this.checkPassword(password);\r\n    }\r\n\r\n    static checkBoolean(value){\r\n        return value == true || value == false;\r\n    }\r\n\r\n    static checkEmail(email){\r\n        return String(email)\r\n        .toLowerCase()\r\n        .match(\r\n            /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/ \r\n        );\r\n    }\r\n\r\n    static checkPassword(password){\r\n        return password && password.length >= this.MIN_PASSWORD_LENGTH && password.length <= this.MAX_PASSWORD_LENGTH;\r\n    }\r\n\r\n    static checkName(name){\r\n        return String(name).match(/^[a-zA-Z0-9_]{3,50}$/);\r\n    }\r\n\r\n    static checkNickname(nickname){\r\n        nickname = String(nickname).trim();\r\n        return nickname.length>0;\r\n    }\r\n\r\n    static checkData(data){\r\n        let date = new Date(data);\r\n        return date instanceof Date && !isNaN(date.getTime());\r\n    }\r\n\r\n    static checkPhone(phone){\r\n        return String(phone).match(/^\\d{9}$/);\r\n    }\r\n\r\n    static checkBase64(base64){\r\n        return String(base64).match(/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/);\r\n    }\r\n\r\n    static checkID(id){\r\n        const regexExp = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi;\r\n        return regexExp.test(id);\r\n    }\r\n\r\n    static EncryptPassword(password){\r\n        return sha512(password);\r\n    }\r\n\r\n}","import { ErrorObject} from \"../../classes/errorObject\";\r\nimport {Checks} from \"./checks\";\r\nimport { Random } from \"./Random\";\r\n\r\nexport class FileDTO {\r\n\r\n        file: any;\r\n        tokenRecovery: string;\r\n\r\n\r\n     constructor(data){\r\n        this.file = data.file;\r\n        this.tokenRecovery = data.tokenRecovery;\r\n        if(!this.tokenRecovery){\r\n            this.generateToken();\r\n        }\r\n     }\r\n     \r\n    generateToken(){\r\n        this.tokenRecovery = Random.String(FileDTO.LengthTokenRecovery);\r\n    }\r\n\r\n    static Checks(files){\r\n        let errors = [];\r\n        for(let i=0; i<files.length; i++){\r\n            errors.concat(FileDTO.Checks(files[i]));\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    static Check(file){\r\n        let errors: ErrorObject[] = [];\r\n        if(file) {\r\n\r\n            if(!file.dataBase64){\r\n                errors.push(new ErrorObject(\"dataBase64\", \"dataBase64 no valido\"));\r\n            }\r\n\r\n            if(file.dataBase64 && !Checks.checkBase64(file.dataBase64)){\r\n                errors.push(new ErrorObject(\"dataBase64\", \"dataBase64 no valido\"));\r\n            }\r\n\r\n            if(!file.fileName || file.fileName.length == 0){\r\n                file.fileName=\"noName\";\r\n            }\r\n\r\n            if(!file.fileExt || file.fileExt.length == 0){\r\n                errors.push(new ErrorObject(\"fileExt\", \"falta la extensió de l'arxiu\"));\r\n            }\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    static get LengthTokenRecovery() {\r\n        return 50;\r\n    }\r\n\r\n}","import {ErrorObject} from '../../classes/errorObject';\r\nimport {Checks} from './Checks';\r\nimport { FileDTO } from './FileDTO';\r\nimport { JsonHelper } from './JsonHelper';\r\n\r\nexport class PostDTO {\r\n\r\n    id: string;\r\n    languageId: string;\r\n    title: string;\r\n    description: string;\r\n    isDraft: boolean;\r\n    artworkRelatedId: string;\r\n    patreonMinLevelId: string;\r\n    fileIds: string[]; \r\n    files: string;\r\n    \r\n    jsonHelper: JsonHelper;\r\n    \r\n    errors: ErrorObject[] = [];\r\n\r\n    constructor(obj){\r\n\r\n        this.id = obj.id;\r\n        this.languageId = obj.languageId;\r\n        this.title = obj.title;\r\n        this.description = obj.description;\r\n        this.isDraft = obj.isDraft;\r\n        this.artworkRelatedId = obj.artworkRelatedId;\r\n        this.patreonMinLevelId = obj.patreonMinLevelId;\r\n        this.fileIds = obj.fileIds;\r\n        this.files = obj.files;\r\n\r\n    }\r\n\r\n    check(): ErrorObject[] {\r\n\r\n        if (this.id && !Checks.checkID(this.id))\r\n            this.errors.push(new ErrorObject(\"id\",\"ID no és valid\"));\r\n        \r\n        if (this.languageId && !Checks.checkID(this.languageId))\r\n            this.errors.push(new ErrorObject(\"LanguageID\",\"languageId no és valid\"));\r\n        \r\n        if (this.patreonMinLevelId && !Checks.checkID(this.patreonMinLevelId))\r\n            this.errors.push(new ErrorObject(\"patreonMinLevelID\", \"patreonMinLevelId no és valid\"));\r\n        \r\n        if (this.artworkRelatedId && !Checks.checkID(this.artworkRelatedId))\r\n            this.errors.push(new ErrorObject(\"ArtworkRelatedID\", \"ArtworkRelatedId no és valid\"));\r\n\r\n        if(this.title && this.jsonHelper.Escape(this.title).length>PostDTO.MAX_TITLE_LENGTH)\r\n            this.errors.push(new ErrorObject(\"Title\", \"Títol massa llarg\"));\r\n        if(this.description && this.jsonHelper.Escape(this.description).length>PostDTO.MAX_DESCRIPTION_LENGTH)\r\n            this.errors.push(new ErrorObject(\"Description\", \"Descripció massa llarga\")); \r\n        if(!this.fileIds && !this.files)\r\n            this.errors.push(new ErrorObject(\"fileIDs\", \"No hi ha cap fitxer\"));\r\n        if(this.fileIds && this.fileIds.length==0 && (!this.files||this.files.length == 0))\r\n            this.errors.push(new ErrorObject(\"fileIDs\", \"No hi ha cap fitxer\"));\r\n        if(this.fileIds && this.fileIds.filter(f=>!Checks.checkID(f)).length>0)\r\n            this.errors.push(new ErrorObject(\"fileIDs\", \"Algun fitxer no és valid, només UUIDs!\"));\r\n        if(this.files){\r\n            this.errors.concat(FileDTO.Checks(this.files));\r\n           \r\n        } \r\n\r\n        return this.errors;\r\n\r\n    }\r\n\r\n    static get MAX_TITLE_LENGTH() {\r\n        return 150;\r\n    }\r\n    static get MAX_DESCRIPTION_LENGTH() {\r\n        return 1050;\r\n    }\r\n\r\n}","\r\nconst CHAR_LIST = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\nexport class Random {\r\n\r\n    static String(length){\r\n        let result = '';\r\n        let characters = '';\r\n        let charactersLength = characters.length;\r\n        for(let i = 0; i < length; i++){\r\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static CheckStringCharList(str){\r\n        let isOk = true;\r\n        for(let i=0; isOk && i<str.length; i++){\r\n            isOk = CHAR_LIST.indexOf(str.charAt(i))>=0;\r\n        }\r\n        return isOk;\r\n    }\r\n    static Integer(maxExcluded){\r\n        return Math.floor(Math.random() * maxExcluded);\r\n    }\r\n    \r\n    static Position(arr){\r\n        return arr != undefined ? Random.Integer(arr.length) : undefined;\r\n    }\r\n\r\n    static Value(arr, filterMethod){\r\n        let pos;\r\n        if(arr){\r\n            do {\r\n                pos = Random.Position(arr);\r\n            } while (filterMethod && !filterMethod(arr[pos]));\r\n        }\r\n        return arr != undefined ? Random.Integer(arr.length) : undefined;\r\n    }\r\n\r\n    static async ValueAsync(arr, filterMethod){\r\n        return Random.Value(await arr, filterMethod);\r\n    }\r\n    \r\n\r\n}"]}