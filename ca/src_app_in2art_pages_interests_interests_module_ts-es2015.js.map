{"version":3,"sources":["src/app/in2art/pages/interests/interests-medium/interests-medium.component.ts","src/app/in2art/pages/interests/interests-medium/interests-medium.component.html","src/app/in2art/pages/interests/interests-movement/interests-movement.component.ts","src/app/in2art/pages/interests/interests-movement/interests-movement.component.html","src/app/in2art/pages/interests/interests-routing.module.ts","src/app/in2art/pages/interests/interests.module.ts"],"names":[],"mappings":"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","file":"src_app_in2art_pages_interests_interests_module_ts-es2015.js","sourcesContent":["import { Utils } from 'src/app/in2art/services/utils.service';\r\nimport { MainService } from './../../../services/main.service';\r\nimport * as $ from \"jquery\";\r\n\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-interests-medium',\r\n    templateUrl: './interests-medium.component.html',\r\n    styleUrls: ['./interests-medium.component.scss']\r\n})\r\nexport class InterestsMediumComponent implements OnInit {\r\n\r\n    mediumsTotals = [];\r\n\r\n    public interessosMin = 5;\r\n    public mediums;\r\n    public loadingMedium = true;\r\n    public readonly fotoNoImage = \"assets/in2art/imatges/noImageSmall.png\";\r\n\r\n    constructor(public main: MainService) {\r\n        main.newPage(this);\r\n    }\r\n\r\n    async ngOnInit() {\r\n        let data = await this.getUserMediums();\r\n       \r\n        if (!this.main.params) this.main.params = [];\r\n        if (!this.main.params.mediums) this.main.params.mediums = [];\r\n        if (!this.main.params.movements) this.main.params.movements = [];\r\n\r\n\r\n        let mediums: any = await this.main.provider.getMediums();\r\n        for (const key in mediums) {\r\n            if (mediums[key].id_categoria && mediums[key].nom_categoria && mediums[key].id_categoria != -1) {\r\n                this.mediumsTotals.push({\r\n                    id: mediums[key].id_categoria,\r\n                    name: mediums[key].nom_categoria,\r\n                    img: `assets/in2art/imatges/mediums/${mediums[key].nom_categoria.replaceAll('/', '-').toLowerCase()}.jpg`,\r\n                    selected: Utils.arrayConte(this.main.params?.mediums, mediums[key].id_categoria)\r\n                });\r\n            }\r\n            if (data?.includes(mediums[key].id_categoria) && !this.main.params.mediums.length) this.mediumsTotals[key].selected = true;\r\n        }\r\n        this.loadingMedium = false;\r\n    }\r\n    \r\n    ngOnDestroy() {\r\n        this.main.params.mediums = this.mediums;\r\n        this.main.onDestroyPage();\r\n    }\r\n    \r\n    public submit() {\r\n        //Comprovar si seleccionat almenys 1\r\n        this.mediums = this.mediumsTotals.filter(e => e.selected).map(e => e.id);\r\n        console.log(this.mediums);\r\n        \r\n        \r\n        if (this.mediums.length < this.interessosMin) {\r\n            $(\".pleaseSelect1\").slideDown(200);\r\n            return;\r\n        }\r\n\r\n        // this.main.setParams(this.mediums);\r\n        // Anar a 2a pantalla interests //\r\n        this.main.goTo(\"/interests/movement\");\r\n    }\r\n    \r\n    async getUserMediums() {\r\n        let userMediums = [];\r\n        let mediumsUser: any = await this.main.provider.getMediumsByUserId(this.main.currentUser.id);    \r\n        mediumsUser.forEach(element => userMediums.push(element.id_categoria));\r\n        return userMediums;\r\n    }\r\n}\r\n","<div class=\"content\">\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            <h2 class=\"title\" i18n=\"@@Select your interests\">Select your interests</h2>\r\n            <h3 class=\"subtitle\" i18n=\"@@Medium\">Medium</h3>\r\n            <div class=\"mediums clearfix\">\r\n                <div *ngFor=\"let m of mediumsTotals\" class=\"medium\" [attr.data-selected]=\"m.selected\" [name]=\"m.name\" [attr.data-id]=\"m.id\" (click)=\"m.selected=!m.selected\">\r\n                    <img [src]=\"m.img\" alt=\"Image of {{m.name}}\" (error)=\"m.img = fotoNoImage\">\r\n                    <p class=\"text capitalizeFirst\">{{m.name}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"pleaseSelect1\" style=\"display:none;\" i18n=\"@@Please select interests minimum\">Please select {{interessosMin}} interests minimum</div>\r\n            <div *ngIf=\"loadingMedium\">\r\n                <app-loading></app-loading>\r\n            </div>\r\n            <div class=\"divSave\">\r\n                <button class=\"boto botoPrincipal botoPetit\" (click)=\"submit()\" i18n=\"@@Next\">Next</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Utils } from 'src/app/in2art/services/utils.service';\r\nimport { MainService } from './../../../services/main.service';\r\nimport * as $ from \"jquery\";\r\n\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-interests-movement',\r\n    templateUrl: './interests-movement.component.html',\r\n    styleUrls: ['./interests-movement.component.scss']\r\n})\r\nexport class InterestsMovementComponent implements OnInit {\r\n\r\n    movementsTotals = [];\r\n\r\n    public interessosMin = 5;\r\n\r\n    public mediums;\r\n    public movements;\r\n    public disabledButton = false;\r\n    public loadingMovment = true;\r\n    public readonly fotoNoImage = \"assets/in2art/imatges/noImageSmall.png\";\r\n\r\n    constructor(public main: MainService) {\r\n        main.newPage(this);\r\n    }\r\n\r\n    async ngOnInit() {\r\n        let data = await this.getUserMovements();\r\n        // Pillem el valor de la pagina anterior //\r\n        // Que cardes, carallot? torna enrere! //\r\n        if (!this.main.params?.mediums || !this.main.params.mediums.length) this.main.goTo(\"/interests/medium\");\r\n\r\n        let movements: any = await this.main.provider.getMovements();\r\n        for (const key in movements) {\r\n            if (movements[key].id_estil && movements[key].nom_estil && movements[key].id_estil != -1) {\r\n                this.movementsTotals.push({\r\n                    id: movements[key].id_estil,\r\n                    name: movements[key].nom_estil,\r\n                    img: `assets/in2art/imatges/movements/${movements[key].nom_estil.replaceAll('/', '-').toLowerCase()}.jpg`,\r\n                    selected: Utils.arrayConte(this.main.params?.movements, movements[key].id_estil)\r\n                });\r\n            }\r\n            if (data?.includes(movements[key].id_estil) && !this.main.params.movements.length) this.movementsTotals[key].selected = true;\r\n        }\r\n        this.loadingMovment = false;\r\n    }\r\n    ngOnDestroy() {\r\n        if (!this.main.params) this.main.params = [];\r\n        this.main.params.movements = this.movementsTotals.filter(e => e.selected).map(e => e.id);\r\n        this.main.onDestroyPage();\r\n    }\r\n\r\n    public back() {\r\n        \r\n        this.main.goTo('/interests/medium');\r\n        // I si estaves tirant enrere amb les fletxes del navegador, doncs mira, mala llet, tu //\r\n    }\r\n\r\n    public async submit() {\r\n        //Comprovar si seleccionat almenys 1\r\n        this.movements = this.movementsTotals.filter(e => e.selected).map(e => e.id);\r\n        if (this.movements.length < this.interessosMin) {\r\n            $(\".pleaseSelect1\").slideDown(200);\r\n            return;\r\n        }\r\n        // Enviar peticio :P\r\n        this.disabledButton = true;\r\n        let resMed = await this.main.provider.postMedium(this.main.params.mediums);\r\n        let resMov = await this.main.provider.postMovment(this.main.params.movements);\r\n        this.disabledButton = false;\r\n        if (this.main.eh.hiHaError(resMed)) { this.main.toastDanger(\"Error saving mediums\"); return; }\r\n        if (this.main.eh.hiHaError(resMov)) { this.main.toastDanger(\"Error saving movements\"); return; }\r\n\r\n        this.main.toastSuccess(\"Interests saved successfully\");\r\n\r\n        delete this.main.params;\r\n\r\n        //Anar a pantalla correu enviat //\r\n        // this.main.goTo(\"/profile\");\r\n        this.main.goTo(\"/\");\r\n    }\r\n\r\n    async getUserMovements() {\r\n        let userMovements = [];\r\n        let movementsUser: any = await this.main.provider.getMovementsByUserId(this.main.currentUser.id);    \r\n        movementsUser.forEach(element => userMovements.push(element.id_estil));\r\n        return userMovements;\r\n    }\r\n    \r\n}\r\n","<div class=\"content\">\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            <h2 class=\"title\" i18n=\"@@Select your interests\">Select your interests</h2>\r\n            <h3 class=\"subtitle\" i18n=\"@@Movement\">Movement</h3>\r\n            <div class=\"movements clearfix\">\r\n                <div *ngFor=\"let m of movementsTotals\" class=\"movement\" [attr.data-selected]=\"m.selected\" [name]=\"m.name\" [attr.data-id]=\"m.id\" (click)=\"m.selected=!m.selected\">\r\n                    <img [src]=\"m.img\" alt=\"Image of {{m.name}}\" (error)=\"m.img = fotoNoImage\">\r\n                    <p class=\"text capitalizeFirst\">{{m.name}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"pleaseSelect1\" style=\"display:none;\" i18n=\"@@Please select interests minimum\">Please select {{interessosMin}} interests minimum</div>\r\n            <div *ngIf=\"loadingMovment\">\r\n                <app-loading></app-loading>\r\n            </div>\r\n            <div class=\"divSave\">\r\n                <button class=\"boto botoPrincipal botoPetit botoText\" (click)=\"back()\">\r\n                    <i class=\"fas fa-chevron-left mr-1\"></i><ng-container i18n=\"@@Back\">Back</ng-container></button>\r\n                <button class=\"boto botoPrincipal botoPetit\" [disabled]=\"this.disabledButton\" (click)=\"submit()\" i18n=\"@@Next\">Next</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { InterestsMediumComponent } from './interests-medium/interests-medium.component';\r\nimport { InterestsMovementComponent } from './interests-movement/interests-movement.component';\r\n\r\nconst routes: Routes = [{\r\n    path: '',\r\n    children: [\r\n        {\r\n            path: 'medium',\r\n            component: InterestsMediumComponent\r\n        },\r\n        {\r\n            path: 'movement',\r\n            component: InterestsMovementComponent\r\n        },\r\n        {\r\n            path: '',\r\n            pathMatch: 'full',\r\n            redirectTo: '/interests/medium'\r\n        },\r\n    ]\r\n}];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class InterestsRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../../../shared/shared.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\nimport { InterestsMediumComponent } from './interests-medium/interests-medium.component';\r\nimport { InterestsMovementComponent } from './interests-movement/interests-movement.component';\r\nimport { InterestsRoutingModule } from './interests-routing.module';\r\nimport { ImageCropperModule } from 'ngx-image-cropper';\r\nimport { ModalModule } from 'ngb-modal';\r\n\r\n@NgModule({\r\n    declarations: [InterestsMediumComponent, InterestsMovementComponent],\r\n    imports: [\r\n        InterestsRoutingModule,\r\n        CommonModule,\r\n        SharedModule,\r\n        FormsModule,\r\n        NgSelectModule,\r\n        ImageCropperModule,\r\n        ModalModule,\r\n    ]\r\n})\r\nexport class InterestsModule { }\r\n"],"sourceRoot":"webpack:///"}