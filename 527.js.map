{"version":3,"file":"527.js","mappings":"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","sources":["./src/app/pages/set-photo/components/set-photo.component.ts","./src/app/pages/set-photo/components/set-photo.component.html","./src/app/pages/set-photo/set-photo-routing.module.ts","./src/app/pages/set-photo/set-photo.module.ts"],"sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { lastValueFrom, Observable } from 'rxjs';\nimport { FileSelectEvent, FileUpload } from 'primeng/fileupload';\nimport { Store } from '@ngrx/store';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageService } from 'primeng/api';\n\nimport { generateImagePath } from '@utils/generate-image-path';\nimport { AppStateInterface } from '@store/app/app-state.interface';\nimport { updateUserImageAction } from '@store/auth/auth.actions';\nimport {\n  selectCurrentUserId,\n  selectCurrentUserNickname,\n  selectCurrentUserPictureId,\n  selectIsLoadingAuth,\n} from '@store/auth/auth.selectors';\nimport { URLS } from '@enums/urls';\n\n@Component({\n  selector: 'app-set-photo',\n  templateUrl: 'set-photo.component.html',\n  styleUrls: ['set-photo.component.scss'],\n})\nexport class SetPhotoComponent {\n  @ViewChild('fileUpload') fileUpload!: FileUpload;\n  protected readonly URLS = URLS;\n  pictureId$: Observable<string | null> = this.store.select(selectCurrentUserPictureId);\n  userId$: Observable<string | null> = this.store.select(selectCurrentUserId);\n  userNickname$: Observable<string | null> = this.store.select(selectCurrentUserNickname);\n\n  isLoading$: Observable<boolean> = this.store.select(selectIsLoadingAuth);\n  imagePaths: string[] = generateImagePath(8, 'assets/images/welcome-photo/photo-profile', 'webp');\n  selectedPath: string | null = null;\n  selectedFile: string | null = null;\n  isRefreshed: boolean = false;\n\n  constructor(\n    private store: Store<AppStateInterface>,\n    private http: HttpClient,\n    private toast: MessageService,\n    private translate: TranslateService,\n  ) {}\n\n  onImageClick(imagePath: string): void {\n    this.selectedPath = imagePath;\n  }\n\n  async confirm(): Promise<void> {\n    try {\n      if (this.selectedPath && !this.selectedFile) {\n        const res = await lastValueFrom(this.http.get(this.selectedPath, { responseType: 'blob' }));\n        const base64String = await this.readFileAsBase64(res as File);\n        this.store.dispatch(updateUserImageAction({ photo: { dataBase64: base64String, fileExt: 'webp' } }));\n      } else if (!this.selectedPath && this.selectedFile) {\n        this.store.dispatch(updateUserImageAction({ photo: { dataBase64: this.selectedFile, fileExt: 'png' } }));\n      }\n    } catch (error) {\n      console.error('Error during conformation', error);\n    }\n  }\n\n  refresh() {\n    this.onCancelHandler();\n    this.isRefreshed = true;\n    setTimeout(() => {\n      this.isRefreshed = false;\n      this.imagePaths = generateImagePath(8, 'assets/images/welcome-photo/photo-profile', 'webp');\n    }, 1000);\n  }\n\n  onCancelHandler() {\n    this.fileUpload.clear();\n    this.selectedPath = null;\n    this.selectedFile = null;\n  }\n\n  async onSelectHandler(event: FileSelectEvent): Promise<void> {\n    this.fileUpload.msgs = []; // clear messages to avoid the appearance of an error window whose styles cannot be changed\n    if (event.files.length > 0) {\n      const file = event.files[0];\n      if (!file.type.startsWith('image/')) {\n        this.selectedFile = null;\n        this.showErrorMessage('ERROR.WRONG_TYPE');\n      } else {\n        this.selectedFile = await this.readFileAsBase64(file);\n        this.selectedPath = null;\n      }\n    }\n  }\n\n  private async readFileAsBase64(file: File): Promise<string> {\n    return new Promise<string>((resolve, reject) => {\n      const fileReader = new FileReader();\n      fileReader.onload = () => {\n        const base64String = fileReader.result as string;\n        resolve(base64String);\n      };\n      fileReader.onerror = (error) => {\n        reject(error);\n      };\n      fileReader.readAsDataURL(file);\n    });\n  }\n\n  private showErrorMessage(key: string): void {\n    this.toast.add({\n      severity: 'error',\n      summary: this.translate.instant('ERROR.TITLE'),\n      detail: this.translate.instant(key),\n    });\n  }\n}\n","<app-container [width]=\"700\" [isLoading]=\"isLoading$ | async\">\n  <div class=\"flex flex-column gap-5 align-items-center justify-content-center\">\n    <div class=\"text-center\">\n      <h2 class=\"text-3xl mb-3 font-bold\">\n        {{ 'SET_PHOTO_PAGE.TITLE_1' | translate }} <span class=\"last-word\">avatar</span> {{ 'SET_PHOTO_PAGE.TITLE_2' | translate }}.\n      </h2>\n      <span class=\"text-xl font-bold\">{{ 'SET_PHOTO_PAGE.CONTENT' | translate }}</span>\n    </div>\n    <div class=\"photos\" *ngIf=\"selectedFile === null\">\n      <button\n        class=\"photo-button flex align-items-center m-0 p-0\"\n        (click)=\"onImageClick(path)\"\n        *ngFor=\"let path of imagePaths.slice(0, 4)\"\n        [ngClass]=\"{ 'select-photo': selectedPath === path }\"\n      >\n        <img [src]=\"path\" alt=\"Profile photo\" width=\"180\" height=\"180\" />\n      </button>\n      <div class=\"current-user-wrapper flex align-items-center justify-content-center m-0 p-0\">\n        <div class=\"current-user-inner\">\n          <app-image\n            [width]=\"180\"\n            [height]=\"180\"\n            [folder]=\"'UserPictures'\"\n            defaultImageUrl=\"assets/videos/noUserVid.mp4\"\n            [idPicture]=\"pictureId$ | async\"\n            [userId]=\"userId$ | async\"\n          ></app-image>\n        </div>\n      </div>\n      <button\n        class=\"photo-button flex align-items-center m-0 p-0\"\n        (click)=\"onImageClick(path)\"\n        *ngFor=\"let path of imagePaths.slice(4, 8)\"\n        [ngClass]=\"{ 'select-photo': selectedPath === path }\"\n      >\n        <img [src]=\"path\" alt=\"Profile photo\" width=\"180\" height=\"180\" />\n      </button>\n    </div>\n    <img\n      *ngIf=\"selectedFile\"\n      class=\"uploaded-image m-0 p-0 flex align-items-center\"\n      [src]=\"selectedFile\"\n      alt=\"Uploaded Image\"\n      width=\"180\"\n      height=\"180\"\n    />\n    <div class=\"flex flex-column md:flex-row gap-3 pt-2 w-full flex-wrap\">\n      <ng-container *ngIf=\"!selectedFile\">\n        <button [loading]=\"isRefreshed\" (click)=\"refresh()\" icon=\"pi pi-refresh\" pButton pRipple></button>\n      </ng-container>\n\n      <p-fileUpload\n        #fileUpload\n        class=\"w-full md:w-auto flex-grow-1\"\n        [fileLimit]=\"1\"\n        [mode]=\"'basic'\"\n        (onSelect)=\"onSelectHandler($event)\"\n        [chooseLabel]=\"'BTN.UPLOAD' | translate\"\n        chooseIcon=\"pi-upload\"\n        name=\"chooseImage\"\n        accept=\"image/*\"\n        [maxFileSize]=\"1000000\"\n        [ngClass]=\"{ hidden: selectedFile !== null }\"\n      >\n      </p-fileUpload>\n\n      <button\n        (click)=\"confirm()\"\n        pButton\n        pRipple\n        icon=\"pi pi-check\"\n        class=\"w-full md:w-auto flex-grow-1\"\n        [label]=\"'BTN.CONFIRM' | translate\"\n        [disabled]=\"!selectedFile && !selectedPath\"\n      ></button>\n\n      <ng-container *ngIf=\"selectedFile\">\n        <button\n          class=\"w-full md:w-auto flex-grow-1\"\n          (click)=\"onCancelHandler()\"\n          pButton\n          pRipple\n          icon=\"pi pi-times\"\n          [label]=\"'BTN.CANCEL' | translate\"\n        ></button>\n      </ng-container>\n\n      <button\n        class=\"w-full md:w-auto flex-grow-1\"\n        [routerLink]=\"[URLS.BACK, URLS.PROFILE, userNickname$ | async]\"\n        [label]=\"'BTN.TO_PROFILE' | translate\"\n        icon=\"pi pi-user\"\n        pButton\n        pRipple\n      ></button>\n    </div>\n  </div>\n</app-container>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LocalizeRouterModule } from '@gilsdav/ngx-translate-router';\n\nimport { AuthGuard } from '@guards/auth.guard';\nimport { SetPhotoComponent } from './components/set-photo.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SetPhotoComponent,\n    canActivate: [AuthGuard],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes), LocalizeRouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SetPhotoRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SetPhotoComponent } from './components/set-photo.component';\nimport { SetPhotoRoutingModule } from './set-photo-routing.module';\nimport { ButtonModule } from 'primeng/button';\nimport { ContainerComponent } from '../../shared/components/container/container.component';\nimport { FileUploadModule } from 'primeng/fileupload';\nimport { RippleModule } from 'primeng/ripple';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ImageComponent } from '@ApiClient/components/image/image.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SetPhotoRoutingModule,\n    ButtonModule,\n    ContainerComponent,\n    FileUploadModule,\n    RippleModule,\n    TranslateModule,\n    ImageComponent,\n  ],\n  declarations: [SetPhotoComponent],\n})\nexport class SetPhotoModule {}\n"],"names":["HttpClient","lastValueFrom","FileUpload","Store","TranslateService","MessageService","generateImagePath","updateUserImageAction","selectCurrentUserId","selectCurrentUserNickname","selectCurrentUserPictureId","selectIsLoadingAuth","URLS","i0","ɵɵelementStart","ɵɵlistener","SetPhotoComponent_div_14_button_1_Template_button_click_0_listener","restoredCtx","ɵɵrestoreView","_r9","path_r7","$implicit","ctx_r8","ɵɵnextContext","ɵɵresetView","onImageClick","ɵɵelement","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction1","_c1","ctx_r5","selectedPath","ɵɵadvance","ɵɵsanitizeUrl","SetPhotoComponent_div_14_button_7_Template_button_click_0_listener","_r12","path_r10","ctx_r11","ctx_r6","ɵɵtemplate","SetPhotoComponent_div_14_button_1_Template","SetPhotoComponent_div_14_button_7_Template","ctx_r0","imagePaths","slice","ɵɵpipeBind1","pictureId$","userId$","ctx_r1","selectedFile","ɵɵelementContainerStart","SetPhotoComponent_ng_container_17_Template_button_click_1_listener","_r14","ctx_r13","refresh","ɵɵelementContainerEnd","ctx_r2","isRefreshed","SetPhotoComponent_ng_container_23_Template_button_click_1_listener","_r16","ctx_r15","onCancelHandler","SetPhotoComponent","constructor","store","http","toast","translate","select","userNickname$","isLoading$","imagePath","confirm","_this","_asyncToGenerator","res","get","responseType","base64String","readFileAsBase64","dispatch","photo","dataBase64","fileExt","error","console","setTimeout","fileUpload","clear","onSelectHandler","event","_this2","msgs","files","length","file","type","startsWith","showErrorMessage","Promise","resolve","reject","fileReader","FileReader","onload","result","onerror","readAsDataURL","key","add","severity","summary","instant","detail","_","ɵɵdirectiveInject","i1","i2","i3","i4","_2","selectors","viewQuery","SetPhotoComponent_Query","rf","ctx","ɵɵtext","SetPhotoComponent_div_14_Template","SetPhotoComponent_img_15_Template","SetPhotoComponent_ng_container_17_Template","SetPhotoComponent_Template_p_fileUpload_onSelect_18_listener","$event","SetPhotoComponent_Template_button_click_21_listener","SetPhotoComponent_ng_container_23_Template","ɵɵtextInterpolate1","ɵɵtextInterpolate","_c2","ɵɵpureFunction3","_c3","BACK","PROFILE","RouterModule","LocalizeRouterModule","AuthGuard","routes","path","component","canActivate","SetPhotoRoutingModule","_3","forChild","imports","exports","CommonModule","ButtonModule","ContainerComponent","FileUploadModule","RippleModule","TranslateModule","ImageComponent","SetPhotoModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}