!function(){var t,e,n,o,i,r,a,s,c,l,d,p,m,u,g,f;function v(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function C(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[74],{9074:function(f,b,x){"use strict";x.d(b,{u:function(){return jt}});var w=x(4762),y=x(8816),O=x(4173),M=x.n(O);function P(t,e){var n=t.getBoundingClientRect(),o=n.top,i=n.bottom,r=n.left,a=n.right,s=M().extend({tolerance:0,viewport:window},e),c=!1,l=s.viewport.jquery?s.viewport:M()(s.viewport);l.length||(console.warn("isInViewport: The viewport selector you have provided matches no element on page."),console.warn("isInViewport: Defaulting to viewport as window"),l=M()(window));var d=l.height(),p=l.width(),m=l[0].toString();if(l[0]!==window&&"[object Window]"!==m&&"[object DOMWindow]"!==m){var u=l[0].getBoundingClientRect();o-=u.top,i-=u.top,r-=u.left,a-=u.left,p-=P.scrollBarWidth=P.scrollBarWidth||function(t){var e=M()("<div></div>").css({width:"100%"});t.append(e);var n=t.width()-e.width();return e.remove(),n}(l)}return s.tolerance=~~Math.round(parseFloat(s.tolerance)),s.tolerance<0&&(s.tolerance=d+s.tolerance),a<=0||r>=p?c:c=s.tolerance?o<=s.tolerance&&i>=s.tolerance:i>0&&o<=d}function _(t){if(t){var e=t.split(",");return 1===e.length&&isNaN(e[0])&&(e[1]=e[0],e[0]=void 0),{tolerance:e[0]?e[0].trim():void 0,viewport:e[1]?M()(e[1].trim()):void 0}}return{}}M().extend(M().expr.pseudos||M().expr[":"],{"in-viewport":M().expr.createPseudo?M().expr.createPseudo(function(t){return function(e){return P(e,_(t))}}):function(t,e,n){return P(t,_(n[3]))}}),M().fn.isInViewport=function(t){return this.filter(function(e,n){return P(n,t)})},M().fn.run=function(t){var e=this;if(1===arguments.length&&"function"==typeof t&&(t=[t]),!(t instanceof Array))throw new SyntaxError("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions");return t.forEach(function(t){"function"!=typeof t?(console.warn("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions"),console.warn("isInViewport: Ignoring non-function values in array and moving on")):[].slice.call(e).forEach(function(e){return t.call(M()(e))})}),this};var k=x(4088),I=x(5366),S=x(2927),R=x(2080),E=x(1116),V=x(4289),A=x(7676),z=x(1995),F=x(1041),U=x(4671),T=["selected"],B=function(){var a=function(){function t(e){h(this,t),this.main=e}return C(t,[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(t){var e=this.selected.nativeElement;if(0!=parseInt(t)){var n=document.getElementById(t).getAttribute("src"),o=document.createElement("img");o.setAttribute("src",n),o.setAttribute("height","18px"),o.setAttribute("width","18px"),e.hasChildNodes()&&e.childNodes[0].remove(),e.appendChild(o)}else e.hasChildNodes()&&e.childNodes[0].remove()}}]),t}();return a.\u0275fac=function(t){return new(t||a)(I["\u0275\u0275directiveInject"](S.J))},a.\u0275cmp=I["\u0275\u0275defineComponent"]({type:a,selectors:[["app-reactions"]],viewQuery:function(t,e){var n;(1&t&&I["\u0275\u0275viewQuery"](T,5),2&t)&&(I["\u0275\u0275queryRefresh"](n=I["\u0275\u0275loadQuery"]())&&(e.selected=n.first))},inputs:{idComment:"idComment",comment:"comment"},decls:37,vars:0,consts:function(){return[[1,"d-flex","rate"],[1,"popover"],[1,"boto","botoRate","p-0",3,"click"],"Evaluar:",[1,"popover_content"],[1,"containerIcons"],["id","1","type","button","src","assets/in2art/icones/votacio_comentaris/funny.svg","alt","",1,"funny","icon",3,"click"],[1,"tooltiptext"],"Divertido",[1,"textPhone"],["id","2","type","button","type","button","src","assets/in2art/icones/votacio_comentaris/useful.svg","alt","",1,"useful","icon",3,"click"],"\xDAtil",["id","3","type","button","src","assets/in2art/icones/votacio_comentaris/inspiring.svg","alt","",1,"inspiring","icon",3,"click"],"Inspirador",["id","4","type","button","src","assets/in2art/icones/votacio_comentaris/unpleasant.svg","alt","",1,"unpleasant","icon",3,"click"],"Desagradable",["id","5","type","button","src","assets/in2art/icones/votacio_comentaris/harmful.svg","alt","",1,"harmful","icon",3,"click"],"Da\xF1ino",[1,"selected","d-flex","ml-2","mt-1"],["selected",""]]},template:function(t,e){1&t&&(I["\u0275\u0275elementStart"](0,"div",0),I["\u0275\u0275elementStart"](1,"div",1),I["\u0275\u0275elementStart"](2,"button",2),I["\u0275\u0275listener"]("click",function(){return e.submit("0")}),I["\u0275\u0275i18n"](3,3),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](4,"div",4),I["\u0275\u0275elementStart"](5,"div",5),I["\u0275\u0275elementStart"](6,"img",6),I["\u0275\u0275listener"]("click",function(){return e.submit("1")}),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](7,"span",7),I["\u0275\u0275i18n"](8,8),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](9,"span",9),I["\u0275\u0275text"](10,"Funny"),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](11,"div",5),I["\u0275\u0275elementStart"](12,"img",10),I["\u0275\u0275listener"]("click",function(){return e.submit("2")}),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](13,"span",7),I["\u0275\u0275i18n"](14,11),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](15,"span",9),I["\u0275\u0275text"](16,"Useful"),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](17,"div",5),I["\u0275\u0275elementStart"](18,"img",12),I["\u0275\u0275listener"]("click",function(){return e.submit("3")}),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](19,"span",7),I["\u0275\u0275i18n"](20,13),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](21,"span",9),I["\u0275\u0275text"](22,"Inspiring"),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](23,"div",5),I["\u0275\u0275elementStart"](24,"img",14),I["\u0275\u0275listener"]("click",function(){return e.submit("4")}),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](25,"span",7),I["\u0275\u0275i18n"](26,15),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](27,"span",9),I["\u0275\u0275text"](28,"Unpleasant"),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](29,"div",5),I["\u0275\u0275elementStart"](30,"img",16),I["\u0275\u0275listener"]("click",function(){return e.submit("5")}),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](31,"span",7),I["\u0275\u0275i18n"](32,17),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](33,"span",9),I["\u0275\u0275text"](34,"Harmful"),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275element"](35,"div",18,19),I["\u0275\u0275elementEnd"]())},styles:[".botoRate[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:var(--color-gray)!important;font-style:italic;font-size:.71rem}.popover[_ngcontent-%COMP%], .rate[_ngcontent-%COMP%]{background:transparent}.popover[_ngcontent-%COMP%]{margin-top:-1.5px;position:relative;border:none;z-index:84}.popover[_ngcontent-%COMP%]   .popover_content[_ngcontent-%COMP%]{visibility:hidden;text-align:center;background:var(--color-fons-card);border:1px solid #444;border-radius:150px;position:absolute;top:120%;left:44%;opacity:0;transition:all .5s;transition-delay:.2s;display:flex;justify-content:space-between}.popover[_ngcontent-%COMP%]:hover   .popover_content[_ngcontent-%COMP%]{visibility:visible;opacity:1;display:flex;justify-content:space-between;transform:translate(-2vh);transition:all .5s;transition-delay:0s}img[_ngcontent-%COMP%]{width:30px;height:30px;margin:.8em;transition:transform .3s}img[_ngcontent-%COMP%]:hover{transform:scale(1.5)}.containerIcons[_ngcontent-%COMP%]{position:relative;display:inline-block}.containerIcons[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:120px;background-color:#5a5a5a;color:#fff;text-align:center;border-radius:6px;position:absolute;z-index:1}.containerIcons[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]:after{position:absolute;top:100%;left:50%;margin-left:-5px;border:5px solid transparent;border-top-color:#5a5a5a}.containerIcons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover ~ .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.textPhone[_ngcontent-%COMP%]{display:none}@media only screen and (max-width:576px){.popover[_ngcontent-%COMP%]   .popover_content[_ngcontent-%COMP%]{left:-410%;transition:all .3s;width:15.9em;height:3.4em;padding:.12em;top:-225%}img[_ngcontent-%COMP%]{width:25px;height:25px;margin:.1em}img[_ngcontent-%COMP%]:hover{transform:none;transition:none}.containerIcons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover ~ .tooltiptext[_ngcontent-%COMP%]{visibility:hidden}.textPhone[_ngcontent-%COMP%]{width:43px;display:block;font-size:8px;border-radius:4em;padding:1.5px}}"]}),a}(),$=["commentInfo"];function j(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"span",19),I["\u0275\u0275text"](1),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"]();I["\u0275\u0275advance"](1),I["\u0275\u0275textInterpolate1"]("@",null==n.item.user?null:n.item.user.username,"")}}var N=function(){return{}},Q=function(){var t=function(){function t(e){h(this,t),this.main=e}return C(t,[{key:"ngOnInit",value:function(){return(0,w.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.item.showAnswers=!1,t.t0=this.item.user,t.t0){t.next=6;break}return t.next=5,this.main.provider.getUserById(this.item.user_id);case 5:this.item.user=t.sent;case 6:case"end":return t.stop()}},t,this)}))}},{key:"openOpcionsComentarisModal",value:function(t,e){var n=this,o={accio:function(){n.closeOpcionsComentarisModal(),n.main.copy("".concat(n.main.urlBase,"/post/").concat(n.idPost,"?comment=").concat(t))},img:"assets/in2art/icones/link.svg",text:this.main.t("Copy URL"),class:"copy"},i={accio:function(){n.closeOpcionsComentarisModal(),n.main.modalReport.openModal(t,2)},img:"assets/in2art/icones/report.svg",text:"Report",class:"report"},r=[];window.isSecureContext&&r.push(o),e==this.main.currentUser.id||r.push(i),this.main.modalOptions.openModal(r)}},{key:"closeOpcionsComentarisModal",value:function(){this.main.modalOptions.closeModal()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I["\u0275\u0275directiveInject"](S.J))},t.\u0275cmp=I["\u0275\u0275defineComponent"]({type:t,selectors:[["app-comment"]],viewQuery:function(t,e){var n;(1&t&&I["\u0275\u0275viewQuery"]($,5),2&t)&&(I["\u0275\u0275queryRefresh"](n=I["\u0275\u0275loadQuery"]())&&(e.commentInfo=n.first))},inputs:{item:"item",pare:"pare",showButtonAnswers:"showButtonAnswers",idPost:"idPost"},decls:25,vars:12,consts:function(){return[[1,"comment",3,"id"],[1,"commentStructure"],[1,"pointer","photo",3,"click"],[3,"user"],[1,"commentInfo"],["commentInfo",""],[1,"pointer",3,"click"],["nameUser",""],[1,"d-flex"],["class","me-1 answeringUser",4,"ngIf"],[1,"textComment"],[1,"actions"],[3,"data"],[1,"boto","botoGeneric",3,"click"],"Responder"," Respuestas: " + "\ufffd0\ufffd" + "",[3,"comment","idComment"],["type","button",1,"icon",3,"click"],["src","assets/in2art/icones/more-options.svg","alt","More"],[1,"me-1","answeringUser"]]},template:function(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"div",0),I["\u0275\u0275elementStart"](1,"div",1),I["\u0275\u0275elementStart"](2,"div",2),I["\u0275\u0275listener"]("click",function(){return e.main.goTo(null==e.item.user?null:e.item.user.username)}),I["\u0275\u0275element"](3,"app-foto-perfil",3),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](4,"div",4,5),I["\u0275\u0275elementStart"](6,"span",6,7),I["\u0275\u0275listener"]("click",function(){return e.main.goTo(null==e.item.user?null:e.item.user.username)}),I["\u0275\u0275elementStart"](8,"strong"),I["\u0275\u0275text"](9),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](10,"div",8),I["\u0275\u0275template"](11,j,2,1,"span",9),I["\u0275\u0275elementStart"](12,"span",10),I["\u0275\u0275text"](13),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](14,"div",11),I["\u0275\u0275elementStart"](15,"div"),I["\u0275\u0275elementStart"](16,"span"),I["\u0275\u0275element"](17,"app-time-ago",12),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](18,"button",13),I["\u0275\u0275listener"]("click",function(){return e.pare.onReply(null==e.item?null:e.item.id,e.item.forum_message_id,null==e.item.user?null:e.item.user.username),e.item.showAnswers=!0}),I["\u0275\u0275i18n"](19,14),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](20,"button",13),I["\u0275\u0275listener"]("click",function(){return e.item.showAnswers=!e.item.showAnswers}),I["\u0275\u0275i18n"](21,15),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275element"](22,"app-reactions",16),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](23,"span",17),I["\u0275\u0275listener"]("click",function(){return e.openOpcionsComentarisModal(e.item.id,e.item.user.id)}),I["\u0275\u0275element"](24,"img",18),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275reference"](5);I["\u0275\u0275propertyInterpolate1"]("id","comment-",e.item.id,""),I["\u0275\u0275advance"](3),I["\u0275\u0275property"]("user",e.item.user||I["\u0275\u0275pureFunction0"](11,N)),I["\u0275\u0275advance"](6),I["\u0275\u0275textInterpolate"](null==e.item.user?null:e.item.user.username),I["\u0275\u0275advance"](2),I["\u0275\u0275property"]("ngIf",e.item.idAnsweringComment),I["\u0275\u0275advance"](2),I["\u0275\u0275textInterpolate"](e.item.content),I["\u0275\u0275advance"](4),I["\u0275\u0275property"]("data",e.item.creation_date),I["\u0275\u0275advance"](3),I["\u0275\u0275styleProp"]("display",e.showButtonAnswers?"block":"none"),I["\u0275\u0275advance"](1),I["\u0275\u0275i18nExp"](e.item.totalAnswers),I["\u0275\u0275i18nApply"](21),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("comment",n)("idComment",e.item.id)}},directives:[z.d,E.NgIf,U.P,B],styles:[".comment[_ngcontent-%COMP%]{align-items:center;padding:10px;font-style:normal}.comment[_ngcontent-%COMP%], .commentStructure[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.photo[_ngcontent-%COMP%]{max-height:3em;max-width:3em}.commentInfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:15px}.commentInfo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-text);font-size:.85rem}.actions[_ngcontent-%COMP%]{display:flex}.actions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:start}.actions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .botoGeneric[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-right:2em;font-style:italic;font-size:.7rem;color:var(--color-gray)}.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}.answeringUser[_ngcontent-%COMP%]{font-weight:700}.textComment[_ngcontent-%COMP%]{word-break:break-word}.pointer[_ngcontent-%COMP%]{cursor:pointer}app-reactions[_ngcontent-%COMP%]{margin-top:-3.2px}"]}),t}(),q=x(5641),G=["commentComponent"];function L(t,e){1&t&&(I["\u0275\u0275elementStart"](0,"div",17),I["\u0275\u0275i18n"](1,18),I["\u0275\u0275elementEnd"]())}function D(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"div",28),I["\u0275\u0275element"](1,"app-comment",23),I["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit,o=I["\u0275\u0275nextContext"](4);I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("idPost",o.idForum)("item",n)("showButtonAnswers",!1)("changeShowReply",o.changeShowReply)("pare",o)}}function J(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"div",22),I["\u0275\u0275element"](1,"app-comment",23,24),I["\u0275\u0275elementStart"](3,"div",25,26),I["\u0275\u0275template"](5,D,2,5,"div",27),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit,o=I["\u0275\u0275nextContext"](3);I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("idPost",o.idForum)("item",n)("showButtonAnswers",!0)("changeShowReply",o.changeShowReply)("pare",o),I["\u0275\u0275advance"](2),I["\u0275\u0275styleProp"]("display",n.showAnswers?"block":"none"),I["\u0275\u0275advance"](2),I["\u0275\u0275property"]("ngForOf",n.answers)}}function Y(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"div",20),I["\u0275\u0275template"](1,J,6,8,"div",21),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](2);I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngForOf",n.comments)}}function W(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"div"),I["\u0275\u0275template"](1,Y,2,1,"div",19),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"]();I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",n.comments.length)}}function X(t,e){1&t&&(I["\u0275\u0275elementStart"](0,"div",29),I["\u0275\u0275element"](1,"app-loading"),I["\u0275\u0275elementEnd"]())}var H=function(){var t=function(){function t(e){h(this,t),this.main=e,this.loadingComments=!0,this.sendComment=!1,this.showReply=!1,this.comments=[],this.userInfoToReply={id:null,name:null,parent:null}}return C(t,[{key:"ngOnInit",value:function(){this.getMainComments()}},{key:"getMainComments",value:function(){return(0,w.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.main.provider.getComments(this.idForum);case 2:for(e in this.comments=t.sent,this.comments)this.comments[e].answers=[],this.comments[e].totalAnswers=0,0!=this.comments[e].childs.length&&this.getChildComments(this.comments[e],null);this.loadingComments=!1;case 5:case"end":return t.stop()}},t,this)}))}},{key:"getChildComments",value:function(t,e){return(0,w.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.main.provider.getParent(e||t.id);case 2:for(i in o=n.sent)t.answers.push(o[i]),t.totalAnswers+=1,this.getChildComments(t,o[i].id);case 4:case"end":return n.stop()}},n,this)}))}},{key:"onSubmit",value:function(){return(0,w.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.input){t.next=2;break}return t.abrupt("return");case 2:return this.sendComment=!0,e=this.showReply?this.userInfoToReply.id:null,t.next=6,this.main.provider.postComment(this.input,this.idForum,e);case 6:return n=t.sent,t.next=9,this.main.provider.getCommentById(n.lastId);case 9:o=t.sent,this.saveComments(o[0]),this.input="",this.commentComponent=!0,this.sendComment=!1,this.showReply=!1;case 11:case"end":return t.stop()}},t,this)}))}},{key:"saveComments",value:function(t){if(t.user={id:this.main.currentUser.id,username:this.main.currentUser.username,photo:this.main.currentUser.photo},this.showReply){var e=this.getArrayAnswers(this.userInfoToReply.parent?this.userInfoToReply.parent:this.userInfoToReply.id);return e.answers.unshift(t),void(e.totalAnswers+=1)}t.answers=[],t.totalAnswers=0,this.comments.unshift(t)}},{key:"getArrayAnswers",value:function(t){for(var e in this.comments){if(this.comments[e].id==t)return this.comments[e];var n=this.comments[e].answers.find(function(e){return e.id==t});if(null!=n)return n}}},{key:"onReply",value:function(t,e,n){if(!n)return this.main.toster.info("Loading comments..."),void(this.showReply=!1);this.userInfoToReply={id:t,name:n,parent:e},this.showReply=!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I["\u0275\u0275directiveInject"](S.J))},t.\u0275cmp=I["\u0275\u0275defineComponent"]({type:t,selectors:[["app-comments"]],viewQuery:function(t,e){var n;(1&t&&I["\u0275\u0275viewQuery"](G,5),2&t)&&(I["\u0275\u0275queryRefresh"](n=I["\u0275\u0275loadQuery"]())&&(e.commentComponent=n.first))},inputs:{idForum:"idForum"},decls:19,vars:9,consts:function(){return[["class","noCommentsYet",4,"ngIf"],[4,"ngIf"],[1,"divReply"],[1,"fons"],"Respondiendo a: " + "\ufffd#6\ufffd" + "@" + "\ufffd0\ufffd" + "" + "\ufffd/#6\ufffd" + "",[1,"boto",3,"click"],[1,"fas","fa-times"],["class","carregantProfile",4,"ngIf"],[1,"divFotoInput"],[1,"img"],[3,"user"],[1,"form"],[1,"divInputComment"],["type","text","maxlength","3000","placeholder","A\xF1adir un comentario",1,"inputBar",3,"ngModel","ngModelChange"],[1,"divSend"],[1,"boto","botoPrincipal","botoPetit","send",3,"disabled","click"],"Publicar",[1,"noCommentsYet"],"Todav\xEDa no hay comentarios. \xA1S\xE9 el primero!\n",["class","comments",4,"ngIf"],[1,"comments"],["class","mainComment",4,"ngFor","ngForOf"],[1,"mainComment"],[3,"idPost","item","showButtonAnswers","changeShowReply","pare"],["commentComponent",""],[1,"secondaryComments"],["secondaryComments",""],["class","answers",4,"ngFor","ngForOf"],[1,"answers"],[1,"carregantProfile"]]},template:function(t,e){1&t&&(I["\u0275\u0275template"](0,L,2,0,"div",0),I["\u0275\u0275template"](1,W,2,1,"div",1),I["\u0275\u0275elementStart"](2,"div",2),I["\u0275\u0275elementStart"](3,"div",3),I["\u0275\u0275elementStart"](4,"div"),I["\u0275\u0275i18nStart"](5,4),I["\u0275\u0275element"](6,"b"),I["\u0275\u0275i18nEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](7,"button",5),I["\u0275\u0275listener"]("click",function(){return e.showReply=!1}),I["\u0275\u0275element"](8,"i",6),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275template"](9,X,2,0,"div",7),I["\u0275\u0275elementStart"](10,"div",8),I["\u0275\u0275elementStart"](11,"div",9),I["\u0275\u0275element"](12,"app-foto-perfil",10),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](13,"form",11),I["\u0275\u0275elementStart"](14,"div",12),I["\u0275\u0275elementStart"](15,"input",13),I["\u0275\u0275listener"]("ngModelChange",function(t){return e.input=t}),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](16,"div",14),I["\u0275\u0275elementStart"](17,"button",15),I["\u0275\u0275listener"]("click",function(){return e.onSubmit()}),I["\u0275\u0275i18n"](18,16),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"]()),2&t&&(I["\u0275\u0275property"]("ngIf",!e.comments.length),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",!e.loadingComments),I["\u0275\u0275advance"](1),I["\u0275\u0275styleProp"]("display",e.showReply?"block":"none"),I["\u0275\u0275advance"](4),I["\u0275\u0275i18nExp"](e.userInfoToReply.name),I["\u0275\u0275i18nApply"](5),I["\u0275\u0275advance"](3),I["\u0275\u0275property"]("ngIf",e.loadingComments),I["\u0275\u0275advance"](3),I["\u0275\u0275property"]("user",e.main.currentUser),I["\u0275\u0275advance"](3),I["\u0275\u0275property"]("ngModel",e.input),I["\u0275\u0275advance"](2),I["\u0275\u0275property"]("disabled",e.sendComment||!e.input))},directives:[E.NgIf,z.d,F._Y,F.JL,F.F,F.Fj,F.nD,F.JJ,F.On,E.NgForOf,Q,q.N],styles:['.divFotoInput[_ngcontent-%COMP%]{padding:10px;display:inline-flex;border-top:var(--border-card)}.divFotoInput[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:50px}.divFotoInput[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:calc(100% - 50px);padding-left:8px;display:grid;grid-auto-columns:1fr;grid-auto-rows:1fr;grid-template-columns:20fr 1fr;grid-template-rows:1fr;grid-gap:0 0;gap:0 0;grid-template-areas:"divInputComment  divSend"}.divFotoInput[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .divInputComment[_ngcontent-%COMP%]{grid-area:divInputComment}.divFotoInput[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .divSend[_ngcontent-%COMP%]{padding:5px;grid-area:divSend;display:flex;justify-content:end}.inputBar[_ngcontent-%COMP%]{width:100%;height:100%;border:none;outline:none;background:none;word-break:break-all}.secondaryComments[_ngcontent-%COMP%]{margin-left:3.5em}.fons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;border-top:var(--border-card)}.usernameToReply[_ngcontent-%COMP%]{font-weight:700}.comments[_ngcontent-%COMP%]{display:block;max-height:400px;padding-bottom:50px;overflow-x:hidden;scroll-behavior:smooth;scrollbar-color:#a3a2a2 #fff;scrollbar-width:thin;border-radius:20px}.comments[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.comments[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#a3a2a2;border-radius:20px}.noCommentsYet[_ngcontent-%COMP%]{padding:1em;font-size:1.5em;text-align:center}']}),t}(),Z=["barra"],K=function(){var t=function(){function t(e){h(this,t),this.main=e,this.modificat=!1,this.hasVotat=!1,this.carregant=!1,this.valorRating=null,this.valorRatingUsuari=null}return C(t,[{key:"ngOnInit",value:function(){return(0,w.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.actValoracio();case 1:case"end":return t.stop()}},t,this)}))}},{key:"input",value:function(t){this.valorRating=parseFloat(t.target.value),this.modificat=!0}},{key:"actValoracio",value:function(){return(0,w.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:null===this.criteri.valoracioUsuari?(this.valorRating=0,this.hasVotat=!1):(this.valorRating=this.criteri.valoracioMitjana,this.valorRatingUsuari=this.criteri.valoracioUsuari,this.hasVotat=!0);case 1:case"end":return t.stop()}},t,this)}))}},{key:"submit",value:function(t){return(0,w.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.modificat&&!this.hasVotat,!e.t0){e.next=10;break}return this.carregant=!0,e.next=5,this.main.provider.votar(this.idObra,this.criteri.id,this.valorRating);case 5:return this.hasVotat=!0,e.next=8,t();case 8:this.actValoracio(),this.carregant=!1;case 10:case"end":return e.stop()}},e,this)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I["\u0275\u0275directiveInject"](S.J))},t.\u0275cmp=I["\u0275\u0275defineComponent"]({type:t,selectors:[["app-barra-rating"]],viewQuery:function(t,e){var n;(1&t&&I["\u0275\u0275viewQuery"](Z,5),2&t)&&(I["\u0275\u0275queryRefresh"](n=I["\u0275\u0275loadQuery"]())&&(e.barra=n.first))},inputs:{idObra:"idObra",criteri:"criteri"},decls:7,vars:12,consts:[[1,"barraRating"],[1,"fons"],["type","range","min","0","max","100","step","0.01",1,"barra",3,"value","disabled","input","click"],["barra",""],[3,"user"],[1,"textValorRating"]],template:function(t,e){1&t&&(I["\u0275\u0275elementStart"](0,"div",0),I["\u0275\u0275elementStart"](1,"div",1),I["\u0275\u0275elementStart"](2,"input",2,3),I["\u0275\u0275listener"]("input",function(t){return e.input(t)})("click",function(t){return e.input(t)}),I["\u0275\u0275elementEnd"](),I["\u0275\u0275element"](4,"app-foto-perfil",4),I["\u0275\u0275elementStart"](5,"span",5),I["\u0275\u0275text"](6),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"]()),2&t&&(I["\u0275\u0275advance"](2),I["\u0275\u0275styleProp"]("opacity",e.modificat||e.hasVotat?null:0),I["\u0275\u0275propertyInterpolate"]("value",e.valorRating),I["\u0275\u0275property"]("disabled",e.carregant||e.hasVotat),I["\u0275\u0275advance"](2),I["\u0275\u0275styleProp"]("left",e.valorRatingUsuari||0,"%")("transform","translateX("+-e.valorRatingUsuari+"%)")("opacity",null===e.valorRatingUsuari?0:1),I["\u0275\u0275property"]("user",e.main.currentUser),I["\u0275\u0275advance"](2),I["\u0275\u0275textInterpolate1"]("",e.valorRating.toFixed(0)," /100"))},directives:[z.d],styles:[".barraRating[_ngcontent-%COMP%]{position:relative}.barraRating[_ngcontent-%COMP%]   .fons[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin:10px;border-radius:10000px;height:30px;width:auto;padding:3px;border:2px solid var(--color-text)}.barraRating[_ngcontent-%COMP%]   .fons[_ngcontent-%COMP%]   input.barra[_ngcontent-%COMP%]{background-color:transparent;margin:auto;-webkit-appearance:none;position:relative;overflow:hidden;width:100%;height:100%;cursor:pointer;border-radius:10000px;transition:opacity .2s ease}.barraRating[_ngcontent-%COMP%]   .fons[_ngcontent-%COMP%]   input.barra[_ngcontent-%COMP%]:disabled{opacity:.65;cursor:default}.barraRating[_ngcontent-%COMP%]   .fons[_ngcontent-%COMP%]   app-foto-perfil[_ngcontent-%COMP%]{position:absolute;top:0;border-radius:10000px;width:26px;height:26px;transition:opacity .5s}.barraRating[_ngcontent-%COMP%]   .fons[_ngcontent-%COMP%]   .textValorRating[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;right:0;top:50%;transform:translateY(-50%);margin-right:14px;font-weight:700;font-size:16px;color:#ddd;mix-blend-mode:exclusion}.barra[_ngcontent-%COMP%]::-webkit-slider-runnable-track{background:transparent}.barra[_ngcontent-%COMP%]::-webkit-slider-thumb{background:var(--color-text);box-shadow:-10010px 0 0 10000px var(--color-text);width:20px;height:20px;border:none;border-radius:10000px;background-size:cover;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;-webkit-appearance:none}.barra[_ngcontent-%COMP%]::-moz-range-track{height:30px;background:transparent}.barra[_ngcontent-%COMP%]::-moz-range-thumb{background:var(--color-text);box-shadow:-10010px 0 0 10000px var(--color-text);height:20px;width:20px;border:none;border-radius:10000px;background-size:cover;-moz-transition:all .2s ease-in-out;transition:all .2s ease-in-out;box-sizing:border-box}.barra[_ngcontent-%COMP%]::-ms-fill-lower, .barra[_ngcontent-%COMP%]::-ms-thumb{background:var(--color-text)}.barra[_ngcontent-%COMP%]::-ms-thumb{box-shadow:-10015px 0 0 10000px var(--color-text);height:33px;width:33px;border:none;border-radius:10000px;background-size:cover;-ms-transition:all .2s ease-in-out;transition:all .2s ease-in-out;box-sizing:border-box}.barra[_ngcontent-%COMP%]::-ms-ticks-after, .barra[_ngcontent-%COMP%]::-ms-ticks-before{display:none}.barra[_ngcontent-%COMP%]::-ms-track{color:transparent;height:30px;border:none}.barra[_ngcontent-%COMP%]::-ms-tooltip{display:none}"]}),t}(),tt=["barraRating"];function et(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"div",2),I["\u0275\u0275elementStart"](1,"h5",3),I["\u0275\u0275text"](2),I["\u0275\u0275elementEnd"](),I["\u0275\u0275element"](3,"app-barra-rating",4,5),I["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit,o=I["\u0275\u0275nextContext"]();I["\u0275\u0275advance"](2),I["\u0275\u0275textInterpolate"](n.nom),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("idObra",o.idObra)("criteri",n)}}function nt(t,e){if(1&t){var n=I["\u0275\u0275getCurrentView"]();I["\u0275\u0275elementStart"](0,"div",6),I["\u0275\u0275elementStart"](1,"button",7),I["\u0275\u0275listener"]("click",function(){return I["\u0275\u0275restoreView"](n),I["\u0275\u0275nextContext"]().submit()}),I["\u0275\u0275i18n"](2,8),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"]()}if(2&t){var o=I["\u0275\u0275nextContext"]();I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("disabled",o.deshabilitarBotoVotar())}}var ot=function(){var t=function(){function t(e){h(this,t),this.main=e,this.carregant=!1}return C(t,[{key:"ngOnInit",value:function(){return(0,w.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.valoracio={mitjanaObra:0,criteris:[]},t.next=3,this.getRating();case 3:case"end":return t.stop()}},t,this)}))}},{key:"getRating",value:function(){return(0,w.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.main.provider.getValoracio(this.idObra);case 2:this.valoracio=t.sent;case 3:case"end":return t.stop()}},t,this)}))}},{key:"mostrarBotoVotar",value:function(){if(!this.barresRating)return!1;for(var t=this.barresRating.toArray(),e=0;e<t.length;e++)if(t[e].modificat&&!t[e].hasVotat)return!0}},{key:"deshabilitarBotoVotar",value:function(){if(!this.barresRating)return!1;for(var t=this.barresRating.toArray(),e=0;e<t.length;e++)if(t[e].carregant)return!0}},{key:"submit",value:function(){return(0,w.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=this.barresRating.toArray(),n=0;n<e.length;n++)e[n].submit(function(){return(0,w.mG)(o,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getRating();case 2:case"end":return t.stop()}},t,this)}))});case 2:case"end":return t.stop()}},t,this)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I["\u0275\u0275directiveInject"](S.J))},t.\u0275cmp=I["\u0275\u0275defineComponent"]({type:t,selectors:[["app-rating"]],viewQuery:function(t,e){var n;(1&t&&I["\u0275\u0275viewQuery"](tt,5),2&t)&&(I["\u0275\u0275queryRefresh"](n=I["\u0275\u0275loadQuery"]())&&(e.barresRating=n))},inputs:{idObra:"idObra"},decls:2,vars:2,consts:function(){return[["class","criteri row no-gutters",4,"ngFor","ngForOf"],["class","botoVotar",4,"ngIf"],[1,"criteri","row","no-gutters"],[1,"textCriteri","col-12","col-md-3"],[1,"col-12","col-md-9",3,"idObra","criteri"],["barraRating",""],[1,"botoVotar"],[1,"boto","botoPrincipal","botoPetit",3,"disabled","click"],"Votar"]},template:function(t,e){1&t&&(I["\u0275\u0275template"](0,et,5,3,"div",0),I["\u0275\u0275template"](1,nt,3,1,"div",1)),2&t&&(I["\u0275\u0275property"]("ngForOf",null==e.valoracio?null:e.valoracio.criteris),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",e.mostrarBotoVotar()))},directives:[E.NgForOf,E.NgIf,K],styles:["*[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.criteri[_ngcontent-%COMP%]   .textCriteri[_ngcontent-%COMP%]{margin:auto;padding:0 15px}.botoVotar[_ngcontent-%COMP%]{text-align:center;margin:10px 20px 20px}"]}),t}(),it=["commentsComponent"],rt=["ratingComponent"],at=["post"],st=["swiper"],ct=["moreModal"];function lt(t,e){if(1&t){var n=I["\u0275\u0275getCurrentView"]();I["\u0275\u0275elementStart"](0,"img",25),I["\u0275\u0275listener"]("error",function(){return I["\u0275\u0275restoreView"](n),I["\u0275\u0275nextContext"](2).$implicit.url="assets/in2art/imatges/noImageBig.png"}),I["\u0275\u0275elementEnd"]()}if(2&t){var o=I["\u0275\u0275nextContext"](2).$implicit,i=I["\u0275\u0275nextContext"](2);I["\u0275\u0275property"]("src",i.prepareLink(o.files),I["\u0275\u0275sanitizeUrl"])("alt",i.alt)}}function dt(t,e){if(1&t){var n=I["\u0275\u0275getCurrentView"]();I["\u0275\u0275elementStart"](0,"video",26),I["\u0275\u0275listener"]("click",function(t){return I["\u0275\u0275restoreView"](n),I["\u0275\u0275nextContext"](4).video_click(t.target)}),I["\u0275\u0275element"](1,"source",27),I["\u0275\u0275text"](2,"Your browser does not support the video tag"),I["\u0275\u0275elementEnd"]()}if(2&t){var o=I["\u0275\u0275nextContext"](2).$implicit;I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("src",o.url||o.blob,I["\u0275\u0275sanitizeUrl"])}}function pt(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"audio",28),I["\u0275\u0275element"](1,"source",27),I["\u0275\u0275text"](2,"Your browser does not support the audio tag"),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](2).$implicit;I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("src",n.url||n.blob,I["\u0275\u0275sanitizeUrl"])}}function mt(t,e){if(1&t&&(I["\u0275\u0275template"](0,lt,1,2,"img",22),I["\u0275\u0275template"](1,dt,3,1,"video",23),I["\u0275\u0275template"](2,pt,3,1,"audio",24)),2&t){var n=I["\u0275\u0275nextContext"]().$implicit;I["\u0275\u0275property"]("ngIf",1==n.type),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",2==n.type),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",3==n.type)}}function ut(t,e){1&t&&I["\u0275\u0275template"](0,mt,3,3,"ng-template",21)}function gt(t,e){if(1&t){var n=I["\u0275\u0275getCurrentView"]();I["\u0275\u0275elementStart"](0,"button",29),I["\u0275\u0275listener"]("click",function(){return I["\u0275\u0275restoreView"](n),I["\u0275\u0275nextContext"](2).botoRating_click()}),I["\u0275\u0275elementStart"](1,"div",30),I["\u0275\u0275i18n"](2,31),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](3,"div",32),I["\u0275\u0275text"](4),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"]()}if(2&t){var o=I["\u0275\u0275nextContext"](2);I["\u0275\u0275advance"](4),I["\u0275\u0275textInterpolate"]((null==o.ratingComponent||null==o.ratingComponent.valoracio.mitjanaObra?null:o.ratingComponent.valoracio.mitjanaObra.toFixed(0))||"~")}}function ft(t,e){if(1&t){var n=I["\u0275\u0275getCurrentView"]();I["\u0275\u0275elementStart"](0,"div",33),I["\u0275\u0275elementStart"](1,"button",34),I["\u0275\u0275listener"]("click",function(){I["\u0275\u0275restoreView"](n);var t=I["\u0275\u0275nextContext"](2);return null==t.swiper.swiperRef?null:t.swiper.swiperRef.slidePrev()}),I["\u0275\u0275element"](2,"img",35),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](3,"button",36),I["\u0275\u0275listener"]("click",function(){I["\u0275\u0275restoreView"](n);var t=I["\u0275\u0275nextContext"](2);return null==t.swiper.swiperRef?null:t.swiper.swiperRef.slideNext()}),I["\u0275\u0275element"](4,"img",37),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"]()}if(2&t){var o=I["\u0275\u0275nextContext"](2);I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("disabled",0==(null==o.swiper.swiperRef?null:o.swiper.swiperRef.activeIndex)),I["\u0275\u0275advance"](2),I["\u0275\u0275property"]("disabled",(null==o.swiper.swiperRef?null:o.swiper.swiperRef.activeIndex)==o.p.content.length-1)}}function vt(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"p",48),I["\u0275\u0275text"](1),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](3);I["\u0275\u0275advance"](1),I["\u0275\u0275textInterpolate"](n.p.title)}}function ht(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"p",49),I["\u0275\u0275text"](1),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](3);I["\u0275\u0275advance"](1),I["\u0275\u0275textInterpolate"](n.p.dateMaco)}}function bt(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"p",49),I["\u0275\u0275text"](1),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](3);I["\u0275\u0275advance"](1),I["\u0275\u0275textInterpolate1"]("Unknown",n.p.dateMaco,"")}}function Ct(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"p",49),I["\u0275\u0275text"](1),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](3);I["\u0275\u0275advance"](1),I["\u0275\u0275textInterpolate2"]("",n.p.author,"",n.p.dateMaco,"")}}function xt(t,e){if(1&t){var n=I["\u0275\u0275getCurrentView"]();I["\u0275\u0275elementStart"](0,"button",52),I["\u0275\u0275listener"]("click",function(){var t=I["\u0275\u0275restoreView"](n).$implicit;return I["\u0275\u0275nextContext"](4).main.goToMedium(t.text)}),I["\u0275\u0275text"](1),I["\u0275\u0275elementEnd"]()}if(2&t){var o=e.$implicit;I["\u0275\u0275advance"](1),I["\u0275\u0275textInterpolate"](o.text)}}function wt(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"div",50),I["\u0275\u0275template"](1,xt,2,1,"button",51),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](3);I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngForOf",n.p.mediums)}}function yt(t,e){if(1&t){var n=I["\u0275\u0275getCurrentView"]();I["\u0275\u0275elementStart"](0,"button",55),I["\u0275\u0275listener"]("click",function(){var t=I["\u0275\u0275restoreView"](n).$implicit;return I["\u0275\u0275nextContext"](4).main.goToMovement(t.text)}),I["\u0275\u0275text"](1),I["\u0275\u0275elementEnd"]()}if(2&t){var o=e.$implicit;I["\u0275\u0275advance"](1),I["\u0275\u0275textInterpolate"](o.text)}}function Ot(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"div",53),I["\u0275\u0275template"](1,yt,2,1,"button",54),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](3);I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngForOf",n.p.movements)}}function Mt(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"p",56),I["\u0275\u0275text"](1),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](3);I["\u0275\u0275advance"](1),I["\u0275\u0275textInterpolate"](n.p.dimensions)}}function Pt(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"p",57),I["\u0275\u0275text"](1),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](3);I["\u0275\u0275advance"](1),I["\u0275\u0275textInterpolate"](n.p.technique)}}function _t(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"p",58),I["\u0275\u0275text"](1),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](3);I["\u0275\u0275advance"](1),I["\u0275\u0275textInterpolate"](n.p.priceCurrency)}}function kt(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"p",59),I["\u0275\u0275text"](1),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](3);I["\u0275\u0275advance"](1),I["\u0275\u0275textInterpolate"](n.p.description)}}function It(t,e){if(1&t){var n=I["\u0275\u0275getCurrentView"]();I["\u0275\u0275elementStart"](0,"button",62),I["\u0275\u0275listener"]("click",function(){var t=I["\u0275\u0275restoreView"](n).$implicit;return I["\u0275\u0275nextContext"](4).main.goToTag(t.text)}),I["\u0275\u0275text"](1),I["\u0275\u0275elementEnd"]()}if(2&t){var o=e.$implicit;I["\u0275\u0275advance"](1),I["\u0275\u0275textInterpolate1"]("#",o.text,"")}}function St(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"div",60),I["\u0275\u0275template"](1,It,2,1,"button",61),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](3);I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngForOf",n.p.tags)}}function Rt(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"div"),I["\u0275\u0275element"](1,"app-user-info",38),I["\u0275\u0275template"](2,vt,2,1,"p",39),I["\u0275\u0275template"](3,ht,2,1,"p",40),I["\u0275\u0275template"](4,bt,2,1,"p",40),I["\u0275\u0275template"](5,Ct,2,2,"p",40),I["\u0275\u0275template"](6,wt,2,1,"div",41),I["\u0275\u0275template"](7,Ot,2,1,"div",42),I["\u0275\u0275template"](8,Mt,2,1,"p",43),I["\u0275\u0275template"](9,Pt,2,1,"p",44),I["\u0275\u0275template"](10,_t,2,1,"p",45),I["\u0275\u0275template"](11,kt,2,1,"p",46),I["\u0275\u0275template"](12,St,2,1,"div",47),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](2);I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("id",n.p.user.id)("username",n.p.user.username),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",n.p.title),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",1==n.p.authorType),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",2==n.p.authorType),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",3==n.p.authorType),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",n.p.mediums),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",n.p.movements),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",n.p.dimensions),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",n.p.technique),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",n.p.priceCurrency),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",n.p.description),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",n.p.tags)}}function Et(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"p",59),I["\u0275\u0275text"](1),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](3);I["\u0275\u0275advance"](1),I["\u0275\u0275textInterpolate"](n.p.description)}}function Vt(t,e){if(1&t){var n=I["\u0275\u0275getCurrentView"]();I["\u0275\u0275elementStart"](0,"button",62),I["\u0275\u0275listener"]("click",function(){var t=I["\u0275\u0275restoreView"](n).$implicit;return I["\u0275\u0275nextContext"](4).main.goToTag(t.text)}),I["\u0275\u0275text"](1),I["\u0275\u0275elementEnd"]()}if(2&t){var o=e.$implicit;I["\u0275\u0275advance"](1),I["\u0275\u0275textInterpolate1"]("#",o.text,"")}}function At(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"div",60),I["\u0275\u0275template"](1,Vt,2,1,"button",61),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](3);I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngForOf",n.p.tags)}}function zt(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"div"),I["\u0275\u0275element"](1,"app-user-info",38),I["\u0275\u0275template"](2,Et,2,1,"p",46),I["\u0275\u0275template"](3,At,2,1,"div",47),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](2);I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("id",n.p.user.id)("username",n.p.user.username),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",n.p.description),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",n.p.tags)}}function Ft(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"div",63),I["\u0275\u0275element"](1,"app-comments",64,65),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](2);I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("idCommentShared",n.idCommentShared)("idForum",n.p.idForum)}}function Ut(t,e){if(1&t&&(I["\u0275\u0275elementStart"](0,"div",66),I["\u0275\u0275element"](1,"app-rating",67,68),I["\u0275\u0275elementEnd"]()),2&t){var n=I["\u0275\u0275nextContext"](2);I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("idObra",n.p.postId)}}function Tt(t,e){if(1&t){var n=I["\u0275\u0275getCurrentView"]();I["\u0275\u0275elementStart"](0,"div",3,4),I["\u0275\u0275template"](2,ut,1,0,void 0,5),I["\u0275\u0275elementStart"](3,"div",6),I["\u0275\u0275listener"]("dblclick",function(){I["\u0275\u0275restoreView"](n);var t=I["\u0275\u0275nextContext"]();return t.main.logDebug(t)}),I["\u0275\u0275elementStart"](4,"div",7),I["\u0275\u0275elementStart"](5,"button",8),I["\u0275\u0275listener"]("click",function(){return I["\u0275\u0275restoreView"](n),I["\u0275\u0275nextContext"]().botoView_click()}),I["\u0275\u0275element"](6,"img",9),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](7,"button",10),I["\u0275\u0275listener"]("click",function(){return I["\u0275\u0275restoreView"](n),I["\u0275\u0275nextContext"]().botoComment_click()}),I["\u0275\u0275element"](8,"img",11),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](9,"button",12),I["\u0275\u0275listener"]("click",function(){return I["\u0275\u0275restoreView"](n),I["\u0275\u0275nextContext"]().openMoreModal()}),I["\u0275\u0275element"](10,"img",13),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](11,"div",14),I["\u0275\u0275template"](12,gt,5,1,"button",15),I["\u0275\u0275elementEnd"](),I["\u0275\u0275template"](13,ft,5,2,"div",16),I["\u0275\u0275elementEnd"](),I["\u0275\u0275elementStart"](14,"div",17),I["\u0275\u0275template"](15,Rt,13,13,"div",18),I["\u0275\u0275template"](16,zt,4,4,"div",18),I["\u0275\u0275elementEnd"](),I["\u0275\u0275template"](17,Ft,3,2,"div",19),I["\u0275\u0275template"](18,Ut,3,1,"div",20),I["\u0275\u0275elementEnd"]()}if(2&t){var o=I["\u0275\u0275nextContext"]();I["\u0275\u0275classProp"]("preview",o.preview)("active",o.active),I["\u0275\u0275advance"](2),I["\u0275\u0275property"]("ngForOf",o.p),I["\u0275\u0275advance"](10),I["\u0275\u0275property"]("ngIf",o.p.esObra),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",o.p.length>1),I["\u0275\u0275advance"](2),I["\u0275\u0275property"]("ngIf",o.p.esObra),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",!o.p.esObra),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",!o.preview),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",!o.preview)}}function Bt(t,e){1&t&&(I["\u0275\u0275elementStart"](0,"div",69),I["\u0275\u0275element"](1,"app-loading"),I["\u0275\u0275elementEnd"]())}function $t(t,e){1&t&&(I["\u0275\u0275elementStart"](0,"div",70),I["\u0275\u0275i18n"](1,71),I["\u0275\u0275elementEnd"]())}k.ZP.use([k.W_,k.tl,k.LW,k.eZ]);var jt=function(){var t=function(){function t(e,n){h(this,t),this.main=e,this.route=n,this.preview=!1,this.active=!1,this.viewPostEnviat=!1,this.alt="",this.autoplay=!0,this.viewOpen=!1,this.ratingOpen=!1,this.commentOpen=!1,this.loadingShared=!1,this.swipeContentPublicacioConfig={autoHeight:!0,resistanceRatio:.666,grabCursor:!1,scrollbar:{draggable:!0},threshold:10}}return C(t,[{key:"ngOnInit",value:function(){return(0,w.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.postId,!t.t0){t.next=5;break}return t.next=4,this.main.provider.getPost(this.postId);case 4:this.p=t.sent;case 5:if(t.t1=this.idObra,!t.t1){t.next=10;break}return t.next=9,this.main.provider.getArtwork(this.idObra);case 9:this.p=t.sent;case 10:if(this.p){t.next=12;break}return t.abrupt("return");case 12:this.alt="".concat(this.p.title||(this.p.esObra?"Artwork":"Post")," from ").concat(this.p.author,". ").concat(this.p.description),!this.p.dateMaco&&this.p.date&&(this.p.dateMaco=new Date(this.p.date).toLocaleDateString(this.main.getLocale(),{dateStyle:"long"})),1!=this.p.authorType&&""!=this.p.dateMaco&&(this.p.dateMaco=", (".concat(this.p.dateMaco,")")),O("video").prop("muted",!0),this.marcarPostActiu(),this.reproduirVideoPostActiu(),e=this,O(window).scroll(function(){e.marcarPostActiu()}),this.route.snapshot.queryParams.comment&&this.openDivComment();case 15:case"end":return t.stop()}},t,this)}))}},{key:"prepareLink",value:function(t){return console.log(y.c.prependImagesUrl(t)),y.c.prependImagesUrl(t)}},{key:"openDivComment",value:function(){var t=this,e=setInterval(function(){document.body.contains(document.querySelector(".divComment"))&&(clearInterval(e),t.botoComment_click(),t.findComment(t.route.snapshot.queryParams.comment))},350)}},{key:"findComment",value:function(t){var e=this,n=setInterval(function(){document.body.contains(document.getElementById("comment-".concat(t)))&&(clearInterval(n),e.checkComment(t)&&(document.getElementById("comment-".concat(t)).parentElement.parentElement.parentElement.style.display="block"),document.getElementById("comment-".concat(t)).scrollIntoView({behavior:"smooth"}),document.getElementById("comment-".concat(t)).style.background="#9929296e")},350)}},{key:"checkComment",value:function(t){return"mainComment"!=document.getElementById("comment-".concat(t)).parentNode.parentElement.className.split(" ")[0]}},{key:"botoComment_click",value:function(){this.viewOpen=!1,this.commentOpen=!this.commentOpen,this.ratingOpen=!1,this.actView(),this.actComment(),this.actRating()}},{key:"botoView_click",value:function(){this.viewOpen=!this.viewOpen,this.commentOpen=!1,this.ratingOpen=!1,this.actView(),this.actComment(),this.actRating()}},{key:"botoRating_click",value:function(){this.viewOpen=!1,this.commentOpen=!1,this.ratingOpen=!this.ratingOpen,this.actView(),this.actComment(),this.actRating()}},{key:"actComment",value:function(){var t=O(this.post.nativeElement).find(".botoComment"),e=O(this.post.nativeElement).find(".divComment");t.attr("data-open",this.commentOpen),this.commentOpen?e.slideDown(300):e.slideUp(300)}},{key:"actView",value:function(){var t=O(this.post.nativeElement).find(".botoView"),e=O(this.post.nativeElement).find(".divInfo");t.attr("data-open",this.viewOpen),this.viewOpen?e.slideDown(300):e.slideUp(300)}},{key:"actRating",value:function(){var t=O(this.post.nativeElement).find(".botoRating"),e=O(this.post.nativeElement).find(".divRating");t.attr("data-open",this.ratingOpen),this.ratingOpen?e.slideDown(300):e.slideUp(300)}},{key:"marcarPostActiu",value:function(){var t,e=O("swiper.swipeContentPublicacio:in-viewport").first();if(e.length){this.swiperActiu=e[0].swiper;var n=e.parents(".post");this.active=n[0]==(null===(t=this.post)||void 0===t?void 0:t.nativeElement),this.active&&(this.enviarViewPost(),this.reproduirVideoPostActiu())}}},{key:"getURLPost",value:function(){}},{key:"enviarViewPost",value:function(){this.viewPostEnviat||(this.main.provider.viewPost(this.p.idPost),this.viewPostEnviat=!0)}},{key:"reproduirVideoPostActiu",value:function(){return(0,w.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=O(".post.active .swipeContentPublicacio .swiper-slide.swiper-slide-active video").first(),t.t0=e.length,!t.t0){t.next=5;break}return t.next=5,e[0].play();case 5:this.pausaAltresVideos(e);case 6:case"end":return t.stop()}},t,this)}))}},{key:"reproduirVideoAquestSlide",value:function(t){return(0,w.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.autoplay){e.next=7;break}if(n=O(t.slides).filter(".swiper-slide.swiper-slide-active").find("video").first(),e.t0=n.length,!e.t0){e.next=6;break}return e.next=6,n[0].play();case 6:this.pausaAltresVideos(n);case 7:case"end":return e.stop()}},e,this)}))}},{key:"video_click",value:function(t){O(t).prop("paused")?this.autoplay||(this.autoplay=!0):this.autoplay=!this.autoplay,this.playPauseVideo(t),this.pausaAltresVideos(t)}},{key:"playPauseVideo",value:function(t){O(t).trigger(O(t).prop("paused")?"play":"pause")}},{key:"pausaAltresVideos",value:function(t){O(".post .swiper-slide video").not(t).trigger("pause")}},{key:"openMoreModal",value:function(){var t=this,e={accio:function(){t.main.notInMyBeta()},img:"assets/in2art/icones/view-collection.svg",text:this.main.t("View collection"),class:"view"},n={accio:function(){t.main.notInMyBeta()},img:"assets/in2art/icones/save.svg",text:this.main.t("Save"),class:"save"},o={img:"assets/in2art/icones/share.svg",text:this.main.t("Share"),class:"share"},i={accio:function(){t.closeMoreModal(),t.main.copy(t.main.urlBase+"/post/"+t.p.idPost)},img:"assets/in2art/icones/link.svg",text:this.main.t("Copy URL"),class:"copy"},r={accio:function(){t.closeMoreModal(),t.main.modalReport.openModal(t.p.idPost,1)},img:"assets/in2art/icones/report.svg",text:this.main.t("Report"),class:"report"},a=[e,n,o];window.isSecureContext&&a.push(i),this.main.currentUser.username!=this.p.user.username&&a.push(r),this.main.modalOptions.openModal(a)}},{key:"closeMoreModal",value:function(){this.main.modalOptions.closeModal()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I["\u0275\u0275directiveInject"](S.J),I["\u0275\u0275directiveInject"](R.gz))},t.\u0275cmp=I["\u0275\u0275defineComponent"]({type:t,selectors:[["app-publicacio"]],viewQuery:function(t,e){var n;(1&t&&(I["\u0275\u0275viewQuery"](it,5),I["\u0275\u0275viewQuery"](rt,5),I["\u0275\u0275viewQuery"](at,5),I["\u0275\u0275viewQuery"](st,5),I["\u0275\u0275viewQuery"](ct,5)),2&t)&&(I["\u0275\u0275queryRefresh"](n=I["\u0275\u0275loadQuery"]())&&(e.commentsComponent=n.first),I["\u0275\u0275queryRefresh"](n=I["\u0275\u0275loadQuery"]())&&(e.ratingComponent=n.first),I["\u0275\u0275queryRefresh"](n=I["\u0275\u0275loadQuery"]())&&(e.post=n.first),I["\u0275\u0275queryRefresh"](n=I["\u0275\u0275loadQuery"]())&&(e.swiper=n.first),I["\u0275\u0275queryRefresh"](n=I["\u0275\u0275loadQuery"]())&&(e.moreModal=n.first))},inputs:{postId:"postId",idObra:"idObra",p:"p",preview:"preview"},decls:3,vars:3,consts:function(){return[["class","post",3,"preview","active",4,"ngIf"],["class","carregant",4,"ngIf"],["class","p-4 fs-2 align-center",4,"ngIf"],[1,"post"],["post",""],[4,"ngFor","ngForOf"],[1,"botons","row","no-gutters",3,"dblclick"],[1,"col-5","col-sm-3","row","no-gutters",2,"height","100%"],[1,"col-4","col-sm-4","boto","botoView",3,"click"],["src","assets/in2art/icones/View.svg","alt","View"],[1,"col-4","col-sm-4","boto","botoComment",3,"click"],["src","assets/in2art/icones/Comment.svg","alt","Comment"],[1,"col-4","col-sm-4","boto","botoMore",3,"click"],["src","assets/in2art/icones/More.svg","alt","More"],[1,"col-4","col-sm-7","divBotoRating"],["class","botoRating boto botoPrincipal",3,"click",4,"ngIf"],["class","col-3 col-sm-2 row no-gutters botonsSlider",4,"ngIf"],[1,"divInfo",2,"display","none"],[4,"ngIf"],["class","divComment","style","display: none;",4,"ngIf"],["class","divRating nodrag noselect","style","display: none;",4,"ngIf"],["swiperSlide",""],["class","media-content",3,"src","alt","error",4,"ngIf"],["class","media-content","loop","",3,"click",4,"ngIf"],["class","media-content",4,"ngIf"],[1,"media-content",3,"src","alt","error"],["loop","",1,"media-content",3,"click"],[3,"src"],[1,"media-content"],[1,"botoRating","boto","botoPrincipal",3,"click"],[1,"text"],"Votar",[1,"puntuacio"],[1,"col-3","col-sm-2","row","no-gutters","botonsSlider"],[1,"col-6","boto","botoSlider","botoPrev",3,"disabled","click"],["src","assets/in2art/icones/Backward.svg","alt","swiper-button-prev"],[1,"col-6","boto","botoSlider","botoNext",3,"disabled","click"],["src","assets/in2art/icones/Forward.svg","alt","swiper-button-next"],[3,"id","username"],["class","title",4,"ngIf"],["class","authorAndDate",4,"ngIf"],["class","divMediums",4,"ngIf"],["class","divMovements",4,"ngIf"],["class","dimensions",4,"ngIf"],["class","technique",4,"ngIf"],["class","price",4,"ngIf"],["class","description",4,"ngIf"],["class","divTags",4,"ngIf"],[1,"title"],[1,"authorAndDate"],[1,"divMediums"],["class","boto botoSecundari botoMedium",3,"click",4,"ngFor","ngForOf"],[1,"boto","botoSecundari","botoMedium",3,"click"],[1,"divMovements"],["class","boto botoSecundari botoMovement",3,"click",4,"ngFor","ngForOf"],[1,"boto","botoSecundari","botoMovement",3,"click"],[1,"dimensions"],[1,"technique"],[1,"price"],[1,"description"],[1,"divTags"],["class","boto botoTag",3,"click",4,"ngFor","ngForOf"],[1,"boto","botoTag",3,"click"],[1,"divComment",2,"display","none"],[3,"idCommentShared","idForum"],["commentsComponent",""],[1,"divRating","nodrag","noselect",2,"display","none"],[3,"idObra"],["ratingComponent",""],[1,"carregant"],[1,"p-4","fs-2","align-center"],"No se ha encontrado ninguna publicaci\xF3n/obra de arte\n"]},template:function(t,e){1&t&&(I["\u0275\u0275template"](0,Tt,19,11,"div",0),I["\u0275\u0275template"](1,Bt,2,0,"div",1),I["\u0275\u0275template"](2,$t,2,0,"div",2)),2&t&&(I["\u0275\u0275property"]("ngIf",e.p),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",void 0===e.p),I["\u0275\u0275advance"](1),I["\u0275\u0275property"]("ngIf",null===e.p))},directives:[E.NgIf,E.NgForOf,V.YC,A.M,H,ot,q.N],styles:[".post.preview .botoComment,   .post.preview .botoMedium,   .post.preview .botoMore,   .post.preview .botoMovement,   .post.preview .botoRating,   .post.preview .botoTag,   .post.preview app-user-info .boto.usuari{pointer-events:none}.post[_ngcontent-%COMP%]{background-color:var(--color-fons-card);border:var(--border-card);border-radius:0;margin:0 auto;overflow:hidden;text-align:left}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]{height:50px;border-top:var(--border-card)}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .divRating[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoComment[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoMore[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoView[_ngcontent-%COMP%]{border:none;background:none;height:100%}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .divRating[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoComment[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoMore[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoView[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{pointer-events:none;height:80%;width:45%}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoView[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotateX(0);transition:transform .3s linear}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoView[data-open=true][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotateX(180deg)}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoMore[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60%}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .divBotoRating[_ngcontent-%COMP%]   button.botoRating[_ngcontent-%COMP%]{display:inline-flex;border-radius:50px;padding:0;margin-top:9px;margin-left:15px;font-size:1rem}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .divBotoRating[_ngcontent-%COMP%]   button.botoRating[_ngcontent-%COMP%]   div.text[_ngcontent-%COMP%]{font-size:inherit;margin:auto 3px auto 9px}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .divBotoRating[_ngcontent-%COMP%]   button.botoRating[_ngcontent-%COMP%]   div.puntuacio[_ngcontent-%COMP%]{overflow:hidden;font-size:inherit;background-color:var(--color-fons-card);color:var(--color-text);border-radius:20px;margin:4px;height:24px;width:38px}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   div.botonsSlider[_ngcontent-%COMP%]{height:100%}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   div.botonsSlider[_ngcontent-%COMP%]   .botoSlider[_ngcontent-%COMP%]{border:none;background:none;height:100%}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   div.botonsSlider[_ngcontent-%COMP%]   .botoSlider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{pointer-events:none;height:50%;width:70%}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   div.botonsSlider[_ngcontent-%COMP%]   .botoSlider[_ngcontent-%COMP%]:disabled{opacity:0}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]{padding:20px;text-align:left}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   app-user-info[_ngcontent-%COMP%]{display:flex;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;background:var(--color-fons-card-2);border:var(--border-card);border-radius:50px;margin:0 auto 1rem 0;transition:all .2s}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:30px}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .authorAndDate[_ngcontent-%COMP%]{font-size:20px}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .divMediums[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .divMovements[_ngcontent-%COMP%]{margin-bottom:1rem}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .divMediums[_ngcontent-%COMP%]   .botoMedium[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .divMediums[_ngcontent-%COMP%]   .botoMovement[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .divMovements[_ngcontent-%COMP%]   .botoMedium[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .divMovements[_ngcontent-%COMP%]   .botoMovement[_ngcontent-%COMP%]{margin:0 10px 5px 0}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-weight:700;color:#b20}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{white-space:pre-line;color:gray;font-size:17px}[_nghost-%COMP%]     .post swiper .media-content{width:100%;max-height:80vh;-o-object-fit:contain;object-fit:contain;display:block;margin:auto}[_nghost-%COMP%]     .post swiper .swiper-scrollbar{width:100%;left:0;bottom:0;height:3px;border-radius:10px;background:#0002}[_nghost-%COMP%]     .post swiper .swiper-scrollbar .swiper-scrollbar-drag{border-radius:10px;background:var(--color-text)}"]}),t}()},7676:function(t,e,n){"use strict";n.d(e,{M:function(){return p}});var o=n(4762),i=n(8816),r=n(5366),a=n(2927),s=n(1116),c=n(1995);function l(t,e){if(1&t){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",2),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](n);var t=r["\u0275\u0275nextContext"]();return t.main.goTo(t.user.username)}),r["\u0275\u0275element"](1,"app-foto-perfil",3),r["\u0275\u0275elementStart"](2,"div",4),r["\u0275\u0275elementStart"](3,"div",5),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div",6),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&t){var o=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("user",o.user),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate2"]("",o.user.name," ",o.user.lastName,""),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"]("@",o.user.username,"")}}function d(t,e){1&t&&(r["\u0275\u0275elementStart"](0,"div",7),r["\u0275\u0275i18n"](1,8),r["\u0275\u0275elementEnd"]())}var p=function(){var t=function(){function t(e){h(this,t),this.main=e,this.utils=i.c}return C(t,[{key:"ngOnInit",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.id,!t.t0){t.next=5;break}return t.next=4,this.main.provider.getUserById(this.id);case 4:this.user=t.sent;case 5:if(t.t1=this.username,!t.t1){t.next=10;break}return t.next=9,this.main.provider.getUserByUsername(this.username);case 9:this.user=t.sent;case 10:case"end":return t.stop()}},t,this)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](a.J))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["app-user-info"]],inputs:{id:"id",username:"username",user:"user"},decls:2,vars:2,consts:function(){return[["class","boto botoGeneric usuari",3,"click",4,"ngIf"],["class","loading",4,"ngIf"],[1,"boto","botoGeneric","usuari",3,"click"],[3,"user"],[1,"textosUsuari"],[1,"nom"],[1,"username"],[1,"loading"],"Cargando..."]},template:function(t,e){1&t&&(r["\u0275\u0275template"](0,l,7,4,"button",0),r["\u0275\u0275template"](1,d,2,0,"div",1)),2&t&&(r["\u0275\u0275property"]("ngIf",e.user),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!e.user))},directives:[s.NgIf,c.d],styles:[".usuari[_ngcontent-%COMP%]{background-color:transparent;height:6rem;padding:1rem;border-radius:inherit;display:inline-flex}.usuari[_ngcontent-%COMP%]   app-foto-perfil[_ngcontent-%COMP%]{height:100%}.usuari[_ngcontent-%COMP%]   .textosUsuari[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.usuari[_ngcontent-%COMP%]   .textosUsuari[_ngcontent-%COMP%]   .nom[_ngcontent-%COMP%]{font-size:1.4rem}.usuari[_ngcontent-%COMP%]   .textosUsuari[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:1rem;color:gray}.loading[_ngcontent-%COMP%]{line-height:6rem;font-size:1.2rem;padding:0 20px;font-weight:700;-webkit-animation:loadingText 1s ease infinite alternate;animation:loadingText 1s ease infinite alternate}@-webkit-keyframes loadingText{0%{color:var(--color-text)}to{color:gray}}@keyframes loadingText{0%{color:var(--color-text)}to{color:gray}}"]}),t}()}}])}();