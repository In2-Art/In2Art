(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[676],{6676:function(e,n,t){"use strict";t.r(n),t.d(n,{HomeModule:function(){return w}});var o=t(1116),i=t(9616),r=t(2080),c=t(4762),a=t(8816),l=t(5366),s=t(2927),u=t(2316),d=t(5641);const p=["publicacio"];function m(e,n){1&e&&l["\u0275\u0275element"](0,"app-publicacio",4,5),2&e&&l["\u0275\u0275property"]("p",n.$implicit)}function f(e,n){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275elementStart"](1,"div",6),l["\u0275\u0275element"](2,"i",7),l["\u0275\u0275text"](3,"\xa0"),l["\u0275\u0275elementContainerStart"](4),l["\u0275\u0275i18n"](5,8),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"button",9),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().main.goTo("/search")}),l["\u0275\u0275i18n"](7,10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}}function g(e,n){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",11),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().carregarMes()}),l["\u0275\u0275i18n"](1,12),l["\u0275\u0275elementEnd"]()}}function h(e,n){1&e&&l["\u0275\u0275element"](0,"app-loading")}const b=[{path:"",children:[{path:"",component:(()=>{class e{constructor(e,n){this.main=e,this.route=n,this.scroll=!0,this.numPublicacions=5,this.comptador=0,this.publicacions=[],this.primerCop=!0,this.encaraQueda={yourTimeline:!0,yourPreferences:!0,otherContent:!0},e.newPage(this)}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){a.c.getToken()?(this.publicacions=yield this.main.provider.getRandomPosts(5),yield this.carregarMes()):this.main.router.navigate(["/auth/login"])})}ngOnDestroy(){this.main.onDestroyPage()}carregarMes(){return(0,c.mG)(this,void 0,void 0,function*(){let e=null;this.carregant=!0,e=yield this.getMes(),this.carregant=!1,this.publicacions.push(...e)})}getMes(){return(0,c.mG)(this,void 0,void 0,function*(){let e=[];return e=yield this.main.provider.getRandomPosts(5),e})}onWindowScroll(){window,window.innerHeight+window.scrollY+10>=document.body.scrollHeight&&!this.carregant&&this.scroll&&this.carregarMes()}}return e.\u0275fac=function(n){return new(n||e)(l["\u0275\u0275directiveInject"](s.J),l["\u0275\u0275directiveInject"](r.gz))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-home"]],viewQuery:function(e,n){if(1&e&&l["\u0275\u0275viewQuery"](p,5),2&e){let e;l["\u0275\u0275queryRefresh"](e=l["\u0275\u0275loadQuery"]())&&(n.publicacioComponents=e)}},hostBindings:function(e,n){1&e&&l["\u0275\u0275listener"]("scroll",function(e){return n.onWindowScroll(e)},!1,l["\u0275\u0275resolveWindow"])("mousemove",function(e){return n.onWindowScroll(e)},!1,l["\u0275\u0275resolveWindow"])},decls:5,vars:4,consts:function(){let e,n,t;return e="Ya lo has visto todo",n="Ve a Discover",t="M\xE1s publicaciones +",[[1,"content","align-center"],[3,"p",4,"ngFor","ngForOf"],[4,"ngIf"],["class","boto botoPrincipal fs-5",3,"click",4,"ngIf"],[3,"p"],["publicacio",""],[1,"noPublicacions"],[1,"fas","fa-check-circle"],e,[1,"boto","botoPrincipal","botoGran","reload",3,"click"],n,[1,"boto","botoPrincipal","fs-5",3,"click"],t]},template:function(e,n){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275template"](1,m,2,1,"app-publicacio",1),l["\u0275\u0275template"](2,f,8,0,"div",2),l["\u0275\u0275template"](3,g,2,0,"button",3),l["\u0275\u0275template"](4,h,1,0,"app-loading",2),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",n.publicacions),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!1),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!n.scroll&&!n.carregant),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",n.carregant))},directives:[o.NgForOf,o.NgIf,u.u,d.N],styles:[".content[_ngcontent-%COMP%]{max-width:940px;padding:20px 0 100px}.content[_ngcontent-%COMP%]   app-publicacio[_ngcontent-%COMP%]{display:block;margin-bottom:30px}.content[_ngcontent-%COMP%]   .noPublicacions[_ngcontent-%COMP%]{padding:1em;font-size:1.75em}.content[_ngcontent-%COMP%]   .reload[_ngcontent-%COMP%]{font-size:1.4em}"]}),e})()}]}];let v=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[r.Bz.forChild(b)],r.Bz]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[v,o.CommonModule,i.m]]}),e})()}}]);