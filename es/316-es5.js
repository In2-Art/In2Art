!function(){var t,e,n,o,i;function r(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[316],{2316:function(o,i,s){"use strict";s.d(i,{u:function(){return lt}});var l=s(4762),u=s(8816),p=s(4173),d=s.n(p);function g(t,e){var n=t.getBoundingClientRect(),o=n.top,i=n.bottom,r=n.left,a=n.right,s=d().extend({tolerance:0,viewport:window},e),c=!1,l=s.viewport.jquery?s.viewport:d()(s.viewport);l.length||(console.warn("isInViewport: The viewport selector you have provided matches no element on page."),console.warn("isInViewport: Defaulting to viewport as window"),l=d()(window));var u=l.height(),p=l.width(),m=l[0].toString();if(l[0]!==window&&"[object Window]"!==m&&"[object DOMWindow]"!==m){var v=l[0].getBoundingClientRect();o-=v.top,i-=v.top,r-=v.left,a-=v.left,p-=g.scrollBarWidth=g.scrollBarWidth||function(t){var e=d()("<div></div>").css({width:"100%"});t.append(e);var n=t.width()-e.width();return e.remove(),n}(l)}return s.tolerance=~~Math.round(parseFloat(s.tolerance)),s.tolerance<0&&(s.tolerance=u+s.tolerance),a<=0||r>=p?c:c=s.tolerance?o<=s.tolerance&&i>=s.tolerance:i>0&&o<=u}function m(t){if(t){var e=t.split(",");return 1===e.length&&isNaN(e[0])&&(e[1]=e[0],e[0]=void 0),{tolerance:e[0]?e[0].trim():void 0,viewport:e[1]?d()(e[1].trim()):void 0}}return{}}d().extend(d().expr.pseudos||d().expr[":"],{"in-viewport":d().expr.createPseudo?d().expr.createPseudo(function(t){return function(e){return g(e,m(t))}}):function(t,e,n){return g(t,m(n[3]))}}),d().fn.isInViewport=function(t){return this.filter(function(e,n){return g(n,t)})},d().fn.run=function(t){var e=this;if(1===arguments.length&&"function"==typeof t&&(t=[t]),!(t instanceof Array))throw new SyntaxError("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions");return t.forEach(function(t){"function"!=typeof t?(console.warn("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions"),console.warn("isInViewport: Ignoring non-function values in array and moving on")):[].slice.call(e).forEach(function(e){return t.call(d()(e))})}),this};var v=s(4088),f=s(5366),h=s(2927),b=s(2080),x=s(1116),C=s(7676),w=s(1995),M=["barra"];function P(t,e){if(1&t&&f["\u0275\u0275element"](0,"app-foto-perfil",6),2&t){var n=f["\u0275\u0275nextContext"]();f["\u0275\u0275styleProp"]("left",n.valorRatingUsuari||0,"%")("transform","translateX("+-n.valorRatingUsuari+"%)")("opacity",null===n.valorRatingUsuari?0:1),f["\u0275\u0275property"]("user",n.main.currentUser)}}var y=function(){var t=function(){function t(e){a(this,t),this.main=e,this.modificat=!0,this.hasVotat=!1,this.carregant=!1,this.valorRating=0,this.valorRatingUsuari=null}return c(t,[{key:"ngOnInit",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.actValoracio(this.section),t.next=3,this.main.getAllTypeRates();case 3:this.rateTypes=t.sent;case 4:case"end":return t.stop()}},t,this)}))}},{key:"input",value:function(t){this.valorRating=parseInt(t.target.value),this.modificat=!0}},{key:"actValoracio",value:function(t){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==(null==t?void 0:t.valueUser)?(this.valorRating=0,this.valorRatingUsuari=null,this.hasVotat=!1):(this.valorRating=(null==t?void 0:t.valueUser)||0,this.valorRatingUsuari=(null==t?void 0:t.valueUser)||0,this.hasVotat=!0);case 1:case"end":return e.stop()}},e,this)}))}},{key:"setRating",value:function(t){this.valorRating=t,this.hasVotat=!0}},{key:"getRateTypeId",value:function(t){var e;return null===(e=this.rateTypes[t])||void 0===e?void 0:e.id}},{key:"submit",value:function(t){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.modificat&&!this.hasVotat,!e.t0){e.next=12;break}return this.carregant=!0,this.section.valueUser=this.valorRating,null==this.valorRating&&(this.valorRating=0),e.next=7,this.main.provider.votar(this.idPostTimeLapseID,this.getRateTypeId(this.section.sectionName),this.valorRating);case 7:return this.hasVotat=!0,e.next=10,t();case 10:this.actValoracio(this.section),this.carregant=!1;case 12:case"end":return e.stop()}},e,this)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f["\u0275\u0275directiveInject"](h.J))},t.\u0275cmp=f["\u0275\u0275defineComponent"]({type:t,selectors:[["app-barra-rating"]],viewQuery:function(t,e){var n;(1&t&&f["\u0275\u0275viewQuery"](M,5),2&t)&&(f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(e.barra=n.first))},inputs:{idPostTimeLapseID:"idPostTimeLapseID",section:"section"},decls:7,vars:6,consts:[[1,"barraRating"],[1,"fons"],["type","range","min","0","max","100","step","0",1,"barra",3,"value","disabled","input","click"],["barra",""],[3,"user","left","transform","opacity",4,"ngIf"],[1,"textValorRating"],[3,"user"]],template:function(t,e){1&t&&(f["\u0275\u0275elementStart"](0,"div",0),f["\u0275\u0275elementStart"](1,"div",1),f["\u0275\u0275elementStart"](2,"input",2,3),f["\u0275\u0275listener"]("input",function(t){return e.input(t)})("click",function(t){return e.input(t)}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](4,P,1,7,"app-foto-perfil",4),f["\u0275\u0275elementStart"](5,"span",5),f["\u0275\u0275text"](6),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&t&&(f["\u0275\u0275advance"](2),f["\u0275\u0275styleProp"]("opacity",e.modificat||e.hasVotat?null:0),f["\u0275\u0275propertyInterpolate"]("value",e.valorRating),f["\u0275\u0275property"]("disabled",e.carregant||e.hasVotat),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",e.carregant||e.hasVotat),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"]("",e.valorRating.toFixed(0)||"0"," /100"))},directives:[x.NgIf,w.d],styles:[".barraRating[_ngcontent-%COMP%]{position:relative}.barraRating[_ngcontent-%COMP%]   .fons[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin:10px;border-radius:10000px;height:30px;width:auto;padding:3px;border:2px solid var(--color-text)}.barraRating[_ngcontent-%COMP%]   .fons[_ngcontent-%COMP%]   input.barra[_ngcontent-%COMP%]{background-color:transparent;margin:auto;-webkit-appearance:none;position:relative;overflow:hidden;width:100%;height:100%;cursor:pointer;border-radius:10000px;transition:opacity .2s ease}.barraRating[_ngcontent-%COMP%]   .fons[_ngcontent-%COMP%]   input.barra[_ngcontent-%COMP%]:disabled{opacity:.65;cursor:default}.barraRating[_ngcontent-%COMP%]   .fons[_ngcontent-%COMP%]   app-foto-perfil[_ngcontent-%COMP%]{position:absolute;top:0;border-radius:10000px;width:26px;height:26px;transition:opacity .5s}.barraRating[_ngcontent-%COMP%]   .fons[_ngcontent-%COMP%]   .textValorRating[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;right:0;top:50%;transform:translateY(-50%);margin-right:14px;font-weight:700;font-size:16px;color:#ddd;mix-blend-mode:exclusion}.barra[_ngcontent-%COMP%]::-webkit-slider-runnable-track{background:transparent}.barra[_ngcontent-%COMP%]::-webkit-slider-thumb{background:var(--color-text);box-shadow:-10010px 0 0 10000px var(--color-text);width:20px;height:20px;border:none;border-radius:10000px;background-size:cover;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;-webkit-appearance:none}.barra[_ngcontent-%COMP%]::-moz-range-track{height:30px;background:transparent}.barra[_ngcontent-%COMP%]::-moz-range-thumb{background:var(--color-text);box-shadow:-10010px 0 0 10000px var(--color-text);height:20px;width:20px;border:none;border-radius:10000px;background-size:cover;-moz-transition:all .2s ease-in-out;transition:all .2s ease-in-out;box-sizing:border-box}.barra[_ngcontent-%COMP%]::-ms-fill-lower, .barra[_ngcontent-%COMP%]::-ms-thumb{background:var(--color-text)}.barra[_ngcontent-%COMP%]::-ms-thumb{box-shadow:-10015px 0 0 10000px var(--color-text);height:33px;width:33px;border:none;border-radius:10000px;background-size:cover;-ms-transition:all .2s ease-in-out;transition:all .2s ease-in-out;box-sizing:border-box}.barra[_ngcontent-%COMP%]::-ms-ticks-after, .barra[_ngcontent-%COMP%]::-ms-ticks-before{display:none}.barra[_ngcontent-%COMP%]::-ms-track{color:transparent;height:30px;border:none}.barra[_ngcontent-%COMP%]::-ms-tooltip{display:none}"]}),t}(),O=["barraRating"];function _(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"div",2),f["\u0275\u0275elementStart"](1,"h5",3),f["\u0275\u0275text"](2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](3,"app-barra-rating",4,5),f["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit,o=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](n.sectionName),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("idPostTimeLapseID",o.idPostTimeLapseID)("section",n)}}function k(t,e){if(1&t){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",6),f["\u0275\u0275elementStart"](1,"button",7),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().submit()}),f["\u0275\u0275i18n"](2,8),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&t){var o=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("disabled",o.deshabilitarBotoVotar())}}var I=function(){var e=function(){function t(e){a(this,t),this.main=e,this.carregant=!1}return c(t,[{key:"ngOnInit",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=[],t.next=3,this.getRating();case 3:return t.t1=t.sent,t.next=6,this.setGlobalMedianRating();case 6:return t.t2=t.sent,this.valoracio={sections:t.t0,barres:t.t1,ratingGlobal:t.t2},t.next=10,this.main.prepareSections(this.idPostTimeLapseID).then(function(t){e.valoracio.sections=t});case 10:case"end":return t.stop()}},t,this)}))}},{key:"prepareValoracio",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.main.prepareSections(this.idPostTimeLapseID);case 2:return this.valoracio.sections=t.sent,t.next=5,this.setGlobalMedianRating();case 5:return t.next=7,this.getRating();case 7:case"end":return t.stop()}},t,this)}))}},{key:"getRating",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.main.getBarraGlobalRating(this.idPostTimeLapseID).then(function(t){return t});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}},{key:"setGlobalMedianRating",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.main.getArtworkGlobalRating(this.idPostTimeLapseID).then(function(t){return e.globalRating=t,t});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}},{key:"isRated",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}))}},{key:"mostrarBotoVotar",value:function(){if(!this.barresRating)return!1;for(var t=this.barresRating.toArray(),e=0;e<t.length;e++)if(t[e].modificat&&!t[e].hasVotat)return!0}},{key:"deshabilitarBotoVotar",value:function(){if(!this.barresRating)return!1;for(var t=this.barresRating.toArray(),e=0;e<t.length;e++)if(t[e].carregant)return!0}},{key:"submit",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.barresRating.toArray(),n=0;case 2:if(!(n<e.length)){t.next=8;break}return t.next=5,e[n].submit(function(){return(0,l.mG)(o,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.main.getUserRatingValue(this.idPostTimeLapseID,this.valoracio.section);case 2:case"end":return t.stop()}},t,this)}))});case 5:n++,t.next=2;break;case 8:case"end":return t.stop()}},t,this)}))}}]),t}();return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](h.J))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["app-rating"]],viewQuery:function(t,e){var n;(1&t&&f["\u0275\u0275viewQuery"](O,5),2&t)&&(f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(e.barresRating=n))},inputs:{idPostTimeLapseID:"idPostTimeLapseID"},decls:2,vars:2,consts:function(){return[["class","criteri row no-gutters",4,"ngFor","ngForOf"],["class","botoVotar",4,"ngIf"],[1,"criteri","row","no-gutters"],[1,"textCriteri","col-12","col-md-3"],[1,"col-12","col-md-9",3,"idPostTimeLapseID","section"],["barraRating",""],[1,"botoVotar"],[1,"boto","botoPrincipal","botoPetit",3,"disabled","click"],"Votar"]},template:function(t,e){1&t&&(f["\u0275\u0275template"](0,_,5,3,"div",0),f["\u0275\u0275template"](1,k,3,1,"div",1)),2&t&&(f["\u0275\u0275property"]("ngForOf",null==e.valoracio?null:e.valoracio.sections),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.mostrarBotoVotar()))},directives:[x.NgForOf,x.NgIf,y],styles:["*[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.criteri[_ngcontent-%COMP%]   .textCriteri[_ngcontent-%COMP%]{margin:auto;padding:0 15px}.botoVotar[_ngcontent-%COMP%]{text-align:center;margin:10px 20px 20px}"]}),e}(),R=s(5641),V=["commentsComponent"],S=["ratingComponent"],E=["post"],T=["swiper"],U=["moreModal"];function A(t,e){if(1&t){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"img",32),f["\u0275\u0275listener"]("error",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().$implicit.url="assets/in2art/imatges/noImageBig.png"}),f["\u0275\u0275elementEnd"]()}if(2&t){var o=f["\u0275\u0275nextContext"]().$implicit,i=f["\u0275\u0275nextContext"](3);f["\u0275\u0275property"]("src",i.prepareLink(o)||o.url,f["\u0275\u0275sanitizeUrl"])("alt",i.alt)}}function z(t,e){1&t&&(f["\u0275\u0275elementStart"](0,"div",30),f["\u0275\u0275template"](1,A,1,2,"img",31),f["\u0275\u0275elementEnd"]()),2&t&&(f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!0))}function D(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275template"](1,z,2,1,"div",29),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",n.p.files)}}function B(t,e){if(1&t){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"img",32),f["\u0275\u0275listener"]("error",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().$implicit.url="assets/in2art/imatges/noImageBig.png"}),f["\u0275\u0275elementEnd"]()}if(2&t){var o=f["\u0275\u0275nextContext"]().$implicit,i=f["\u0275\u0275nextContext"](3);f["\u0275\u0275property"]("src",o.blob||o.url,f["\u0275\u0275sanitizeUrl"])("alt",i.alt)}}function L(t,e){1&t&&(f["\u0275\u0275elementStart"](0,"div",30),f["\u0275\u0275template"](1,B,1,2,"img",31),f["\u0275\u0275elementEnd"]()),2&t&&(f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!0))}function G(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275template"](1,L,2,1,"div",29),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",n.p.content)}}function F(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"div",33),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"]((null==n.ratingComponent||null==n.ratingComponent.globalRating?null:n.ratingComponent.globalRating.toFixed(0))||"~")}}function N(t,e){1&t&&(f["\u0275\u0275elementStart"](0,"div",33),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&t&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"]("~"))}function j(t,e){if(1&t&&f["\u0275\u0275element"](0,"app-user-info",34),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275property"]("user",n.getProfileType(n.p.community))}}function Q(t,e){if(1&t&&f["\u0275\u0275element"](0,"app-user-info",34),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275property"]("user",n.main.currentUser)}}function q(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"p",35),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](n.p.title)}}function $(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"p",36),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](n.p.dateMaco)}}function W(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"p",36),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"]("Unknown",n.p.dateMaco,"")}}function J(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"p",36),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate2"]("",n.p.author,"",n.p.dateMaco,"")}}function X(t,e){if(1&t){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",39),f["\u0275\u0275listener"]("click",function(){var t=f["\u0275\u0275restoreView"](n).$implicit;return f["\u0275\u0275nextContext"](3).main.goToMedium(t.text)}),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()}if(2&t){var o=e.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](o.text)}}function Z(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"div",37),f["\u0275\u0275template"](1,X,2,1,"button",38),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",n.p.mediums)}}function H(t,e){if(1&t){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",42),f["\u0275\u0275listener"]("click",function(){var t=f["\u0275\u0275restoreView"](n).$implicit;return f["\u0275\u0275nextContext"](3).main.goToMovement(t.text)}),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()}if(2&t){var o=e.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](o.text)}}function Y(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"div",40),f["\u0275\u0275template"](1,H,2,1,"button",41),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",n.p.movements)}}function K(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"p",43),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](n.p.dimensions)}}function tt(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"p",44),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](n.p.technique)}}function et(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"p",45),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](n.p.priceCurrency)}}function nt(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"p",46),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](n.p.description)}}function ot(t,e){if(1&t){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",49),f["\u0275\u0275listener"]("click",function(){var t=f["\u0275\u0275restoreView"](n).$implicit;return f["\u0275\u0275nextContext"](3).main.goToTag(t.text)}),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()}if(2&t){var o=e.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"]("#",o.text,"")}}function it(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"div",47),f["\u0275\u0275template"](1,ot,2,1,"button",48),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",n.p.tags)}}function rt(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"div",50),f["\u0275\u0275element"](1,"app-rating",51,52),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("idPostTimeLapseID",n.p.postTimelapseId)}}function at(t,e){if(1&t){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",3,4),f["\u0275\u0275template"](2,D,2,1,"div",5),f["\u0275\u0275template"](3,G,2,1,"div",5),f["\u0275\u0275elementStart"](4,"div",6),f["\u0275\u0275listener"]("dblclick",function(){f["\u0275\u0275restoreView"](n);var t=f["\u0275\u0275nextContext"]();return t.main.logDebug(t)}),f["\u0275\u0275elementStart"](5,"div",7),f["\u0275\u0275elementStart"](6,"button",8),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().botoView_click()}),f["\u0275\u0275element"](7,"img",9),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](8,"button",10),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().openMoreModal()}),f["\u0275\u0275element"](9,"img",11),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](10,"div",12),f["\u0275\u0275elementStart"](11,"button",13),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().botoRating_click()}),f["\u0275\u0275elementStart"](12,"div",14),f["\u0275\u0275i18n"](13,15),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](14,F,2,1,"div",16),f["\u0275\u0275template"](15,N,2,1,"div",16),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](16,"div",17),f["\u0275\u0275elementStart"](17,"div"),f["\u0275\u0275template"](18,j,1,1,"app-user-info",18),f["\u0275\u0275template"](19,Q,1,1,"app-user-info",18),f["\u0275\u0275template"](20,q,2,1,"p",19),f["\u0275\u0275template"](21,$,2,1,"p",20),f["\u0275\u0275template"](22,W,2,1,"p",20),f["\u0275\u0275template"](23,J,2,2,"p",20),f["\u0275\u0275template"](24,Z,2,1,"div",21),f["\u0275\u0275template"](25,Y,2,1,"div",22),f["\u0275\u0275template"](26,K,2,1,"p",23),f["\u0275\u0275template"](27,tt,2,1,"p",24),f["\u0275\u0275template"](28,et,2,1,"p",25),f["\u0275\u0275template"](29,nt,2,1,"p",26),f["\u0275\u0275template"](30,it,2,1,"div",27),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](31,rt,3,1,"div",28),f["\u0275\u0275elementEnd"]()}if(2&t){var o=f["\u0275\u0275nextContext"]();f["\u0275\u0275classProp"]("preview",o.preview)("active",o.active),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",(null==o.p?null:o.p.files)&&!(null!=o.p&&o.p.content)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",(null==o.p?null:o.p.content)&&!(null!=o.p&&o.p.files)),f["\u0275\u0275advance"](11),f["\u0275\u0275property"]("ngIf",0!=(null==o.ratingComponent?null:o.ratingComponent.globalRating)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",0==(null==o.ratingComponent?null:o.ratingComponent.globalRating)),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf",(null==o.p?null:o.p.community)&&!(null!=o.p&&o.p.selfUser)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",(null==o.p?null:o.p.selfUser)&&!(null!=o.p&&o.p.community)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",o.p.title),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",1==o.p.authorType),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",2==o.p.authorType),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",3==o.p.authorType),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",o.p.mediums),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",o.p.movements),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",o.p.dimensions),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",o.p.technique),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",o.p.priceCurrency),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",o.p.description),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",o.p.tags),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!o.preview)}}function st(t,e){1&t&&(f["\u0275\u0275elementStart"](0,"div",53),f["\u0275\u0275element"](1,"app-loading"),f["\u0275\u0275elementEnd"]())}function ct(t,e){1&t&&(f["\u0275\u0275elementStart"](0,"div",54),f["\u0275\u0275i18n"](1,55),f["\u0275\u0275elementEnd"]())}v.ZP.use([v.W_,v.tl,v.LW,v.eZ]);var lt=function(){var t=function(){function t(e,n){a(this,t),this.main=e,this.route=n,this.preview=!1,this.active=!1,this.viewPostEnviat=!1,this.preparedP="http://192.168.1.136:1339/311c6497-8afb-4a18-b98a-564ff71fe4a2.jpg",this.alt="",this.autoplay=!0,this.viewOpen=!1,this.ratingOpen=!1,this.commentOpen=!1,this.loadingShared=!1,this.swipeContentPublicacioConfig={autoHeight:!0,resistanceRatio:.666,grabCursor:!1,scrollbar:{draggable:!0},threshold:10}}return c(t,[{key:"ngOnInit",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.postId,!t.t0){t.next=5;break}return t.next=4,this.main.provider.getPost(this.postId);case 4:this.p=t.sent;case 5:if(this.p){t.next=7;break}return t.abrupt("return");case 7:this.alt="".concat(this.p.title||(this.p.esObra?"Artwork":"Post")," from ").concat(this.p.author,". ").concat(this.p.description),!this.p.dateMaco&&this.p.date&&(this.p.dateMaco=new Date(this.p.date).toLocaleDateString(this.main.getLocale(),{dateStyle:"long"})),1!=this.p.authorType&&""!=this.p.dateMaco&&(this.p.dateMaco=", (".concat(this.p.dateMaco,")")),p("video").prop("muted",!0),this.marcarPostActiu(),this.reproduirVideoPostActiu(),e=this,p(window).scroll(function(){e.marcarPostActiu()}),this.route.snapshot.queryParams.comment&&this.openDivComment();case 10:case"end":return t.stop()}},t,this)}))}},{key:"prepareLink",value:function(t){return u.c.prependImagesUrl(t)}},{key:"isArtwork",value:function(t){return!!t.artist}},{key:"getProfileType",value:function(t){var e;return(null==t?void 0:t.viewer)?e="viewer":(null==t?void 0:t.artist)?e="artist":(null==t?void 0:t.collector)?e="collector":(null==t?void 0:t.admin)&&(e="admin"),t[e]}},{key:"isValidUser",value:function(t){var e,n,o,i,r,a,s=this.getProfileType(t);return!!((null===(e=null==s?void 0:s.viewer)||void 0===e?void 0:e.userProfileId)||(null===(n=null==s?void 0:s.artist)||void 0===n?void 0:n.userProfileId)||(null===(o=null==s?void 0:s.collector)||void 0===o?void 0:o.userProfileId))||!!((null===(i=null==s?void 0:s.viewer)||void 0===i?void 0:i.nickname)||(null===(r=null==s?void 0:s.artist)||void 0===r?void 0:r.nickname)||(null===(a=null==s?void 0:s.collector)||void 0===a?void 0:a.nickname))}},{key:"openDivComment",value:function(){var t=this,e=setInterval(function(){document.body.contains(document.querySelector(".divComment"))&&(clearInterval(e),t.botoComment_click(),t.findComment(t.route.snapshot.queryParams.comment))},350)}},{key:"findComment",value:function(t){var e=this,n=setInterval(function(){document.body.contains(document.getElementById("comment-".concat(t)))&&(clearInterval(n),e.checkComment(t)&&(document.getElementById("comment-".concat(t)).parentElement.parentElement.parentElement.style.display="block"),document.getElementById("comment-".concat(t)).scrollIntoView({behavior:"smooth"}),document.getElementById("comment-".concat(t)).style.background="#9929296e")},350)}},{key:"checkComment",value:function(t){return"mainComment"!=document.getElementById("comment-".concat(t)).parentNode.parentElement.className.split(" ")[0]}},{key:"botoComment_click",value:function(){this.viewOpen=!1,this.commentOpen=!this.commentOpen,this.ratingOpen=!1,this.actView(),this.actComment(),this.actRating()}},{key:"botoView_click",value:function(){this.viewOpen=!this.viewOpen,this.commentOpen=!1,this.ratingOpen=!1,this.actView(),this.actComment(),this.actRating()}},{key:"botoRating_click",value:function(){this.viewOpen=!1,this.commentOpen=!1,this.ratingOpen=!this.ratingOpen,this.actView(),this.actComment(),this.actRating()}},{key:"actComment",value:function(){var t=p(this.post.nativeElement).find(".botoComment"),e=p(this.post.nativeElement).find(".divComment");t.attr("data-open",this.commentOpen),this.commentOpen?e.slideDown(300):e.slideUp(300)}},{key:"actView",value:function(){var t=p(this.post.nativeElement).find(".botoView"),e=p(this.post.nativeElement).find(".divInfo");t.attr("data-open",this.viewOpen),this.viewOpen?e.slideDown(300):e.slideUp(300)}},{key:"actRating",value:function(){var t=p(this.post.nativeElement).find(".botoRating"),e=p(this.post.nativeElement).find(".divRating");t.attr("data-open",this.ratingOpen),this.ratingOpen?e.slideDown(300):e.slideUp(300)}},{key:"marcarPostActiu",value:function(){var t,e=p("swiper.swipeContentPublicacio:in-viewport").first();if(e.length){this.swiperActiu=e[0].swiper;var n=e.parents(".post");this.active=n[0]==(null===(t=this.post)||void 0===t?void 0:t.nativeElement),this.active&&(this.enviarViewPost(),this.reproduirVideoPostActiu())}}},{key:"getURLPost",value:function(){}},{key:"enviarViewPost",value:function(){this.viewPostEnviat||(this.main.provider.viewPost(this.p.idPost),this.viewPostEnviat=!0)}},{key:"reproduirVideoPostActiu",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=p(".post.active .swipeContentPublicacio .swiper-slide.swiper-slide-active video").first(),t.t0=e.length,!t.t0){t.next=5;break}return t.next=5,e[0].play();case 5:this.pausaAltresVideos(e);case 6:case"end":return t.stop()}},t,this)}))}},{key:"reproduirVideoAquestSlide",value:function(t){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.autoplay){e.next=7;break}if(n=p(t.slides).filter(".swiper-slide.swiper-slide-active").find("video").first(),e.t0=n.length,!e.t0){e.next=6;break}return e.next=6,n[0].play();case 6:this.pausaAltresVideos(n);case 7:case"end":return e.stop()}},e,this)}))}},{key:"video_click",value:function(t){p(t).prop("paused")?this.autoplay||(this.autoplay=!0):this.autoplay=!this.autoplay,this.playPauseVideo(t),this.pausaAltresVideos(t)}},{key:"playPauseVideo",value:function(t){p(t).trigger(p(t).prop("paused")?"play":"pause")}},{key:"pausaAltresVideos",value:function(t){p(".post .swiper-slide video").not(t).trigger("pause")}},{key:"openMoreModal",value:function(){var t=this,e={accio:function(){t.main.notInMyBeta()},img:"assets/in2art/icones/view-collection.svg",text:this.main.t("View collection"),class:"view"},n={accio:function(){t.main.notInMyBeta()},img:"assets/in2art/icones/save.svg",text:this.main.t("Save"),class:"save"},o={img:"assets/in2art/icones/share.svg",text:this.main.t("Share"),class:"share"},i={accio:function(){t.closeMoreModal(),t.main.copy(t.main.urlBase+"/post/"+t.p.idPost)},img:"assets/in2art/icones/link.svg",text:this.main.t("Copy URL"),class:"copy"},r={accio:function(){t.closeMoreModal(),t.main.modalReport.openModal(t.p.idPost,1)},img:"assets/in2art/icones/report.svg",text:this.main.t("Report"),class:"report"},a=[e,n,o];window.isSecureContext&&a.push(i),this.main.currentUser.username!=this.p.user.username&&a.push(r),this.main.modalOptions.openModal(a)}},{key:"closeMoreModal",value:function(){this.main.modalOptions.closeModal()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f["\u0275\u0275directiveInject"](h.J),f["\u0275\u0275directiveInject"](b.gz))},t.\u0275cmp=f["\u0275\u0275defineComponent"]({type:t,selectors:[["app-publicacio"]],viewQuery:function(t,e){var n;(1&t&&(f["\u0275\u0275viewQuery"](V,5),f["\u0275\u0275viewQuery"](S,5),f["\u0275\u0275viewQuery"](E,5),f["\u0275\u0275viewQuery"](T,5),f["\u0275\u0275viewQuery"](U,5)),2&t)&&(f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(e.commentsComponent=n.first),f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(e.ratingComponent=n.first),f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(e.post=n.first),f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(e.swiper=n.first),f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(e.moreModal=n.first))},inputs:{postId:"postId",p:"p",idObra:"idObra",preview:"preview"},decls:3,vars:3,consts:function(){return[["class","post",3,"preview","active",4,"ngIf"],["class","carregant",4,"ngIf"],["class","p-4 fs-2 align-center",4,"ngIf"],[1,"post"],["post",""],[4,"ngIf"],[1,"botons","row","no-gutters",3,"dblclick"],[1,"col-5","col-sm-3","row","no-gutters",2,"height","100%"],[1,"col-4","col-sm-4","boto","botoView",3,"click"],["src","assets/in2art/icones/View.svg","alt","View"],[1,"col-4","col-sm-4","boto","botoMore",3,"click"],["src","assets/in2art/icones/More.svg","alt","More"],[1,"col-4","col-sm-7","divBotoRating"],[1,"botoRating","boto","botoPrincipal",3,"click"],[1,"text"],"Votar",["class","puntuacio",4,"ngIf"],[1,"divInfo",2,"display","none"],[3,"user",4,"ngIf"],["class","title",4,"ngIf"],["class","authorAndDate",4,"ngIf"],["class","divMediums",4,"ngIf"],["class","divMovements",4,"ngIf"],["class","dimensions",4,"ngIf"],["class","technique",4,"ngIf"],["class","price",4,"ngIf"],["class","description",4,"ngIf"],["class","divTags",4,"ngIf"],["class","divRating nodrag noselect","style","display: none;",4,"ngIf"],["class","filesImage",4,"ngFor","ngForOf"],[1,"filesImage"],["class","media-content",3,"src","alt","error",4,"ngIf"],[1,"media-content",3,"src","alt","error"],[1,"puntuacio"],[3,"user"],[1,"title"],[1,"authorAndDate"],[1,"divMediums"],["class","boto botoSecundari botoMedium",3,"click",4,"ngFor","ngForOf"],[1,"boto","botoSecundari","botoMedium",3,"click"],[1,"divMovements"],["class","boto botoSecundari botoMovement",3,"click",4,"ngFor","ngForOf"],[1,"boto","botoSecundari","botoMovement",3,"click"],[1,"dimensions"],[1,"technique"],[1,"price"],[1,"description"],[1,"divTags"],["class","boto botoTag",3,"click",4,"ngFor","ngForOf"],[1,"boto","botoTag",3,"click"],[1,"divRating","nodrag","noselect",2,"display","none"],[3,"idPostTimeLapseID"],["ratingComponent",""],[1,"carregant"],[1,"p-4","fs-2","align-center"],"No se ha encontrado ninguna publicaci\xF3n/obra de arte\n"]},template:function(t,e){1&t&&(f["\u0275\u0275template"](0,at,32,22,"div",0),f["\u0275\u0275template"](1,st,2,0,"div",1),f["\u0275\u0275template"](2,ct,2,0,"div",2)),2&t&&(f["\u0275\u0275property"]("ngIf",e.p&&0!=e.p.files),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",void 0===e.p),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",null===e.p))},directives:[x.NgIf,x.NgForOf,C.M,I,R.N],styles:[".post.preview .botoComment,   .post.preview .botoMedium,   .post.preview .botoMore,   .post.preview .botoMovement,   .post.preview .botoRating,   .post.preview .botoTag,   .post.preview app-user-info .boto.usuari{pointer-events:none}.post[_ngcontent-%COMP%]{background-color:var(--color-fons-card);border:var(--border-card);box-shadow:0 19px 38px rgba(0,0,0,.3),0 15px 12px rgba(0,0,0,.22);box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);border-radius:0;margin:0 auto;overflow:hidden;text-align:left}.post[_ngcontent-%COMP%]   .filesImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;-o-object-fit:cover;object-fit:cover;margin-left:auto;margin-right:auto;display:block}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]{height:50px;border-top:var(--border-card)}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .divRating[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoComment[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoMore[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoView[_ngcontent-%COMP%]{border:none;background:none;height:100%}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .divRating[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoComment[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoMore[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoView[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{pointer-events:none;height:80%;width:45%}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoView[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotateX(0);transition:transform .3s linear}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoView[data-open=true][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotateX(180deg)}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   button.botoMore[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60%}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .divBotoRating[_ngcontent-%COMP%]   button.botoRating[_ngcontent-%COMP%]{display:inline-flex;border-radius:50px;padding:0;margin-top:9px;margin-left:15px;font-size:1rem}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .divBotoRating[_ngcontent-%COMP%]   button.botoRating[_ngcontent-%COMP%]   div.text[_ngcontent-%COMP%]{font-size:inherit;margin:auto 3px auto 9px}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .divBotoRating[_ngcontent-%COMP%]   button.botoRating[_ngcontent-%COMP%]   div.puntuacio[_ngcontent-%COMP%]{overflow:hidden;font-size:inherit;background-color:var(--color-fons-card);color:var(--color-text);border-radius:20px;margin:4px;height:24px;width:38px}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   div.botonsSlider[_ngcontent-%COMP%]{height:100%}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   div.botonsSlider[_ngcontent-%COMP%]   .botoSlider[_ngcontent-%COMP%]{border:none;background:none;height:100%}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   div.botonsSlider[_ngcontent-%COMP%]   .botoSlider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{pointer-events:none;height:50%;width:70%}.post[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   div.botonsSlider[_ngcontent-%COMP%]   .botoSlider[_ngcontent-%COMP%]:disabled{opacity:0}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]{padding:20px;text-align:left}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   app-user-info[_ngcontent-%COMP%]{display:flex;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;background:var(--color-fons-card-2);border:var(--border-card);border-radius:50px;margin:0 auto 1rem 0;transition:all .2s}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:30px}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .authorAndDate[_ngcontent-%COMP%]{font-size:20px}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .divMediums[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .divMovements[_ngcontent-%COMP%]{margin-bottom:1rem}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .divMediums[_ngcontent-%COMP%]   .botoMedium[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .divMediums[_ngcontent-%COMP%]   .botoMovement[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .divMovements[_ngcontent-%COMP%]   .botoMedium[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .divMovements[_ngcontent-%COMP%]   .botoMovement[_ngcontent-%COMP%]{margin:0 10px 5px 0}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-weight:700;color:#b20}.post[_ngcontent-%COMP%]   .divInfo[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{white-space:pre-line;color:gray;font-size:17px}[_nghost-%COMP%]     .post swiper .media-content{width:100%;max-height:80vh;-o-object-fit:contain;object-fit:contain;display:block;margin:auto}[_nghost-%COMP%]     .post swiper .swiper-scrollbar{width:100%;left:0;bottom:0;height:3px;border-radius:10px;background:#0002}[_nghost-%COMP%]     .post swiper .swiper-scrollbar .swiper-scrollbar-drag{border-radius:10px;background:var(--color-text)}"]}),t}()},7676:function(t,e,n){"use strict";n.d(e,{M:function(){return x}});var s=n(4762),l=n(8816),u=n(5366),p=n(2927),d=n(1116),g=n(1995);function m(t,e){if(1&t){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",2),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275nextContext"]();return t.main.goTo(t.user.nickname)}),u["\u0275\u0275element"](1,"app-foto-perfil",3),u["\u0275\u0275elementStart"](2,"div",4),u["\u0275\u0275elementStart"](3,"div",5),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div",6),u["\u0275\u0275text"](6),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&t){var o=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("user",o.user),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate2"]("",o.user.name," ",o.user.lastName,""),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("@",o.user.nickname,"")}}function v(t,e){1&t&&(u["\u0275\u0275elementStart"](0,"div",7),u["\u0275\u0275i18n"](1,8),u["\u0275\u0275elementEnd"]())}function f(t,e){if(1&t&&(u["\u0275\u0275elementStart"](0,"div",6),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&t){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"]("@",n.user.nickname,"")}}function h(t,e){if(1&t){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",2),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275nextContext"]();return t.main.goTo(t.user.nickname)}),u["\u0275\u0275element"](1,"app-foto-perfil",3),u["\u0275\u0275elementStart"](2,"div",4),u["\u0275\u0275elementStart"](3,"div",5),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](5,f,2,1,"div",9),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&t){var o=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("user",o.user),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate2"]("",o.user.name," ",o.user.lastName,""),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!(null!=o.user&&o.user.anonNickname))}}function b(t,e){1&t&&(u["\u0275\u0275elementStart"](0,"div",7),u["\u0275\u0275i18n"](1,10),u["\u0275\u0275elementEnd"]())}var x=function(){var t=function(){function t(e){a(this,t),this.main=e,this.utils=l.c,this.isAnonUser=!1,this.anonUser={name:"Anonymous",lastName:"",anonNickname:"Anonymous",photo:"assets/in2art/imatges/profileDefaultSolidGray.png"}}return c(t,[{key:"ngOnInit",value:function(){var t,e;return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("Anonymous"==(null===(t=this.user)||void 0===t?void 0:t.username)||!(null===(e=this.user)||void 0===e?void 0:e.profile)){n.next=18;break}if(n.t0=this.id,!n.t0){n.next=6;break}return n.next=5,this.main.provider.getUserById(this.id);case 5:this.user=n.sent;case 6:if(n.t1=this.username,!n.t1){n.next=11;break}return n.next=10,this.main.provider.getUserByUsername(this.username);case 10:this.user=n.sent;case 11:if(n.t2=this.user,!n.t2){n.next=16;break}return n.next=15,this.main.provider.getUserById(this.user.userProfileId);case 15:this.user=n.sent;case 16:n.next=19;break;case 18:null!=this.user&&null!=this.user||(this.isAnonUser=!0,this.user=this.anonUser);case 19:case"end":return n.stop()}},n,this)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u["\u0275\u0275directiveInject"](p.J))},t.\u0275cmp=u["\u0275\u0275defineComponent"]({type:t,selectors:[["app-user-info"]],inputs:{id:"id",username:"username",user:"user"},decls:4,vars:4,consts:function(){return[["class","boto botoGeneric usuari",3,"click",4,"ngIf"],["class","loading",4,"ngIf"],[1,"boto","botoGeneric","usuari",3,"click"],[3,"user"],[1,"textosUsuari"],[1,"nom"],[1,"username"],[1,"loading"],"Cargando...",["class","username",4,"ngIf"],"Cargando..."]},template:function(t,e){1&t&&(u["\u0275\u0275template"](0,m,7,4,"button",0),u["\u0275\u0275template"](1,v,2,0,"div",1),u["\u0275\u0275template"](2,h,6,4,"button",0),u["\u0275\u0275template"](3,b,2,0,"div",1)),2&t&&(u["\u0275\u0275property"]("ngIf",!e.anonUser),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!e.user),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",e.anonUser),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!e.user))},directives:[d.NgIf,g.d],styles:[".usuari[_ngcontent-%COMP%]{background-color:transparent;height:6rem;padding:1rem;border-radius:inherit;display:inline-flex}.usuari[_ngcontent-%COMP%]   app-foto-perfil[_ngcontent-%COMP%]{height:100%}.usuari[_ngcontent-%COMP%]   .textosUsuari[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.usuari[_ngcontent-%COMP%]   .textosUsuari[_ngcontent-%COMP%]   .nom[_ngcontent-%COMP%]{font-size:1.4rem}.usuari[_ngcontent-%COMP%]   .textosUsuari[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:1rem;color:gray}.loading[_ngcontent-%COMP%]{line-height:6rem;font-size:1.2rem;padding:0 20px;font-weight:700;-webkit-animation:loadingText 1s ease infinite alternate;animation:loadingText 1s ease infinite alternate}@-webkit-keyframes loadingText{0%{color:var(--color-text)}to{color:gray}}@keyframes loadingText{0%{color:var(--color-text)}to{color:gray}}"]}),t}()}}])}();