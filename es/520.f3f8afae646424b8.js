"use strict";(self.webpackChunkspace=self.webpackChunkspace||[]).push([[520],{1520:(_e,b,c)=>{c.r(b),c.d(b,{SalaModule:()=>ge});var u=c(6895),P=c(6272),l=c(9671),m=c(7801),p=c(4434),O=c(2503),f=c(3563),I=c(2474),h=c(6892);class L extends O.X{constructor(n){super(),this.postIds=n.map(t=>new f.r(t))}check(){let n=new Map;return this.postIds.some(t=>!t.isOk())&&n.set("postIds","postIds must be valid"),n}}var T=c(1250),w=c(1673);class s extends O.X{constructor({id:n,postId:t,post:r,price:o,afterChrist:i,artistTypeId:d,dateFormatTypeId:g,date:_,isDraft:me,languages:R}){super(),this.id=n?n instanceof f.r?n:new f.r(n.toString()):null,this.postId=t?t instanceof f.r?t:new f.r(t.toString()):null,this.post=r?r instanceof I.SO?r:new I.SO(r):null,this.price=o||null,this.afterChrist=i,this.artistTypeId=null==d?null:d instanceof f.r?d:new f.r(d.toString()),this.dateFormatTypeId=g?new f.r(g.toString()):null,this.date=_?_ instanceof Date?_:new Date(_):null,this.isDraft=me,this.languages=R?R.map(k=>k instanceof T.Z?k:new T.Z(k)):[]}check(){let n=new Map;return this.id&&!this.id.isOk()&&n.set("id","id is not valid"),this.postId&&!this.postId.isOk()&&n.set("postId","postId is not valid"),this.post&&!this.post.isOk()&&n.set("post","post is not valid"),!this.postId&&!this.post&&(n.set("post","post is necessary or postId"),n.set("postId","postId is necessary or post")),this.price&&this.price<0&&n.set("price","price must be greater than 0"),this.artistTypeId&&!this.artistTypeId.isOk()&&n.set("artistTypeId","artistTypeId is not valid"),this.dateFormatTypeId&&!this.dateFormatTypeId.isOk()&&n.set("dateFormatTypeId","dateFormatTypeId is not valid"),this.dateFormatTypeId&&!this.date&&n.set("date","date is necessary"),this.languages&&0!==this.languages.length?this.languages.some(t=>!t.isOk())&&n.set("languages","languages must be valid"):n.set("languages","languages must have at least one language"),n}static get UrlRel(){return"Artworks"}static get UrlRelPost(){return p.y.join(s.UrlRel,"Post")}static get UrlRelPostRelated(){return p.y.join(s.UrlRel,"PostRelated")}static get UrlRelAll(){return p.y.join(s.UrlRel,"all")}static get UrlRelDraft(){return p.y.join(s.UrlRel,"isDraft")}static get UrlRelFilter(){return p.y.join(s.UrlRel,"filter")}static getAll(){return(0,l.Z)(function*(){return m.V0.get(s.UrlRelAll,!0,w.c.getNewInstanceArray)})()}static getAllDrafts(){return(0,l.Z)(function*(){return m.V0.get(p.y.join(s.UrlRelAll,"drafts"),!0,w.c.getNewInstanceArray)})()}static getAllByUserId(n){return(0,l.Z)(function*(){return m.V0.get(p.y.join(s.UrlRelAll,"user",n),!0,w.c.getNewInstanceArray)})()}static getAllByUserProfileId(n){return(0,l.Z)(function*(){return m.V0.get(p.y.join(s.UrlRelAll,"userProfile",n),!0,w.c.getNewInstanceArray)})()}static getAllByNickname(n){return(0,l.Z)(function*(){return m.V0.get(p.y.join(s.UrlRelAll,"nickname",n),!0,w.c.getNewInstanceArray)})()}static getAllPostRelatedById(n){return(0,l.Z)(function*(){return m.V0.get(p.y.join(s.UrlRelPostRelated,n),!0,w.c.getNewInstanceArray)})()}static getById(n){return(0,l.Z)(function*(){return yield m.V0.get(p.y.join(s.UrlRel,n),!0,w.c.getNewInstance)})()}static getByTimelapseId(n){return(0,l.Z)(function*(){return yield m.V0.get(p.y.join(s.UrlRel,"timelapse",n),!0,w.c.getNewInstance)})()}static post(n,t){return(0,l.Z)(function*(){return t instanceof s||(t=new s(t)),m.V0.post(p.y.join(s.UrlRel,n),t,!0,h.t.getNewInstance)})()}static put(n){return(0,l.Z)(function*(){if(n instanceof s||(n=new s(n)),!n.id||!n.id.value)throw new O.G(new Map([["id","id is required"]]));return m.V0.put(p.y.join(s.UrlRel,n.id),n,!0,h.t.getNewInstance)})()}static setDraft(n){return(0,l.Z)(function*(){return m.V0.patch(p.y.join(s.UrlRelDraft,n),null,!0,h.t.getNewInstance)})()}static deleteDraft(n){return(0,l.Z)(function*(){return m.V0.delete(p.y.join(s.UrlRelDraft,n),!0,h.t.getNewInstance)})()}static delete(n){return(0,l.Z)(function*(){return m.V0.delete(p.y.join(s.UrlRel,n),!0,h.t.getNewInstance)})()}static filterOnlyArtwork(n){return(0,l.Z)(function*(){let t=new L(n.map(o=>o?.toString()));if(t.check().size>0)throw new O.G(new Map([["postIds","FilterOnlyArtworkDTO is not valid"]]));return m.V0.post(p.y.join(s.UrlRelFilter,"onlyArtworks"),t,!0,h.t.getNewInstanceArray)})()}}class x{constructor(n,t,r,o,i,d,g,_){this.createdAt=n,this.date=t,this.nickname=r,this.pictureURL=o,this.title=i,this.history=g,this.artworkId=d,this.views=_}}var e=c(4650),v=c(6358),S=c(7753),C=c(4006),N=c(3989),y=c(4971),M=c(7340),A=c(9485);let F=(()=>{class a{constructor(){this.artworks=[],this.pageSize=8,this.pages=new Map,this.currentPage=1}ngOnInit(){this.createPages()}createPages(){var t=this;return(0,l.Z)(function*(){yield t.getObjects(),yield t.paginateObjects(),yield t.prepareObjects()})()}prepareObjects(){var t=this;return(0,l.Z)(function*(){const r=Math.ceil(t.artworks.length/t.pageSize);for(let o=0;o<r;o++){const i=o*t.pageSize,g=t.artworks.slice(i,i+t.pageSize);t.pages.set(o,g)}console.log("Pages: ",t.pages)})()}paginateObjects(){var t=this;return(0,l.Z)(function*(){console.log("Artworks: ",t.artworks);const o=(t.currentPage-1)*t.pageSize;t.items=t.artworks.slice(o,o+t.pageSize),console.log("Items: ",t.items)})()}getPageArray(){const t=Math.ceil(this.artworks.length/this.pageSize);return Array(t).fill(0).map((r,o)=>o+1)}itemsForPage(t){const r=(t-1)*this.pageSize;return this.artworks.slice(r,r+this.pageSize)}previousPage(){this.currentPage>1&&(this.currentPage--,this.paginateObjects())}nextPage(){const r=Math.ceil(this.artworks.length/this.pageSize);this.currentPage<r&&(this.currentPage++,this.paginateObjects())}getObjects(){var t=this;return(0,l.Z)(function*(){const r=yield s.getAll();console.log("Res from petition",r.result);for(const o of r.result){const i=o.postTimelapse,g=(yield i.post.getLanguage("en"))?.title.slice(0,15),_=new x(i.createdAt.toString(),o.date,o.community?.nickname,o.postTimelapse.post.files[0].path,g,o.artworkId);t.artworks.push(_)}})()}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-pagination"]],inputs:{pageSize:"pageSize"},decls:0,vars:0,template:function(t,r){}}),a})();const B=["modalNewsala"],D=["locateModal"],$=["swiperElement1"];function z(a,n){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2),i=o.$implicit,d=o.index,g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.unSelectArtwork(i,d))}),e.\u0275\u0275elementStart(1,"h2",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()}if(2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275styleMapInterpolate1("background-image: url(",t.pictureURL,");"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.title)}}function j(a,n){if(1&a&&e.\u0275\u0275template(0,z,3,4,"div",15),2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngIf",t.pictureURL)}}function G(a,n){1&a&&e.\u0275\u0275template(0,j,1,1,"ng-template",14)}function U(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"swiper",12),e.\u0275\u0275template(1,G,1,0,null,13),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("config",t.configSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.selectedArtworks)}}let V=(()=>{class a{constructor(t,r){this.main=t,this.modalService=r,this.pageSize=8,this.currentPage=1,this.artworks=[],this.selectedArtworks=[],this.configSelect={spaceBetween:40,slidesPerView:4,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},modules:[y.rj]},this.configSelected={spaceBetween:30,slidesPerView:4,updateOnImagesReady:!0}}ngOnInit(){return(0,l.Z)(function*(){})()}openArtworkModal(){this.modalService.open(this.locateModal,{size:"lg",backdropClass:"modal-backdrop",hideCloseButton:!0,centered:!0,backdrop:!0,animation:!0,keyboard:!0,closeOnOutsideClick:!0})}closeModal(){try{this.modalService.close(this.locateModal)}catch{}}hoverArtwork(t){-1===this.selectedArtworks.findIndex(o=>o.artworkId.value===t.artworkId.value)?(this.selectedArtworks.push(t),this.swiperComponent.swiperRef.update(),console.log("Artwork: ",t)):this.main.toastDanger("Duplicated Artwork! This artwork is already selected")}unSelectArtwork(t,r){let o=0;this.selectedArtworks.forEach(i=>{if(i.nickname===t.nickname&&i.pictureURL===t.pictureURL)return this.selectedArtworks.splice(o,1),void this.swiperComponent.swiperRef.removeSlide(r);o++})}saveSwiper(){this.closeModal()}cancelSwiper(){this.selectedArtworks=[],this.swiperComponent.swiperRef.removeAllSlides(),this.swiperComponent.swiperRef.update(),this.closeModal()}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(v.J),e.\u0275\u0275directiveInject(S.gk))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-modal-newsala"]],viewQuery:function(t,r){if(1&t&&(e.\u0275\u0275viewQuery(B,5),e.\u0275\u0275viewQuery(D,5),e.\u0275\u0275viewQuery($,5)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(r.modalnewsala=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(r.locateModal=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(r.swiperComponent=o.first)}},inputs:{artworks:"artworks"},decls:19,vars:2,consts:function(){let n,t;return n="Guardar",t="Cancelar",[[1,"modal-locate"],["locateModal",""],[1,"close",3,"click"],[1,"title"],[3,"pageSize"],[1,"selectedTxt"],["swiperSelected","","class","swiperSelected",3,"config",4,"ngIf"],[1,"col-sm"],[1,"saveBtn","boing",3,"click"],n,[1,"cancelBtn","boing",3,"click"],t,["swiperSelected","",1,"swiperSelected",3,"config"],[4,"ngFor","ngForOf"],["swiperSlide","","class","swiper-container"],["class","artworkImg boing swiper-slider",3,"style","click",4,"ngIf"],[1,"artworkImg","boing","swiper-slider",3,"click"],[1,"spaceTxt"]]},template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"modal",0,1)(2,"modal-header")(3,"button",2),e.\u0275\u0275listener("click",function(){return r.closeModal()}),e.\u0275\u0275text(4,"X"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"h1",3),e.\u0275\u0275text(6,"Select the artworks you want to add"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"modal-content"),e.\u0275\u0275element(8,"app-pagination",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"modal-content")(10,"div",5),e.\u0275\u0275text(11,"Selected Artworks"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,U,2,2,"swiper",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"modal-footer")(14,"div",7)(15,"button",8),e.\u0275\u0275listener("click",function(){return r.saveSwiper()}),e.\u0275\u0275i18n(16,9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"button",10),e.\u0275\u0275listener("click",function(){return r.cancelSwiper()}),e.\u0275\u0275i18n(18,11),e.\u0275\u0275elementEnd()()()()),2&t&&(e.\u0275\u0275advance(8),e.\u0275\u0275property("pageSize",8),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",r.selectedArtworks))},dependencies:[u.NgForOf,u.NgIf,A.nF,A.YC,S.zS,S.YI,S.Ef,S.Rb,F],styles:[".modal-locate .modal-header{font-size:30px;border-bottom:var(--border-card)}  .modal-locate .modal-header modal-header{width:100%}  .modal-locate .modal-header h1.title{color:#fff;margin-top:35px;font-size:2rem;font-weight:700;text-align:center}  .modal-locate .modal-header button.close{color:var(--color-text);background-color:red;width:50px;height:35px;border-radius:40px;border:0px;float:right}  .modal-locate .modal-content{background-color:var(--color-fons-card);border:var(--border-card);border-radius:20px;overflow:hidden}  .modal-locate .modal-content modal-content{width:800px}  .modal-locate .modal-content .swiperSelect{margin-top:30px;width:70%;height:600px;width:800px}  .modal-locate .modal-content .swiperSelect .swiper-container{height:auto;margin-left:auto;margin-right:auto}  .modal-locate .modal-content .swiperSelect .artworkImg{border:0px;text-align:center;font-size:18px;margin:10px;background-color:#fff;height:150px;width:100%;display:flex;justify-content:center;align-items:center;background-size:cover;background-position:center;transition:background-color .5s}  .modal-locate .modal-content .swiperSelect .artworkImg h2{position:absolute;top:90%;left:50%;font-size:.8rem;transform:translate(-50%,-50%);border:0px solid;z-index:2;padding:10px;text-align:center;-webkit-backdrop-filter:blur(10px) brightness(.5);backdrop-filter:blur(10px) brightness(.5);color:#fff;width:100%}  .modal-locate .modal-content .swiperSelect .artworkImg:hover{transform:scale(1.2);cursor:pointer;border:5px green}  .modal-locate .modal-content .selectedTxt{color:#fff;position:relative;font-weight:700;font-size:1.5rem}  .modal-locate .modal-content .swiperSelected{margin-top:20px;width:calc(100% - 30px);height:150px;width:100%}  .modal-locate .modal-content .swiperSelected .swiper-container{width:150px;height:auto;margin-left:auto;margin-right:auto}  .modal-locate .modal-content .swiperSelected .artworkImg{border:0px;text-align:center;font-size:18px;margin:10px;background:#fff;height:150px;width:100%;display:flex;justify-content:center;align-items:center;background-size:cover;background-position:center;transition:background-color .5s}  .modal-locate .modal-content .swiperSelected .artworkImg h2{position:absolute;top:90%;left:50%;font-size:.8rem;transform:translate(-50%,-50%);border:0px solid;z-index:2;padding:10px;text-align:center;-webkit-backdrop-filter:blur(10px) brightness(.5);backdrop-filter:blur(10px) brightness(.5);color:#fff;width:100%}  .modal-locate .modal-content .swiperSelected .artworkImg:hover{transform:scale(1.2);cursor:pointer;border:5px green}  .modal-locate .modal-content input[type=file]{color:var(--color-text)}  .modal-locate .modal-footer{border-top:var(--border-card)}  .modal-locate .modal-footer .controlBtnFooter .saveBtn{display:flex;background-color:#c8d3d9;color:#000;width:140px;height:40px;font-size:1rem;border:none;border-radius:30px;margin-right:20px;justify-content:center;margin-left:20px;align-items:center}  .modal-locate .modal-footer .controlBtnFooter .cancelBtn{display:flex;background-color:#909293;color:#fff;width:140px;height:40px;font-size:1rem;border:none;border-radius:30px;justify-content:center;align-items:center}"],data:{animation:[(0,M.X$)("fadeInAnimation",[(0,M.SB)("void",(0,M.oB)({opacity:0})),(0,M.eR)(":enter",[(0,M.jt)("0.5s",(0,M.oB)({opacity:1}))])])]}}),a})();const Z=["modalNewSala"],W=["locateArtworks"],Q=["swiperSelected"];function X(a,n){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(),i=o.$implicit,d=o.index,g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.unSelectArtwork(i,d))}),e.\u0275\u0275elementStart(1,"h2",28),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()}if(2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275styleMapInterpolate1("background-image: url(",t.pictureURL,");"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.title)}}function H(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275template(1,X,3,4,"div",26),e.\u0275\u0275elementEnd()),2&a){const t=n.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.pictureURL)}}let J=(()=>{class a{constructor(t,r){this.main=t,this.modalService=r,this.artworks=[],this.selectedArtworks=[],this.artworkMap=new Map,this.savedArtworks=!1}ngOnInit(){var t=this;return(0,l.Z)(function*(){yield t.getArtworks()})()}saveSala(){}cancelSala(){this.selectedArtworks=[]}openNewSalaModal(){this.modalNewSala.openArtworkModal()}closeModal(){try{this.modalService.close(this.locateModal)}catch{}}getArtworks(){var t=this;return(0,l.Z)(function*(){const r=yield s.getAll();for(const o of r.result){const i=o.postTimelapse,g=(yield i.post.getLanguage("en"))?.title.slice(0,15),_=new x(i.createdAt.toString(),o.date,o.community?.nickname,o.postTimelapse.post.files[0].path,g,o.artworkId);t.artworks.push(_)}})()}hoverArtwork(t){-1===this.selectedArtworks.findIndex(o=>o.artworkId.value===t.artworkId.value)?(this.selectedArtworks.push(t),this.swiperComponent.swiperRef.update(),console.log("Artwork: ",t)):this.main.toastDanger("Duplicated Artwork! This artwork is already selected")}unSelectArtwork(t,r){let o=0;this.selectedArtworks.forEach(i=>{if(i.nickname===t.nickname&&i.pictureURL===t.pictureURL)return this.selectedArtworks.splice(o,1),void this.swiperComponent.swiperRef.removeSlide(r);o++}),this.swiperComponent.swiperRef.update()}saveSwiper(){this.closeModal()}cancelSwiper(){this.selectedArtworks=[],this.swiperComponent.swiperRef.removeAllSlides(),this.swiperComponent.swiperRef.update(),this.closeModal()}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(v.J),e.\u0275\u0275directiveInject(S.gk))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-new-sala"]],viewQuery:function(t,r){if(1&t&&(e.\u0275\u0275viewQuery(Z,5),e.\u0275\u0275viewQuery(W,5),e.\u0275\u0275viewQuery(Q,5)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(r.modalNewSala=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(r.locateModal=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(r.swiperComponent=o.first)}},decls:27,vars:2,consts:function(){let n,t,r,o,i;return n="NUEVA SALA",t="Nombre",r="Ubicar Obres",o="Guardar",i="Cancelar",[[1,"content"],[1,"salaForm","row"],[1,"titleSala","col-sm","no-gutters"],n,[1,"form","row","no-gutters"],[1,"nameSala","row","no-gutters"],[1,"blankSpace","row"],[1,"blankName"],t,[1,"inputName","row"],["type","text","formControlName","salaType","placeholder","Sala Dal\xed nova, etc...",1,"form-camp"],[1,"ubicarObres"],[1,"ubicarBtn","boing",3,"click"],r,[1,"salaArtworks"],[1,"artworks"],["class","artwork",4,"ngFor","ngForOf"],[1,"btnControl","row"],[1,"col-sm","salaBtn"],[1,"saveBtn","boing"],o,[1,"cancelBtn","boing",3,"click"],i,[3,"artworks"],["modalNewSala",""],[1,"artwork"],["class","artworkImg boing",3,"style","click",4,"ngIf"],[1,"artworkImg","boing",3,"click"],[1,"spaceTxt"]]},template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-banner"),e.\u0275\u0275elementStart(2,"div",1)(3,"div",2)(4,"h1"),e.\u0275\u0275i18n(5,3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),e.\u0275\u0275i18n(10,8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",9),e.\u0275\u0275element(12,"input",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div",11)(14,"button",12),e.\u0275\u0275listener("click",function(){return r.openNewSalaModal()}),e.\u0275\u0275i18n(15,13),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"div",14)(17,"div",15),e.\u0275\u0275template(18,H,2,1,"div",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"div",17)(20,"div",18)(21,"button",19),e.\u0275\u0275i18n(22,20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"button",21),e.\u0275\u0275listener("click",function(){return r.cancelSala()}),e.\u0275\u0275i18n(24,22),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275element(25,"app-modal-newsala",23,24)),2&t&&(e.\u0275\u0275advance(18),e.\u0275\u0275property("ngForOf",r.selectedArtworks),e.\u0275\u0275advance(7),e.\u0275\u0275property("artworks",r.artworks))},dependencies:[u.NgForOf,u.NgIf,C.Fj,C.JJ,C.u,N.S,V],styles:[".salaForm[_ngcontent-%COMP%]{position:relative;top:30px}.salaForm[_ngcontent-%COMP%]   .titleSala[_ngcontent-%COMP%]{position:relative;left:32%;font-size:1.5rem;color:#fff}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .nameSala[_ngcontent-%COMP%]{position:relative;left:35%}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .nameSala[_ngcontent-%COMP%]   .blankSpace[_ngcontent-%COMP%]{width:150px;background-color:#fff;height:100%}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .nameSala[_ngcontent-%COMP%]   .blankSpace[_ngcontent-%COMP%]   .blankName[_ngcontent-%COMP%]{align-self:center;text-align-last:center}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .nameSala[_ngcontent-%COMP%]   .inputName[_ngcontent-%COMP%]{margin-left:15px;width:25%;border-radius:0}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .ubicarObres[_ngcontent-%COMP%]{position:relative;width:auto;left:39%}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .ubicarObres[_ngcontent-%COMP%]   .ubicarBtn[_ngcontent-%COMP%]{margin-top:20px;width:200px;height:40px;border-radius:30px;border:0px;background-color:gray;font-weight:700}.salaForm[_ngcontent-%COMP%]   .btnControl[_ngcontent-%COMP%]{position:relative;left:35%;margin-top:25px}.salaForm[_ngcontent-%COMP%]   .btnControl[_ngcontent-%COMP%]   .salaBtn[_ngcontent-%COMP%]{display:contents}.salaForm[_ngcontent-%COMP%]   .btnControl[_ngcontent-%COMP%]   .salaBtn[_ngcontent-%COMP%]   .cancelBtn[_ngcontent-%COMP%]{display:flex;background-color:#909293;color:#fff;width:140px;height:40px;font-size:1rem;border:none;border-radius:30px;justify-content:center;align-items:center}.salaForm[_ngcontent-%COMP%]   .btnControl[_ngcontent-%COMP%]   .salaBtn[_ngcontent-%COMP%]   .saveBtn[_ngcontent-%COMP%]{display:flex;background-color:#c8d3d9;color:#000;width:140px;height:40px;font-size:1rem;border:none;border-radius:30px;margin-right:20px;justify-content:center;margin-left:20px;align-items:center}"]}),a})();var E=c(623);const Y=["modalQR"];function K(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"div",6)(1,"div",7)(2,"div",8)(3,"a",9),e.\u0275\u0275element(4,"i",10),e.\u0275\u0275text(5," QR Code "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",11),e.\u0275\u0275element(7,"img",12),e.\u0275\u0275elementStart(8,"h2",13),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275styleMapInterpolate1("background-image: url(",t.pictureURL,");"),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(t.views)}}function q(a,n){1&a&&e.\u0275\u0275template(0,K,10,4,"ng-template",5)}function ee(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"swiper",3),e.\u0275\u0275template(1,q,1,0,null,4),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("config",t.config),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.artworks)}}function te(a,n){1&a&&e.\u0275\u0275element(0,"div",14)}let ne=(()=>{class a{constructor(t,r){this.main=t,this.route=r,this.artworks=[],this.config={direction:"vertical",spaceBetween:20,slidesPerView:4,grid:{rows:2,fill:"column"},breakpoints:{499:{slidesPerView:2,direction:"vertical",centeredSlides:!0,mousewheel:!0},480:{slidesPerView:4,direction:"horizontal"},850:{slidesPerView:4,direction:"horizontal"}},modules:[y.rj]}}ngOnInit(){var t=this;return(0,l.Z)(function*(){t.salaID=t.route.snapshot.params.id,yield t.getSalaArtworks()})()}getSalaArtworks(){var t=this;return(0,l.Z)(function*(){let r,o=new Map;yield E.lL.get(t.salaID).then(i=>{r=i.result.artworks}),r.forEach(i=>{console.log("Artwork Info: ",i),i.artwork.postTimelapse.post.languages.forEach((g,_)=>{o.set(_,g)});let d=o.entries().next().value[1].title.slice(0,15);t.artworks.push(new x(i.artwork.postTimelapse.createdAt.toString(),i.artwork.date,i.artwork.postTimelapse.community.nickname,i.artwork.postTimelapse.post.files[0].path,d,i.artwork.artworkId,null,i.views))}),console.log("Artworks info: ",t.artworks)})()}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(v.J),e.\u0275\u0275directiveInject(P.gz))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-sala"]],viewQuery:function(t,r){if(1&t&&e.\u0275\u0275viewQuery(Y,5),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(r.modalQR=o.first)}},decls:4,vars:2,consts:[[1,"content"],["swiperArtwork","","class","swiper",3,"config",4,"ngIf"],["class","noContent",4,"ngIf"],["swiperArtwork","",1,"swiper",3,"config"],[4,"ngFor","ngForOf"],["swiperSlide",""],[1,"artworkBox"],[1,"artworkImg"],[1,"box"],[1,"download-button"],[1,"fas","fa-qrcode"],[1,"viewsBox"],["src","../../../../assets/in2art/icones/profile.svg","alt","userSVG",1,"viewSVG"],[1,"viewNumber"],[1,"noContent"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-banner"),e.\u0275\u0275template(2,ee,2,2,"swiper",1),e.\u0275\u0275template(3,te,1,0,"div",2),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.artworks),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.artworks))},dependencies:[u.NgForOf,u.NgIf,A.nF,A.YC,N.S],styles:[".swiper[_ngcontent-%COMP%]{margin-top:30px;width:calc(80% - 30px);height:600px}.swiper[_ngcontent-%COMP%]   .artworkImg[_ngcontent-%COMP%]{width:250px;height:250px;margin:20px;background-color:#fff;background-position:center;background-repeat:no-repeat;background-size:cover;position:relative}.swiper[_ngcontent-%COMP%]   .artworkImg[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{width:45%;left:53%;top:84%}.swiper[_ngcontent-%COMP%]   .artworkImg[_ngcontent-%COMP%]   .viewsBox[_ngcontent-%COMP%]{width:60%;position:relative;top:100%;border:2px solid;border-color:#fff;display:flex}.swiper[_ngcontent-%COMP%]   .artworkImg[_ngcontent-%COMP%]   .viewsBox[_ngcontent-%COMP%]   .viewSVG[_ngcontent-%COMP%]{width:50px;height:40px;margin-top:5px}.swiper[_ngcontent-%COMP%]   .artworkImg[_ngcontent-%COMP%]   .viewsBox[_ngcontent-%COMP%]   .viewNumber[_ngcontent-%COMP%]{text-align:right;margin-right:10px;margin-top:10px;color:#fff}.noContent[_ngcontent-%COMP%]{color:#fff;font-weight:bolder;font-size:2rem}"]}),a})();function oe(a,n){1&a&&e.\u0275\u0275element(0,"div",18)(1,"div",19)}let re=(()=>{class a{constructor(){this.salaTime=[]}ngOnInit(){console.log("Artworks from History: ",this.artwork)}addDate(){}editDate(){}deleteDate(){}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-history"]],inputs:{artwork:"artwork"},decls:27,vars:0,consts:[[1,"container"],[1,"row","salaTitleBox"],[1,"col","txtSalas"],[1,"row","header"],[1,"col","txtHistorial"],[1,"col","orderByName"],[1,"col","orderByDate"],[1,"row","artworksData"],[1,"row","editBtnDiv"],[1,"editBtn"],[1,"row","txtStartBox"],[1,"col","txtStart"],[1,"col","txtStartDate"],[1,"row","txtEndBox"],[1,"col","txtEnd"],[1,"col","txtEndDate"],[1,"row","addBtnDiv"],[1,"addBtn"],[1,"col","titleData"],[1,"col","dateData"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),e.\u0275\u0275text(3," SALAS "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",3)(5,"div",4),e.\u0275\u0275text(6," Historial "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"div",5)(8,"div",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",7),e.\u0275\u0275template(10,oe,2,0,"ng-template"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8)(12,"button",9),e.\u0275\u0275text(13,"Editar Historial"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"div",10)(15,"div",11),e.\u0275\u0275text(16,"Inicio"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",12),e.\u0275\u0275text(18,"--/--/--"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"div",13)(20,"div",14),e.\u0275\u0275text(21,"Fin"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",15),e.\u0275\u0275text(23,"--/--/--"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",16)(25,"button",17),e.\u0275\u0275text(26,"A\xf1adir Fechas"),e.\u0275\u0275elementEnd()()())},styles:[".container[_ngcontent-%COMP%]{margin-top:30px;width:600px;height:600px}.container[_ngcontent-%COMP%]   .salaTitleBox[_ngcontent-%COMP%]{background-color:gray;width:20%;margin-bottom:3px}.container[_ngcontent-%COMP%]   .salaTitleBox[_ngcontent-%COMP%]   .txtSalas[_ngcontent-%COMP%]{color:#fff}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .txtHistorial[_ngcontent-%COMP%]{background-color:#fff;width:15%;color:#000;margin-right:3px}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .orderByName[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .orderByDate[_ngcontent-%COMP%]{background-color:#fff;width:15%;margin-right:3px}.container[_ngcontent-%COMP%]   .bodyData[_ngcontent-%COMP%]   .artworksData[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px;height:300px}.container[_ngcontent-%COMP%]   .bodyData[_ngcontent-%COMP%]   .artworksData[_ngcontent-%COMP%]   .titleData[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .bodyData[_ngcontent-%COMP%]   .artworksData[_ngcontent-%COMP%]   .dateData[_ngcontent-%COMP%]{background-color:#fff;color:#000}.container[_ngcontent-%COMP%]   .editBtnDiv[_ngcontent-%COMP%]{place-content:center;margin-top:5px}.container[_ngcontent-%COMP%]   .editBtnDiv[_ngcontent-%COMP%]   .editBtn[_ngcontent-%COMP%]{width:200px;height:50px;border-radius:30px;border-color:#fff;border:2px solid white;color:#fff}.container[_ngcontent-%COMP%]   .txtStartBox[_ngcontent-%COMP%]{color:#000;margin-bottom:3px;margin-top:5px;height:30px;place-content:center}.container[_ngcontent-%COMP%]   .txtStartBox[_ngcontent-%COMP%]   .txtStart[_ngcontent-%COMP%]{background-color:#fff;color:#000;margin-right:3px;font-size:1rem;width:40%}.container[_ngcontent-%COMP%]   .txtStartBox[_ngcontent-%COMP%]   .txtStartDate[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-size:1rem}.container[_ngcontent-%COMP%]   .txtEndBox[_ngcontent-%COMP%]{color:#000;margin-top:3px;height:30px;place-content:center}.container[_ngcontent-%COMP%]   .txtEndBox[_ngcontent-%COMP%]   .txtEnd[_ngcontent-%COMP%]{background-color:#fff;color:#000;margin-right:3px;font-size:1rem;width:40%}.container[_ngcontent-%COMP%]   .txtEndBox[_ngcontent-%COMP%]   .txtEndDate[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-size:1rem}.container[_ngcontent-%COMP%]   .addBtnDiv[_ngcontent-%COMP%]{place-content:center;margin-top:5px}.container[_ngcontent-%COMP%]   .addBtnDiv[_ngcontent-%COMP%]   .addBtn[_ngcontent-%COMP%]{width:200px;height:50px;border-radius:30px;border-color:#fff;border:2px solid white;color:#fff}"]}),a})();const ae=["locateArtworks"];function ie(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"div",26),e.\u0275\u0275element(1,"div",27),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275styleMapInterpolate1("background-image: url(",t.pictureURL,");")}}function le(a,n){1&a&&e.\u0275\u0275template(0,ie,2,3,"ng-template",25)}function se(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"swiper",23),e.\u0275\u0275template(1,le,1,0,null,24),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("config",t.config),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.artworks)}}const ce=[{path:"",children:[{path:"sala/:id",component:ne},{path:"new-sala",component:J},{path:"edit-sala/:id",component:(()=>{class a{constructor(t,r,o,i){this.main=t,this.fb=r,this.modalService=o,this.route=i,this.artworks=[],this.config={spaceBetween:40,slidesPerView:4,grid:{rows:2,fill:"column"},modules:[y.rj]}}ngOnInit(){var t=this;return(0,l.Z)(function*(){t.salaID=t.route.snapshot.params.id,yield t.loadAndSet(),console.log("Artworks we get: ",t.artworks)})()}getAndSetArtworks(){var t=this;return(0,l.Z)(function*(){yield E.lL.get(t.salaID).then(r=>{console.log("SpaceRoom:",r)})})()}loadAndSet(){var t=this;return(0,l.Z)(function*(){let r=[];yield E.lL.get(t.salaID).then(o=>{t.salaName=o.result.languages[0].name,r=o.result.artworks,console.log("SpaceRoom name: ",o)}),r.forEach(function(){var o=(0,l.Z)(function*(i){t.artworks.push(yield t.setArtworks(i.artwork))});return function(i){return o.apply(this,arguments)}}())})()}setArtworks(t){return(0,l.Z)(function*(){console.log("New Artwork on result: ",t);let r=new Map;return r=t.postTimelapse.post.languages,new x(t.postTimelapse.createdAt,t.date,t.community.nickname,t.postTimelapse.post.files[0].path,Array.from(r.values())[0].title,t.artworkId)})()}cancelSala(){}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(v.J),e.\u0275\u0275directiveInject(C.qu),e.\u0275\u0275directiveInject(S.gk),e.\u0275\u0275directiveInject(P.gz))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-edit-sala"]],viewQuery:function(t,r){if(1&t&&e.\u0275\u0275viewQuery(ae,5),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(r.locateModal=o.first)}},decls:25,vars:2,consts:function(){let n,t,r,o;return n="NUEVA SALA",t="Nombre",r="Guardar",o="Cancelar",[[1,"content"],[1,"salaForm","row"],[1,"titleSala","col-sm","no-gutters"],n,[1,"form","row","no-gutters"],[1,"nameSala","row","no-gutters"],[1,"blankSpace","row"],[1,"blankName"],t,[1,"inputName","row"],["type","text","formControlName","salaType",1,"form-camp","inputBox",3,"ngModel"],[1,"container"],[1,"row"],[1,"col","artworks"],["swiperArtwork","","class","swiper",3,"config",4,"ngIf"],[1,"col","historial"],[3,"artwork"],[1,"btnControl","row"],[1,"col-sm","salaBtn"],["disabled","",1,"saveBtn","boing"],r,[1,"cancelBtn","boing",3,"click"],o,["swiperArtwork","",1,"swiper",3,"config"],[4,"ngFor","ngForOf"],["swiperSlide",""],[1,"artworkBox"],[1,"artworkImg","boing"]]},template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-banner"),e.\u0275\u0275elementStart(2,"div",1)(3,"div",2)(4,"h1"),e.\u0275\u0275i18n(5,3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),e.\u0275\u0275i18n(10,8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",9)(12,"input",10),e.\u0275\u0275listener("ngModel",function(){return r.salaName}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"div",11)(14,"div",12)(15,"div",13),e.\u0275\u0275template(16,se,2,2,"swiper",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",15),e.\u0275\u0275element(18,"app-history",16),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(19,"div",17)(20,"div",18)(21,"button",19),e.\u0275\u0275i18n(22,20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"button",21),e.\u0275\u0275listener("click",function(){return r.cancelSala()}),e.\u0275\u0275i18n(24,22),e.\u0275\u0275elementEnd()()()()()),2&t&&(e.\u0275\u0275advance(16),e.\u0275\u0275property("ngIf",r.artworks),e.\u0275\u0275advance(2),e.\u0275\u0275property("artwork",r.artworks))},dependencies:[u.NgForOf,u.NgIf,C.Fj,C.JJ,C.u,A.nF,A.YC,N.S,re],styles:[".salaForm[_ngcontent-%COMP%]{position:relative;top:30px}.salaForm[_ngcontent-%COMP%]   .titleSala[_ngcontent-%COMP%]{position:relative;left:32%;font-size:1.5rem;color:#fff}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .nameSala[_ngcontent-%COMP%]{position:relative;left:35%}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .nameSala[_ngcontent-%COMP%]   .blankSpace[_ngcontent-%COMP%]{width:150px;background-color:#fff;height:100%}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .nameSala[_ngcontent-%COMP%]   .blankSpace[_ngcontent-%COMP%]   .blankName[_ngcontent-%COMP%]{align-self:center;text-align-last:center}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .nameSala[_ngcontent-%COMP%]   .inputName[_ngcontent-%COMP%]{margin-left:15px;width:25%;border-radius:0}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .nameSala[_ngcontent-%COMP%]   .inputName[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]{background-color:#fff;color:#000;border-radius:0;border-color:no}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .ubicarObres[_ngcontent-%COMP%]{position:relative;width:auto;left:39%}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .ubicarObres[_ngcontent-%COMP%]   .ubicarBtn[_ngcontent-%COMP%]{margin-top:20px;width:200px;height:40px;border-radius:30px;border:0px;background-color:gray;font-weight:700}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin-top:10px}.salaForm[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .artworks[_ngcontent-%COMP%]{background-color:#5f5e5e;border:5px solid white;width:50%;margin-left:20px}.salaForm[_ngcontent-%COMP%]   .btnControl[_ngcontent-%COMP%]{position:relative;margin-top:25px;place-content:center}.salaForm[_ngcontent-%COMP%]   .btnControl[_ngcontent-%COMP%]   .salaBtn[_ngcontent-%COMP%]{display:contents}.salaForm[_ngcontent-%COMP%]   .btnControl[_ngcontent-%COMP%]   .salaBtn[_ngcontent-%COMP%]   .cancelBtn[_ngcontent-%COMP%]{display:flex;background-color:#909293;color:#fff;width:140px;height:40px;font-size:1rem;border:none;border-radius:30px;justify-content:center;align-items:center}.salaForm[_ngcontent-%COMP%]   .btnControl[_ngcontent-%COMP%]   .salaBtn[_ngcontent-%COMP%]   .saveBtn[_ngcontent-%COMP%]{display:flex;background-color:#c8d3d9;color:#000;width:140px;height:40px;font-size:1rem;border:none;border-radius:30px;margin-right:20px;justify-content:center;margin-left:20px;align-items:center}"]}),a})()}]}];let de=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[P.Bz.forChild(ce),P.Bz]}),a})();var pe=c(8041);let ge=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[de,u.CommonModule,pe.m,S.zk]}),a})()}}]);