!function(){var e,n,t;function r(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[676],{6676:function(i,u,s){"use strict";s.r(u),s.d(u,{HomeModule:function(){return S}});var l=s(1116),f=s(9616),p=s(2080),d=s(4762),m=s(8816),g=s(5366),h=s(2927),v=s(2316),b=s(5641),y=["publicacio"];function w(e,n){1&e&&g["\u0275\u0275element"](0,"app-publicacio",4,5),2&e&&g["\u0275\u0275property"]("p",n.$implicit)}function k(e,n){if(1&e){var t=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"div",6),g["\u0275\u0275element"](2,"i",7),g["\u0275\u0275text"](3,"\xa0"),g["\u0275\u0275elementContainerStart"](4),g["\u0275\u0275i18n"](5,8),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"button",9),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](t),g["\u0275\u0275nextContext"]().main.goTo("/search")}),g["\u0275\u0275i18n"](7,10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function C(e,n){if(1&e){var t=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",11),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](t),g["\u0275\u0275nextContext"]().carregarMes()}),g["\u0275\u0275i18n"](1,12),g["\u0275\u0275elementEnd"]()}}function M(e,n){1&e&&g["\u0275\u0275element"](0,"app-loading")}var P,x,O=[{path:"",children:[{path:"",component:(P=function(){function e(n,t){a(this,e),this.main=n,this.route=t,this.scroll=!0,this.numPublicacions=5,this.comptador=0,this.publicacions=[],this.primerCop=!0,this.encaraQueda={yourTimeline:!0,yourPreferences:!0,otherContent:!0},n.newPage(this)}var n,t,r;return n=e,(t=[{key:"ngOnInit",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.c.getToken()){e.next=8;break}return e.next=3,this.main.provider.getRandomPosts(5);case 3:return this.publicacions=e.sent,e.next=6,this.carregarMes();case 6:e.next=9;break;case 8:this.main.router.navigate(["/auth/login"]);case 9:case"end":return e.stop()}},e,this)}))}},{key:"ngOnDestroy",value:function(){this.main.onDestroyPage()}},{key:"carregarMes",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,this.carregant=!0,e.next=4,this.getMes();case 4:t=e.sent,this.carregant=!1,(n=this.publicacions).push.apply(n,o(t));case 7:case"end":return e.stop()}},e,this)}))}},{key:"getMes",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,this.main.provider.getRandomPosts(5);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}))}},{key:"onWindowScroll",value:function(){window,window.innerHeight+window.scrollY+10>=document.body.scrollHeight&&!this.carregant&&this.scroll&&this.carregarMes()}}])&&c(n.prototype,t),r&&c(n,r),e}(),P.\u0275fac=function(e){return new(e||P)(g["\u0275\u0275directiveInject"](h.J),g["\u0275\u0275directiveInject"](p.gz))},P.\u0275cmp=g["\u0275\u0275defineComponent"]({type:P,selectors:[["app-home"]],viewQuery:function(e,n){var t;1&e&&g["\u0275\u0275viewQuery"](y,5),2&e&&g["\u0275\u0275queryRefresh"](t=g["\u0275\u0275loadQuery"]())&&(n.publicacioComponents=t)},hostBindings:function(e,n){1&e&&g["\u0275\u0275listener"]("scroll",function(e){return n.onWindowScroll(e)},!1,g["\u0275\u0275resolveWindow"])("mousemove",function(e){return n.onWindowScroll(e)},!1,g["\u0275\u0275resolveWindow"])},decls:5,vars:4,consts:function(){return[[1,"content","align-center"],[3,"p",4,"ngFor","ngForOf"],[4,"ngIf"],["class","boto botoPrincipal fs-5",3,"click",4,"ngIf"],[3,"p"],["publicacio",""],[1,"noPublicacions"],[1,"fas","fa-check-circle"],"Ya lo has visto todo",[1,"boto","botoPrincipal","botoGran","reload",3,"click"],"Ve a Discover",[1,"boto","botoPrincipal","fs-5",3,"click"],"M\xE1s publicaciones +"]},template:function(e,n){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275template"](1,w,2,1,"app-publicacio",1),g["\u0275\u0275template"](2,k,8,0,"div",2),g["\u0275\u0275template"](3,C,2,0,"button",3),g["\u0275\u0275template"](4,M,1,0,"app-loading",2),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",n.publicacions),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!1),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!n.scroll&&!n.carregant),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",n.carregant))},directives:[l.NgForOf,l.NgIf,v.u,b.N],styles:[".content[_ngcontent-%COMP%]{max-width:940px;padding:20px 0 100px}.content[_ngcontent-%COMP%]   app-publicacio[_ngcontent-%COMP%]{display:block;margin-bottom:30px}.content[_ngcontent-%COMP%]   .noPublicacions[_ngcontent-%COMP%]{padding:1em;font-size:1.75em}.content[_ngcontent-%COMP%]   .reload[_ngcontent-%COMP%]{font-size:1.4em}"]}),P)}]}],I=function(){var e=function e(){a(this,e)};return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=g["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=g["\u0275\u0275defineInjector"]({imports:[[p.Bz.forChild(O)],p.Bz]}),e}(),S=((x=function e(){a(this,e)}).\u0275fac=function(e){return new(e||x)},x.\u0275mod=g["\u0275\u0275defineNgModule"]({type:x}),x.\u0275inj=g["\u0275\u0275defineInjector"]({imports:[[I,l.CommonModule,f.m]]}),x)}}])}();