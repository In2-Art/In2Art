{"version":3,"sources":["webpack:///src/app/in2art/pages/interests/interests-medium/interests-medium.component.html","webpack:///src/app/in2art/pages/interests/interests-medium/interests-medium.component.ts","webpack:///src/app/in2art/pages/interests/interests-movement/interests-movement.component.html","webpack:///src/app/in2art/pages/interests/interests-movement/interests-movement.component.ts","webpack:///src/app/in2art/pages/interests/interests-routing.module.ts","webpack:///src/app/in2art/pages/interests/interests.module.ts"],"names":["InterestsMediumComponent","main","mediumsTotals","interessosMin","loadingMedium","fotoNoImage","newPage","getUserMediums","data","params","mediums","movements","provider","getMediums","key","id_categoria","nom_categoria","push","id","name","img","replaceAll","toLowerCase","selected","Utils","includes","length","onDestroyPage","filter","e","map","console","log","slideDown","goTo","userMediums","getMediumsByUserId","currentUser","mediumsUser","forEach","element","submit","InterestsMovementComponent","movementsTotals","disabledButton","loadingMovment","getUserMovements","getMovements","id_estil","nom_estil","postMedium","resMed","postMovment","resMov","eh","hiHaError","toastDanger","toastSuccess","userMovements","getMovementsByUserId","movementsUser","back","routes","path","children","component","pathMatch","redirectTo","InterestsRoutingModule","RouterModule","InterestsModule","CommonModule","SharedModule","FormsModule","NgSelectModule","ImageCropperModule","ModalModule"],"mappings":"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","file":"src_app_in2art_pages_interests_interests_module_ts-es5.js","sourcesContent":["<div class=\"content\">\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            <h2 class=\"title\" i18n=\"@@Select your interests\">Select your interests</h2>\r\n            <h3 class=\"subtitle\" i18n=\"@@Medium\">Medium</h3>\r\n            <div class=\"mediums clearfix\">\r\n                <div *ngFor=\"let m of mediumsTotals\" class=\"medium\" [attr.data-selected]=\"m.selected\" [name]=\"m.name\" [attr.data-id]=\"m.id\" (click)=\"m.selected=!m.selected\">\r\n                    <img [src]=\"m.img\" alt=\"Image of {{m.name}}\" (error)=\"m.img = fotoNoImage\">\r\n                    <p class=\"text capitalizeFirst\">{{m.name}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"pleaseSelect1\" style=\"display:none;\" i18n=\"@@Please select interests minimum\">Please select {{interessosMin}} interests minimum</div>\r\n            <div *ngIf=\"loadingMedium\">\r\n                <app-loading></app-loading>\r\n            </div>\r\n            <div class=\"divSave\">\r\n                <button class=\"boto botoPrincipal botoPetit\" (click)=\"submit()\" i18n=\"@@Next\">Next</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Utils } from 'src/app/in2art/services/utils.service';\r\nimport { MainService } from './../../../services/main.service';\r\nimport * as $ from \"jquery\";\r\n\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-interests-medium',\r\n    templateUrl: './interests-medium.component.html',\r\n    styleUrls: ['./interests-medium.component.scss']\r\n})\r\nexport class InterestsMediumComponent implements OnInit {\r\n\r\n    mediumsTotals = [];\r\n\r\n    public interessosMin = 5;\r\n    public mediums;\r\n    public loadingMedium = true;\r\n    public readonly fotoNoImage = \"assets/in2art/imatges/noImageSmall.png\";\r\n\r\n    constructor(public main: MainService) {\r\n        main.newPage(this);\r\n    }\r\n\r\n    async ngOnInit() {\r\n        let data = await this.getUserMediums();\r\n       \r\n        if (!this.main.params) this.main.params = [];\r\n        if (!this.main.params.mediums) this.main.params.mediums = [];\r\n        if (!this.main.params.movements) this.main.params.movements = [];\r\n\r\n\r\n        let mediums: any = await this.main.provider.getMediums();\r\n        for (const key in mediums) {\r\n            if (mediums[key].id_categoria && mediums[key].nom_categoria && mediums[key].id_categoria != -1) {\r\n                this.mediumsTotals.push({\r\n                    id: mediums[key].id_categoria,\r\n                    name: mediums[key].nom_categoria,\r\n                    img: `assets/in2art/imatges/mediums/${mediums[key].nom_categoria.replaceAll('/', '-').toLowerCase()}.jpg`,\r\n                    selected: Utils.arrayConte(this.main.params?.mediums, mediums[key].id_categoria)\r\n                });\r\n            }\r\n            if (data?.includes(mediums[key].id_categoria) && !this.main.params.mediums.length) this.mediumsTotals[key].selected = true;\r\n        }\r\n        this.loadingMedium = false;\r\n    }\r\n    \r\n    ngOnDestroy() {\r\n        this.main.params.mediums = this.mediums;\r\n        this.main.onDestroyPage();\r\n    }\r\n    \r\n    public submit() {\r\n        //Comprovar si seleccionat almenys 1\r\n        this.mediums = this.mediumsTotals.filter(e => e.selected).map(e => e.id);\r\n        console.log(this.mediums);\r\n        \r\n        \r\n        if (this.mediums.length < this.interessosMin) {\r\n            $(\".pleaseSelect1\").slideDown(200);\r\n            return;\r\n        }\r\n\r\n        // this.main.setParams(this.mediums);\r\n        // Anar a 2a pantalla interests //\r\n        this.main.goTo(\"/interests/movement\");\r\n    }\r\n    \r\n    async getUserMediums() {\r\n        let userMediums = [];\r\n        let mediumsUser: any = await this.main.provider.getMediumsByUserId(this.main.currentUser.id);    \r\n        mediumsUser.forEach(element => userMediums.push(element.id_categoria));\r\n        return userMediums;\r\n    }\r\n}\r\n","<div class=\"content\">\r\n    <div class=\"card\">\r\n        <div class=\"card-body\">\r\n            <h2 class=\"title\" i18n=\"@@Select your interests\">Select your interests</h2>\r\n            <h3 class=\"subtitle\" i18n=\"@@Movement\">Movement</h3>\r\n            <div class=\"movements clearfix\">\r\n                <div *ngFor=\"let m of movementsTotals\" class=\"movement\" [attr.data-selected]=\"m.selected\" [name]=\"m.name\" [attr.data-id]=\"m.id\" (click)=\"m.selected=!m.selected\">\r\n                    <img [src]=\"m.img\" alt=\"Image of {{m.name}}\" (error)=\"m.img = fotoNoImage\">\r\n                    <p class=\"text capitalizeFirst\">{{m.name}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"pleaseSelect1\" style=\"display:none;\" i18n=\"@@Please select interests minimum\">Please select {{interessosMin}} interests minimum</div>\r\n            <div *ngIf=\"loadingMovment\">\r\n                <app-loading></app-loading>\r\n            </div>\r\n            <div class=\"divSave\">\r\n                <button class=\"boto botoPrincipal botoPetit botoText\" (click)=\"back()\">\r\n                    <i class=\"fas fa-chevron-left mr-1\"></i><ng-container i18n=\"@@Back\">Back</ng-container></button>\r\n                <button class=\"boto botoPrincipal botoPetit\" [disabled]=\"this.disabledButton\" (click)=\"submit()\" i18n=\"@@Next\">Next</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Utils } from 'src/app/in2art/services/utils.service';\r\nimport { MainService } from './../../../services/main.service';\r\nimport * as $ from \"jquery\";\r\n\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-interests-movement',\r\n    templateUrl: './interests-movement.component.html',\r\n    styleUrls: ['./interests-movement.component.scss']\r\n})\r\nexport class InterestsMovementComponent implements OnInit {\r\n\r\n    movementsTotals = [];\r\n\r\n    public interessosMin = 5;\r\n\r\n    public mediums;\r\n    public movements;\r\n    public disabledButton = false;\r\n    public loadingMovment = true;\r\n    public readonly fotoNoImage = \"assets/in2art/imatges/noImageSmall.png\";\r\n\r\n    constructor(public main: MainService) {\r\n        main.newPage(this);\r\n    }\r\n\r\n    async ngOnInit() {\r\n        let data = await this.getUserMovements();\r\n        // Pillem el valor de la pagina anterior //\r\n        // Que cardes, carallot? torna enrere! //\r\n        if (!this.main.params?.mediums || !this.main.params.mediums.length) this.main.goTo(\"/interests/medium\");\r\n\r\n        let movements: any = await this.main.provider.getMovements();\r\n        for (const key in movements) {\r\n            if (movements[key].id_estil && movements[key].nom_estil && movements[key].id_estil != -1) {\r\n                this.movementsTotals.push({\r\n                    id: movements[key].id_estil,\r\n                    name: movements[key].nom_estil,\r\n                    img: `assets/in2art/imatges/movements/${movements[key].nom_estil.replaceAll('/', '-').toLowerCase()}.jpg`,\r\n                    selected: Utils.arrayConte(this.main.params?.movements, movements[key].id_estil)\r\n                });\r\n            }\r\n            if (data?.includes(movements[key].id_estil) && !this.main.params.movements.length) this.movementsTotals[key].selected = true;\r\n        }\r\n        this.loadingMovment = false;\r\n    }\r\n    ngOnDestroy() {\r\n        if (!this.main.params) this.main.params = [];\r\n        this.main.params.movements = this.movementsTotals.filter(e => e.selected).map(e => e.id);\r\n        this.main.onDestroyPage();\r\n    }\r\n\r\n    public back() {\r\n        \r\n        this.main.goTo('/interests/medium');\r\n        // I si estaves tirant enrere amb les fletxes del navegador, doncs mira, mala llet, tu //\r\n    }\r\n\r\n    public async submit() {\r\n        //Comprovar si seleccionat almenys 1\r\n        this.movements = this.movementsTotals.filter(e => e.selected).map(e => e.id);\r\n        if (this.movements.length < this.interessosMin) {\r\n            $(\".pleaseSelect1\").slideDown(200);\r\n            return;\r\n        }\r\n        // Enviar peticio :P\r\n        this.disabledButton = true;\r\n        let resMed = await this.main.provider.postMedium(this.main.params.mediums);\r\n        let resMov = await this.main.provider.postMovment(this.main.params.movements);\r\n        this.disabledButton = false;\r\n        if (this.main.eh.hiHaError(resMed)) { this.main.toastDanger(\"Error saving mediums\"); return; }\r\n        if (this.main.eh.hiHaError(resMov)) { this.main.toastDanger(\"Error saving movements\"); return; }\r\n\r\n        this.main.toastSuccess(\"Interests saved successfully\");\r\n\r\n        delete this.main.params;\r\n\r\n        //Anar a pantalla correu enviat //\r\n        // this.main.goTo(\"/profile\");\r\n        this.main.goTo(\"/\");\r\n    }\r\n\r\n    async getUserMovements() {\r\n        let userMovements = [];\r\n        let movementsUser: any = await this.main.provider.getMovementsByUserId(this.main.currentUser.id);    \r\n        movementsUser.forEach(element => userMovements.push(element.id_estil));\r\n        return userMovements;\r\n    }\r\n    \r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { InterestsMediumComponent } from './interests-medium/interests-medium.component';\r\nimport { InterestsMovementComponent } from './interests-movement/interests-movement.component';\r\n\r\nconst routes: Routes = [{\r\n    path: '',\r\n    children: [\r\n        {\r\n            path: 'medium',\r\n            component: InterestsMediumComponent\r\n        },\r\n        {\r\n            path: 'movement',\r\n            component: InterestsMovementComponent\r\n        },\r\n        {\r\n            path: '',\r\n            pathMatch: 'full',\r\n            redirectTo: '/interests/medium'\r\n        },\r\n    ]\r\n}];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class InterestsRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../../../shared/shared.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\nimport { InterestsMediumComponent } from './interests-medium/interests-medium.component';\r\nimport { InterestsMovementComponent } from './interests-movement/interests-movement.component';\r\nimport { InterestsRoutingModule } from './interests-routing.module';\r\nimport { ImageCropperModule } from 'ngx-image-cropper';\r\nimport { ModalModule } from 'ngb-modal';\r\n\r\n@NgModule({\r\n    declarations: [InterestsMediumComponent, InterestsMovementComponent],\r\n    imports: [\r\n        InterestsRoutingModule,\r\n        CommonModule,\r\n        SharedModule,\r\n        FormsModule,\r\n        NgSelectModule,\r\n        ImageCropperModule,\r\n        ModalModule,\r\n    ]\r\n})\r\nexport class InterestsModule { }\r\n"]}